!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([,function(e,t,n){"use strict";n.r(t);n(3);const{LookerDataTable:r}=n(2),a=n(7);looker.plugins.visualizations.add({options:r.getCoreConfigOptions(),create:function(e,t){this.tooltip=a.select(e).append("div").attr("class","hidden").attr("id","tooltip")},updateAsync:function(e,t,n,i,s,o){if(this.clearErrors(),i.fields.pivots.length>2)this.addError({title:"Max Two Pivots",message:"This visualization accepts no more than 2 pivot fields."});else{try{var l=document.querySelector("#visContainer");l.parentNode.removeChild(l)}catch(e){}this.container=a.select(t).append("div").attr("id","visContainer"),void 0===n.columnOrder&&this.trigger("updateConfig",[{columnOrder:{}}]);var u=new r(e,i,n);this.trigger("registerOptions",u.getConfigOptions()),function(e,t,n){var r=null,i=a.select("#visContainer").append("table").attr("class","reportTable"),s=a.drag().on("start",(e,n)=>{if(!t.has_pivots){var r=parseFloat(a.event.x),i=parseFloat(a.event.y);a.select("#tooltip").style("left",r+"px").style("top",i+"px").html(),a.select("#tooltip").classed("hidden",!1)}}).on("drag",(e,n)=>{t.has_pivots||a.select("#tooltip").style("left",a.event.x+"px").style("top",a.event.y+"px")}).on("end",(i,s)=>{if(!t.has_pivots){a.select("#tooltip").classed("hidden",!0);var o=t.getColumnById(i.id),l=t.getColumnById(r.id),u=10*Math.floor(o.pos/10),h=10*Math.floor(l.pos/10);t.moveColumns(e,u,h,n)}});i.append("thead").selectAll("tr").data(t.getLevels()).enter().append("tr").selectAll("th").data((function(n,r){return t.getColumnsToDisplay(e,r).map((function(e){var n={hasPivots:t.has_pivots,withPivots:!1,level:r},a={id:e.id,text:e.getLabel(n),align:e.align,colspan:e.colspans[r]};return(t.useHeadings&&!t.has_pivots&&0===r||t.has_pivots&&r<t.pivot_fields.length)&&(a.align="center"),a}))})).enter().append("th").text(e=>e.text).attr("id",e=>e.id).attr("colspan",e=>e.colspan).attr("class",e=>{var t=[];return void 0!==e.align&&t.push(e.align),t.join(" ")}).attr("draggable",!0).call(s).on("mouseover",e=>r=e).on("mouseout",()=>r=null),i.append("tbody").selectAll("tr").data(t.data).enter().append("tr").selectAll("td").data((function(e){return t.getRow(e).map(t=>{var n=e.data[t.id];return n.rowspan=t.rowspan,n.align=t.align,n})})).enter().append("td").text(e=>e.rendered||e.value).attr("rowspan",e=>e.rowspan).attr("class",e=>{var t=[];return void 0!==e.align&&t.push(e.align),void 0!==e.cell_style&&(t=t.concat(e.cell_style)),t.join(" ")})}(n,u,e=>{this.trigger("updateConfig",[{columnOrder:e}])}),console.log("queryResponse",i),console.log("lookerDataTable",u),o()}}})},function(e,t){!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){var r={};!function(e){function t(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function n(e,t){for(var n="";n.length<t;)n+=e;return n}function r(e,t){var r=""+e;return r.length>=t?r:n("0",t-r.length)+r}function a(e,t){var r=""+e;return r.length>=t?r:n(" ",t-r.length)+r}function i(e,t){var r=""+e;return r.length>=t?r:r+n(" ",t-r.length)}e.version="0.11.0";var s=Math.pow(2,32);function o(e,t){return e>s||e<-s?function(e,t){var r=""+Math.round(e);return r.length>=t?r:n("0",t-r.length)+r}(e,t):function(e,t){var r=""+e;return r.length>=t?r:n("0",t-r.length)+r}(Math.round(e),t)}function l(e,t){return t=t||0,e.length>=7+t&&103==(32|e.charCodeAt(t))&&101==(32|e.charCodeAt(t+1))&&110==(32|e.charCodeAt(t+2))&&101==(32|e.charCodeAt(t+3))&&114==(32|e.charCodeAt(t+4))&&97==(32|e.charCodeAt(t+5))&&108==(32|e.charCodeAt(t+6))}var u=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],h=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function c(e){e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e[65535]="General"}var f={};function d(e,t,n){for(var r=e<0?-1:1,a=e*r,i=0,s=1,o=0,l=1,u=0,h=0,c=Math.floor(a);u<t&&(o=(c=Math.floor(a))*s+i,h=c*u+l,!(a-c<5e-8));)a=1/(a-c),i=s,s=o,l=u,u=h;if(h>t&&(u>t?(h=l,o=i):(h=u,o=s)),!n)return[0,r*o,h];var f=Math.floor(r*o/h);return[f,r*o-f*h,h]}function p(e,t,n){if(e>2958465||e<0)return null;var r=0|e,a=Math.floor(86400*(e-r)),i=0,s=[],o={D:r,T:a,u:86400*(e-r)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(r+=1462),o.u>.9999&&(o.u=0,86400==++a&&(o.T=a=0,++r,++o.D)),60===r)s=n?[1317,10,29]:[1900,2,29],i=3;else if(0===r)s=n?[1317,8,29]:[1900,1,0],i=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),r<60&&(i=(i+6)%7),n&&(i=0)}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}c(f),e.parse_date_code=p;var v=new Date(1899,11,31,0,0,0),m=v.getTime(),g=new Date(1900,2,1,0,0,0);function _(e,t){var n=e.getTime();return t?n-=1262304e5:e>=g&&(n+=864e5),(n-(m+6e4*(e.getTimezoneOffset()-v.getTimezoneOffset())))/864e5}e._general_int=function(e){return e.toString(10)};var b=function(){var e=/\.(\d*[1-9])0+$/,t=/\.0*$/,n=/\.(\d*[1-9])0+/,r=/\.0*[Ee]/,a=/(E[+-])(\d)$/;function i(n){return n.indexOf(".")>-1?n.replace(t,"").replace(e,".$1"):n}return function(t){var s,o=Math.floor(Math.log(Math.abs(t))*Math.LOG10E);return s=o>=-4&&o<=-1?t.toPrecision(10+o):Math.abs(o)<=9?function(e){var t=e<0?12:11,n=i(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10)).length<=t?n:e.toExponential(5)}(t):10===o?t.toFixed(10).substr(0,12):function(t){var n=t.toFixed(11).replace(e,".$1");return n.length>(t<0?12:11)&&(n=t.toPrecision(6)),n}(t),i(function(e){for(var t=0;t!=e.length;++t)if(101==(32|e.charCodeAt(t)))return e.replace(n,".$1").replace(r,"E").replace("e","E").replace(a,"$10$2");return e}(s))}}();function y(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(0|e)===e?e.toString(10):b(e);case"undefined":return"";case"object":if(null==e)return"";if(e instanceof Date)return T(14,_(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function w(e,t,n,a){var i,s="",o=0,l=0,c=n.y,f=0;switch(e){case 98:c=n.y+543;case 121:switch(t.length){case 1:case 2:i=c%100,f=2;break;default:i=c%1e4,f=4}break;case 109:switch(t.length){case 1:case 2:i=n.m,f=t.length;break;case 3:return h[n.m-1][1];case 5:return h[n.m-1][0];default:return h[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:i=n.d,f=t.length;break;case 3:return u[n.q][0];default:return u[n.q][1]}break;case 104:switch(t.length){case 1:case 2:i=1+(n.H+11)%12,f=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:i=n.H,f=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:i=n.M,f=t.length;break;default:throw"bad minute format: "+t}break;case 115:if("s"!=t&&"ss"!=t&&".0"!=t&&".00"!=t&&".000"!=t)throw"bad second format: "+t;return 0!==n.u||"s"!=t&&"ss"!=t?(l=a>=2?3===a?1e3:100:1===a?10:1,(o=Math.round(l*(n.S+n.u)))>=60*l&&(o=0),"s"===t?0===o?"0":""+o/l:(s=r(o,2+a),"ss"===t?s.substr(0,2):"."+s.substr(2,t.length-1))):r(n.S,t.length);case 90:switch(t){case"[h]":case"[hh]":i=24*n.D+n.H;break;case"[m]":case"[mm]":i=60*(24*n.D+n.H)+n.M;break;case"[s]":case"[ss]":i=60*(60*(24*n.D+n.H)+n.M)+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}f=3===t.length?1:2;break;case 101:i=c,f=1}return f>0?r(i,f):""}function x(e){if(e.length<=3)return e;for(var t=e.length%3,n=e.substr(0,t);t!=e.length;t+=3)n+=(n.length>0?",":"")+e.substr(t,3);return n}e._general_num=b,e._general=y;var $=function(){var e=/%/g,s=/# (\?+)( ?)\/( ?)(\d+)/,l=/^#*0*\.([0#]+)/,u=/\).*[0#]/,h=/\(###\) ###\\?-####/;function c(e){for(var t,n="",r=0;r!=e.length;++r)switch(t=e.charCodeAt(r)){case 35:break;case 63:n+=" ";break;case 48:n+="0";break;default:n+=String.fromCharCode(t)}return n}function f(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function p(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?0:Math.round((e-Math.floor(e))*Math.pow(10,t))}function v(m,g,_){if(40===m.charCodeAt(0)&&!g.match(u)){var b=g.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return _>=0?v("n",b,_):"("+v("n",b,-_)+")"}if(44===g.charCodeAt(g.length-1))return function(e,t,n){for(var r=t.length-1;44===t.charCodeAt(r-1);)--r;return $(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}(m,g,_);if(-1!==g.indexOf("%"))return function(t,r,a){var i=r.replace(e,""),s=r.length-i.length;return $(t,i,a*Math.pow(10,2*s))+n("%",s)}(m,g,_);if(-1!==g.indexOf("E"))return function e(t,n){var r,a=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(0==n)return"0.0E+0";if(n<0)return"-"+e(t,-n);var i=t.indexOf(".");-1===i&&(i=t.indexOf("E"));var s=Math.floor(Math.log(n)*Math.LOG10E)%i;if(s<0&&(s+=i),-1===(r=(n/Math.pow(10,s)).toPrecision(a+1+(i+s)%i)).indexOf("e")){var o=Math.floor(Math.log(n)*Math.LOG10E);for(-1===r.indexOf(".")?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+s):r+="E+"+(o-s);"0."===r.substr(0,2);)r=(r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function(e,t,n,r){return t+n+r.substr(0,(i+s)%i)+"."+r.substr(s)+"E"}))}else r=n.toExponential(a);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}(g,_);if(36===g.charCodeAt(0))return"$"+v(m,g.substr(" "==g.charAt(1)?2:1),_);var y,w,M,k,C=Math.abs(_),A=_<0?"-":"";if(g.match(/^00+$/))return A+o(C,g.length);if(g.match(/^[#?]+$/))return"0"===(y=o(_,0))&&(y=""),y.length>g.length?y:c(g.substr(0,g.length-y.length))+y;if(w=g.match(s))return function(e,t,i){var s=parseInt(e[4],10),o=Math.round(t*s),l=Math.floor(o/s),u=o-l*s,h=s;return i+(0===l?"":""+l)+" "+(0===u?n(" ",e[1].length+1+e[4].length):a(u,e[1].length)+e[2]+"/"+e[3]+r(h,e[4].length))}(w,C,A);if(g.match(/^#+0+$/))return A+o(C,g.length-g.indexOf("0"));if(w=g.match(l))return y=f(_,w[1].length).replace(/^([^\.]+)$/,"$1."+c(w[1])).replace(/\.$/,"."+c(w[1])).replace(/\.(\d*)$/,(function(e,t){return"."+t+n("0",c(w[1]).length-t.length)})),-1!==g.indexOf("0.")?y:y.replace(/^0\./,".");if(g=g.replace(/^#+([0.])/,"$1"),w=g.match(/^(0*)\.(#*)$/))return A+f(C,w[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,w[1].length?"0.":".");if(w=g.match(/^#{1,3},##0(\.?)$/))return A+x(o(C,0));if(w=g.match(/^#,##0\.([#0]*0)$/))return _<0?"-"+v(m,g,-_):x(""+(Math.floor(_)+function(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}(_,w[1].length)))+"."+r(p(_,w[1].length),w[1].length);if(w=g.match(/^#,#*,#0/))return v(m,g.replace(/^#,#*,/,""),_);if(w=g.match(/^([0#]+)(\\?-([0#]+))+$/))return y=t(v(m,g.replace(/[\\-]/g,""),_)),M=0,t(t(g.replace(/\\/g,"")).replace(/[0#]/g,(function(e){return M<y.length?y.charAt(M++):"0"===e?"0":""})));if(g.match(h))return"("+(y=v(m,"##########",_)).substr(0,3)+") "+y.substr(3,3)+"-"+y.substr(6);var S="";if(w=g.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return M=Math.min(w[4].length,7),k=d(C,Math.pow(10,M)-1,!1),y=""+A," "==(S=$("n",w[1],k[1])).charAt(S.length-1)&&(S=S.substr(0,S.length-1)+"0"),y+=S+w[2]+"/"+w[3],(S=i(k[2],M)).length<w[4].length&&(S=c(w[4].substr(w[4].length-S.length))+S),y+=S;if(w=g.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return M=Math.min(Math.max(w[1].length,w[4].length),7),A+((k=d(C,Math.pow(10,M)-1,!0))[0]||(k[1]?"":"0"))+" "+(k[1]?a(k[1],M)+w[2]+"/"+w[3]+i(k[2],M):n(" ",2*M+1+w[2].length+w[3].length));if(w=g.match(/^[#0?]+$/))return y=o(_,0),g.length<=y.length?y:c(g.substr(0,g.length-y.length))+y;if(w=g.match(/^([#0?]+)\.([#0]+)$/)){y=""+_.toFixed(Math.min(w[2].length,10)).replace(/([^0])0+$/,"$1"),M=y.indexOf(".");var O=g.indexOf(".")-M,E=g.length-y.length-O;return c(g.substr(0,O)+y+g.substr(g.length-E))}if(w=g.match(/^00,000\.([#0]*0)$/))return M=p(_,w[1].length),_<0?"-"+v(m,g,-_):x(function(e){return e<2147483647&&e>-2147483648?""+(e>=0?0|e:e-1|0):""+Math.floor(e)}(_)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function(e){return"00,"+(e.length<3?r(0,3-e.length):"")+e}))+"."+r(M,w[1].length);switch(g){case"###,##0.00":return v(m,"#,##0.00",_);case"###,###":case"##,###":case"#,###":var T=x(o(C,0));return"0"!==T?A+T:"";case"###,###.00":return v(m,"###,##0.00",_).replace(/^0\./,".");case"#,###.00":return v(m,"#,##0.00",_).replace(/^0\./,".")}throw new Error("unsupported format |"+g+"|")}function m(o,f,p){if(40===o.charCodeAt(0)&&!f.match(u)){var v=f.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return p>=0?m("n",v,p):"("+m("n",v,-p)+")"}if(44===f.charCodeAt(f.length-1))return function(e,t,n){for(var r=t.length-1;44===t.charCodeAt(r-1);)--r;return $(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}(o,f,p);if(-1!==f.indexOf("%"))return function(t,r,a){var i=r.replace(e,""),s=r.length-i.length;return $(t,i,a*Math.pow(10,2*s))+n("%",s)}(o,f,p);if(-1!==f.indexOf("E"))return function e(t,n){var r,a=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(0==n)return"0.0E+0";if(n<0)return"-"+e(t,-n);var i=t.indexOf(".");-1===i&&(i=t.indexOf("E"));var s=Math.floor(Math.log(n)*Math.LOG10E)%i;if(s<0&&(s+=i),!(r=(n/Math.pow(10,s)).toPrecision(a+1+(i+s)%i)).match(/[Ee]/)){var o=Math.floor(Math.log(n)*Math.LOG10E);-1===r.indexOf(".")?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+s):r+="E+"+(o-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function(e,t,n,r){return t+n+r.substr(0,(i+s)%i)+"."+r.substr(s)+"E"}))}else r=n.toExponential(a);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}(f,p);if(36===f.charCodeAt(0))return"$"+m(o,f.substr(" "==f.charAt(1)?2:1),p);var g,_,b,y,w=Math.abs(p),M=p<0?"-":"";if(f.match(/^00+$/))return M+r(w,f.length);if(f.match(/^[#?]+$/))return g=""+p,0===p&&(g=""),g.length>f.length?g:c(f.substr(0,f.length-g.length))+g;if(_=f.match(s))return function(e,t,r){return r+(0===t?"":""+t)+n(" ",e[1].length+2+e[4].length)}(_,w,M);if(f.match(/^#+0+$/))return M+r(w,f.length-f.indexOf("0"));if(_=f.match(l))return g=(g=(""+p).replace(/^([^\.]+)$/,"$1."+c(_[1])).replace(/\.$/,"."+c(_[1]))).replace(/\.(\d*)$/,(function(e,t){return"."+t+n("0",c(_[1]).length-t.length)})),-1!==f.indexOf("0.")?g:g.replace(/^0\./,".");if(f=f.replace(/^#+([0.])/,"$1"),_=f.match(/^(0*)\.(#*)$/))return M+(""+w).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,_[1].length?"0.":".");if(_=f.match(/^#{1,3},##0(\.?)$/))return M+x(""+w);if(_=f.match(/^#,##0\.([#0]*0)$/))return p<0?"-"+m(o,f,-p):x(""+p)+"."+n("0",_[1].length);if(_=f.match(/^#,#*,#0/))return m(o,f.replace(/^#,#*,/,""),p);if(_=f.match(/^([0#]+)(\\?-([0#]+))+$/))return g=t(m(o,f.replace(/[\\-]/g,""),p)),b=0,t(t(f.replace(/\\/g,"")).replace(/[0#]/g,(function(e){return b<g.length?g.charAt(b++):"0"===e?"0":""})));if(f.match(h))return"("+(g=m(o,"##########",p)).substr(0,3)+") "+g.substr(3,3)+"-"+g.substr(6);var k="";if(_=f.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return b=Math.min(_[4].length,7),y=d(w,Math.pow(10,b)-1,!1),g=""+M," "==(k=$("n",_[1],y[1])).charAt(k.length-1)&&(k=k.substr(0,k.length-1)+"0"),g+=k+_[2]+"/"+_[3],(k=i(y[2],b)).length<_[4].length&&(k=c(_[4].substr(_[4].length-k.length))+k),g+=k;if(_=f.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return b=Math.min(Math.max(_[1].length,_[4].length),7),M+((y=d(w,Math.pow(10,b)-1,!0))[0]||(y[1]?"":"0"))+" "+(y[1]?a(y[1],b)+_[2]+"/"+_[3]+i(y[2],b):n(" ",2*b+1+_[2].length+_[3].length));if(_=f.match(/^[#0?]+$/))return g=""+p,f.length<=g.length?g:c(f.substr(0,f.length-g.length))+g;if(_=f.match(/^([#0]+)\.([#0]+)$/)){g=""+p.toFixed(Math.min(_[2].length,10)).replace(/([^0])0+$/,"$1"),b=g.indexOf(".");var C=f.indexOf(".")-b,A=f.length-g.length-C;return c(f.substr(0,C)+g+f.substr(f.length-A))}if(_=f.match(/^00,000\.([#0]*0)$/))return p<0?"-"+m(o,f,-p):x(""+p).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function(e){return"00,"+(e.length<3?r(0,3-e.length):"")+e}))+"."+r(0,_[1].length);switch(f){case"###,###":case"##,###":case"#,###":var S=x(""+w);return"0"!==S?M+S:"";default:if(f.match(/\.[0#?]*$/))return m(o,f.slice(0,f.lastIndexOf(".")),p)+c(f.slice(f.lastIndexOf(".")))}throw new Error("unsupported format |"+f+"|")}return function(e,t,n){return(0|n)===n?m(e,t,n):v(e,t,n)}}();function M(e){for(var t=[],n=!1,r=0,a=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(a,r-a),a=r+1}if(t[t.length]=e.substr(a),!0===n)throw new Error("Format |"+e+"| unterminated string ");return t}e._split=M;var k=/\[[HhMmSs]*\]/;function C(e){for(var t=0,n="",r="";t<e.length;)switch(n=e.charAt(t)){case"G":l(e,t)&&(t+=6),t++;break;case'"':for(;34!==e.charCodeAt(++t)&&t<e.length;);++t;break;case"\\":case"_":t+=2;break;case"@":++t;break;case"B":case"b":if("1"===e.charAt(t+1)||"2"===e.charAt(t+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":if("A/P"===e.substr(t,3).toUpperCase())return!0;if("AM/PM"===e.substr(t,5).toUpperCase())return!0;++t;break;case"[":for(r=n;"]"!==e.charAt(t++)&&t<e.length;)r+=e.charAt(t);if(r.match(k))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||"\\"==n&&"-"==e.charAt(t+1)&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t," "!=e.charAt(t)&&"*"!=e.charAt(t)||++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":default:++t}return!1}function A(e,t,n,r){for(var a,i,s,o=[],u="",h=0,c="",f="t",d="H";h<e.length;)switch(c=e.charAt(h)){case"G":if(!l(e,h))throw new Error("unrecognized character "+c+" in "+e);o[o.length]={t:"G",v:"General"},h+=7;break;case'"':for(u="";34!==(s=e.charCodeAt(++h))&&h<e.length;)u+=String.fromCharCode(s);o[o.length]={t:"t",v:u},++h;break;case"\\":var v=e.charAt(++h),m="("===v||")"===v?v:"t";o[o.length]={t:m,v:v},++h;break;case"_":o[o.length]={t:"t",v:" "},h+=2;break;case"@":o[o.length]={t:"T",v:t},++h;break;case"B":case"b":if("1"===e.charAt(h+1)||"2"===e.charAt(h+1)){if(null==a&&null==(a=p(t,n,"2"===e.charAt(h+1))))return"";o[o.length]={t:"X",v:e.substr(h,2)},f=c,h+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0)return"";if(null==a&&null==(a=p(t,n)))return"";for(u=c;++h<e.length&&e.charAt(h).toLowerCase()===c;)u+=c;"m"===c&&"h"===f.toLowerCase()&&(c="M"),"h"===c&&(c=d),o[o.length]={t:c,v:u},f=c;break;case"A":case"a":var g={t:c,v:c};if(null==a&&(a=p(t,n)),"A/P"===e.substr(h,3).toUpperCase()?(null!=a&&(g.v=a.H>=12?"P":"A"),g.t="T",d="h",h+=3):"AM/PM"===e.substr(h,5).toUpperCase()?(null!=a&&(g.v=a.H>=12?"PM":"AM"),g.t="T",h+=5,d="h"):(g.t="t",++h),null==a&&"T"===g.t)return"";o[o.length]=g,f=c;break;case"[":for(u=c;"]"!==e.charAt(h++)&&h<e.length;)u+=e.charAt(h);if("]"!==u.slice(-1))throw'unterminated "[" block: |'+u+"|";if(u.match(k)){if(null==a&&null==(a=p(t,n)))return"";o[o.length]={t:"Z",v:u.toLowerCase()},f=u.charAt(1)}else u.indexOf("$")>-1&&(u=(u.match(/\$([^-\[\]]*)/)||[])[1]||"$",C(e)||(o[o.length]={t:"t",v:u}));break;case".":if(null!=a){for(u=c;++h<e.length&&"0"===(c=e.charAt(h));)u+=c;o[o.length]={t:"s",v:u};break}case"0":case"#":for(u=c;++h<e.length&&"0#?.,E+-%".indexOf(c=e.charAt(h))>-1;)u+=c;o[o.length]={t:"n",v:u};break;case"?":for(u=c;e.charAt(++h)===c;)u+=c;o[o.length]={t:c,v:u},f=c;break;case"*":++h," "!=e.charAt(h)&&"*"!=e.charAt(h)||++h;break;case"(":case")":o[o.length]={t:1===r?"t":c,v:c},++h;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(u=c;h<e.length&&"0123456789".indexOf(e.charAt(++h))>-1;)u+=e.charAt(h);o[o.length]={t:"D",v:u};break;case" ":o[o.length]={t:c,v:c},++h;break;case"$":o[o.length]={t:"t",v:"$"},++h;break;default:if(-1===",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(c))throw new Error("unrecognized character "+c+" in "+e);o[o.length]={t:"t",v:c},++h}var _,b=0,x=0;for(h=o.length-1,f="t";h>=0;--h)switch(o[h].t){case"h":case"H":o[h].t=d,f="h",b<1&&(b=1);break;case"s":(_=o[h].v.match(/\.0+$/))&&(x=Math.max(x,_[0].length-1)),b<3&&(b=3);case"d":case"y":case"M":case"e":f=o[h].t;break;case"m":"s"===f&&(o[h].t="M",b<2&&(b=2));break;case"X":break;case"Z":b<1&&o[h].v.match(/[Hh]/)&&(b=1),b<2&&o[h].v.match(/[Mm]/)&&(b=2),b<3&&o[h].v.match(/[Ss]/)&&(b=3)}switch(b){case 0:break;case 1:a.u>=.5&&(a.u=0,++a.S),a.S>=60&&(a.S=0,++a.M),a.M>=60&&(a.M=0,++a.H);break;case 2:a.u>=.5&&(a.u=0,++a.S),a.S>=60&&(a.S=0,++a.M)}var M,A="";for(h=0;h<o.length;++h)switch(o[h].t){case"t":case"T":case" ":case"D":break;case"X":o[h].v="",o[h].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":o[h].v=w(o[h].t.charCodeAt(0),o[h].v,a,x),o[h].t="t";break;case"n":case"?":for(M=h+1;null!=o[M]&&("?"===(c=o[M].t)||"D"===c||(" "===c||"t"===c)&&null!=o[M+1]&&("?"===o[M+1].t||"t"===o[M+1].t&&"/"===o[M+1].v)||"("===o[h].t&&(" "===c||"n"===c||")"===c)||"t"===c&&("/"===o[M].v||" "===o[M].v&&null!=o[M+1]&&"?"==o[M+1].t));)o[h].v+=o[M].v,o[M]={v:"",t:";"},++M;A+=o[h].v,h=M-1;break;case"G":o[h].t="t",o[h].v=y(t,n)}var S,O,E="";if(A.length>0){40==A.charCodeAt(0)?(S=t<0&&45===A.charCodeAt(0)?-t:t,O=$("n",A,S)):(O=$("n",A,S=t<0&&r>1?-t:t),S<0&&o[0]&&"t"==o[0].t&&(O=O.substr(1),o[0].v="-"+o[0].v)),M=O.length-1;var T=o.length;for(h=0;h<o.length;++h)if(null!=o[h]&&"t"!=o[h].t&&o[h].v.indexOf(".")>-1){T=h;break}var P=o.length;if(T===o.length&&-1===O.indexOf("E")){for(h=o.length-1;h>=0;--h)null!=o[h]&&-1!=="n?".indexOf(o[h].t)&&(M>=o[h].v.length-1?(M-=o[h].v.length,o[h].v=O.substr(M+1,o[h].v.length)):M<0?o[h].v="":(o[h].v=O.substr(0,M+1),M=-1),o[h].t="t",P=h);M>=0&&P<o.length&&(o[P].v=O.substr(0,M+1)+o[P].v)}else if(T!==o.length&&-1===O.indexOf("E")){for(M=O.indexOf(".")-1,h=T;h>=0;--h)if(null!=o[h]&&-1!=="n?".indexOf(o[h].t)){for(i=o[h].v.indexOf(".")>-1&&h===T?o[h].v.indexOf(".")-1:o[h].v.length-1,E=o[h].v.substr(i+1);i>=0;--i)M>=0&&("0"===o[h].v.charAt(i)||"#"===o[h].v.charAt(i))&&(E=O.charAt(M--)+E);o[h].v=E,o[h].t="t",P=h}for(M>=0&&P<o.length&&(o[P].v=O.substr(0,M+1)+o[P].v),M=O.indexOf(".")+1,h=T;h<o.length;++h)if(null!=o[h]&&(-1!=="n?(".indexOf(o[h].t)||h===T)){for(i=o[h].v.indexOf(".")>-1&&h===T?o[h].v.indexOf(".")+1:0,E=o[h].v.substr(0,i);i<o[h].v.length;++i)M<O.length&&(E+=O.charAt(M++));o[h].v=E,o[h].t="t",P=h}}}for(h=0;h<o.length;++h)null!=o[h]&&"n?".indexOf(o[h].t)>-1&&(S=r>1&&t<0&&h>0&&"-"===o[h-1].v?-t:t,o[h].v=$(o[h].t,o[h].v,S),o[h].t="t");var D="";for(h=0;h!==o.length;++h)null!=o[h]&&(D+=o[h].v);return D}e.is_date=C,e._eval=A;var S=/\[[=<>]/,O=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function E(e,t){if(null==t)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0}return!1}function T(e,t,n){null==n&&(n={});var r="";switch(typeof e){case"string":r="m/d/yy"==e&&n.dateNF?n.dateNF:e;break;case"number":r=14==e&&n.dateNF?n.dateNF:(null!=n.table?n.table:f)[e]}if(l(r,0))return y(t,n);t instanceof Date&&(t=_(t,n.date1904));var a=function(e,t){var n=M(e),r=n.length,a=n[r-1].indexOf("@");if(r<4&&a>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if("number"!=typeof t)return[4,4===n.length||a>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=a>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=a>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=a>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"]}var i=t>0?n[0]:t<0?n[1]:n[2];if(-1===n[0].indexOf("[")&&-1===n[1].indexOf("["))return[r,i];if(null!=n[0].match(S)||null!=n[1].match(S)){var s=n[0].match(O),o=n[1].match(O);return E(t,s)?[r,n[0]]:E(t,o)?[r,n[1]]:[r,n[null!=s&&null!=o?2:1]]}return[r,i]}(r,t);if(l(a[1]))return y(t,n);if(!0===t)t="TRUE";else if(!1===t)t="FALSE";else if(""===t||null==t)return"";return A(a[1],t,n,a[0])}function P(e,t){if("number"!=typeof t){t=+t||-1;for(var n=0;n<392;++n)if(null!=f[n]){if(f[n]==e){t=n;break}}else t<0&&(t=n);t<0&&(t=391)}return f[t]=e,t}e.load=P,e._table=f,e.get_table=function(){return f},e.load_table=function(e){for(var t=0;392!=t;++t)void 0!==e[t]&&P(e[t],t)},e.init_table=c,e.format=T}(r),"undefined"==typeof DO_NOT_EXPORT_SSF&&(e.exports=r)},function(e,n,r){"use strict";r.r(n);var a=r(0),i=r.n(a);const s=function(e,t){for(var n=[],r=0;r<e;r++)n.push(t);return n},o={columnOrder:{},rowSubtotals:{section:"Table",type:"boolean",label:"Row Subtotals",display_size:"half",default:"false",order:1},colSubtotals:{section:"Table",type:"boolean",label:"Col Subtotals",display_size:"half",default:"false",order:2},spanRows:{section:"Table",type:"boolean",label:"Merge Dims",display_size:"half",default:"true",order:3},spanCols:{section:"Table",type:"boolean",label:"Merge Headers",display_size:"half",default:"true",order:4},subtotalDepth:{section:"Table",type:"number",label:"Sub Total Depth",default:1,order:5},sortColumnsBy:{section:"Table",type:"string",display:"select",label:"Sort Columns By",values:[{Pivots:"getSortByPivots"},{Measures:"getSortByMeasures"}],default:"getSortByPivots",order:6},useViewName:{section:"Table",type:"boolean",label:"Include View Name",default:"false",order:7},useHeadings:{section:"Table",type:"boolean",label:"Use Headings (non-pivots only)",default:"false",order:8},useShortName:{section:"Table",type:"boolean",label:"Use Short Name (from model)",default:"false",order:9},indexColumn:{section:"Dimensions",type:"boolean",label:"Use Last Field Only",default:"false",order:0}};class l{constructor(e){this.id="",this.type=e,this.sort=[],this.data={}}}class u{constructor(e,t){this.parent=e,this.id=t,this.idx=0,this.pos=0,this.heading="",this.short_name="",this.unit="",this.label="",this.view="",this.levels=[],this.field={},this.field_name="",this.type="",this.pivoted=!1,this.subtotal=!1,this.super=!1,this.pivot_key="",this.align="",this.value_format="",this.hide=!1,this.sort_by_measure_values=[],this.sort_by_pivot_values=[]}getLabel(e){e=Object.assign({hasPivots:!1,withPivots:!1,level:0},e);var t=this.parent.useShortName&&this.short_name||this.label,n="label|"+this.field_name;return void 0!==this.parent.config[n]&&this.parent.config[n]!==this.label&&(t=this.parent.config[n]?this.parent.config[n]:t),this.parent.useViewName&&(t=[this.view,t].join(" ")),this.parent.has_pivots?(e.withPivots&&(t=[t,this.levels.join(" ")].join(" ")),"getSortByPivots"===this.parent.sortColsBy?e.level<this.levels.length&&(t=this.levels[e.level]):e.level>=1&&(t=this.levels[e.level-1])):this.parent.useHeadings&&0===e.level&&(n="heading|"+this.field_name,t=void 0!==this.parent.config[n]&&this.parent.config[n]?this.parent.config[n]:this.heading),t}updateSortByMeasures(e){1==this.sort_by_measure_values[0]&&(this.pivoted||this.subtotal||(this.sort_by_measure_values=[1,e]))}getSortByMeasures(){return this.sort_by_measure_values}getSortByPivots(){return this.sort_by_pivot_values}}t.LookerDataTable=class{constructor(e,t,n){this.config=n,this.columns=[],this.dimensions=[],this.measures=[],this.data=[],this.pivot_fields=[],this.pivot_values=[],this.rowspan_values={},this.useIndexColumn=n.indexColumn||!1,this.useHeadings=n.useHeadings||!1,this.useShortName=n.useShortName||!1,this.useViewName=n.useViewName||!1,this.addRowSubtotals=n.rowSubtotals||!1,this.addSubtotalDepth=n.subtotalDepth||this.dimensions.length-1,this.spanRows=n.spanRows,this.spanCols=n.spanCols,this.sortColsBy=n.sortColumnsBy||"getSortByPivots",this.has_totals=!1,this.has_subtotals=!1,this.has_row_totals=t.has_row_totals||!1,this.has_pivots=!1,this.has_supers=!1,this.variances=[],this.checkPivotsAndSupermeasures(t),this.checkVarianceCalculations(n),this.addDimensions(n,t,0),this.addMeasures(n,t,0),this.buildIndexColumn(t),this.buildRows(e),this.buildTotals(t),this.updateRowSpanValues(),n.rowSubtotals&&this.addSubTotals(n.subtotalDepth),n.colSubtotals&&2==this.pivot_fields.length&&this.addColumnSubTotals(),this.addVarianceColumns(n),this.sortColumns(),this.applyFormatting(n)}static getCoreConfigOptions(){return o}getConfigOptions(){for(var e=o,t=0;t<this.dimensions.length;t++)e["label|"+this.dimensions[t].name]={section:"Dimensions",type:"string",label:this.dimensions[t].label,default:this.dimensions[t].label,order:10*t+1},e["heading|"+this.dimensions[t].name]={section:"Dimensions",type:"string",label:"Heading",default:"",order:10*t+2},e["hide|"+this.dimensions[t].name]={section:"Dimensions",type:"boolean",label:"Hide",display_size:"third",order:10*t+3};for(t=0;t<this.measures.length;t++){e["label|"+this.measures[t].name]={section:"Measures",type:"string",label:this.measures[t].label_short||this.measures[t].label,default:this.measures[t].label_short||this.measures[t].label,order:100+10*t+1},e["heading|"+this.measures[t].name]={section:"Measures",type:"string",label:"Heading for "+(this.measures[t].label_short||this.measures[t].label),default:"",order:100+10*t+2},e["style|"+this.measures[t].name]={section:"Measures",type:"string",label:"Style",display:"select",values:[{Normal:"normal"},{"Black/Red":"black_red"},{Hide:"hide"}],order:100+10*t+3};for(var n=[],r=0;r<this.measures.length;r++){var a=this.measures[t].can_pivot===this.measures[r].can_pivot||this.has_row_totals&&!this.measures[r].is_table_calculation;if(t!=r&&a){var i={};i["vs. "+this.measures[r].label]=this.measures[r].name,n.push(i)}}n.unshift({"(none)":"no_variance"}),e["comparison|"+this.measures[t].name]={section:"Measures",type:"string",label:"Comparison",display:"select",values:n,order:100+10*t+5},e["switch|"+this.measures[t].name]={section:"Measures",type:"boolean",label:"Switch",display_size:"third",order:100+10*t+6},e["var_num|"+this.measures[t].name]={section:"Measures",type:"boolean",label:"Var #",display_size:"third",order:100+10*t+7},e["var_pct|"+this.measures[t].name]={section:"Measures",type:"boolean",label:"Var %",display_size:"third",order:100+10*t+8}}return e}checkPivotsAndSupermeasures(e){for(var t=0;t<e.fields.pivots.length;t++){var n=e.fields.pivots[t].name;this.pivot_fields.push(n)}void 0!==e.pivots&&(this.pivot_values=e.pivots,this.has_pivots=!0),void 0!==e.fields.supermeasure_like&&(this.has_supers=!0)}checkVarianceCalculations(e){Object.keys(e).forEach(t=>{if(t.startsWith("comparison")){var n=t.split("|")[1];if(this.pivot_fields.includes(e[t]))var r="by_pivot";else r="vs_measure";if(void 0!==e["switch|"+n])if(e["switch|"+n])var a=!0;else a=!1;this.variances.push({baseline:n,comparison:e[t],type:r,reverse:a})}})}applyVisToolsTags(e,t){if(void 0!==e.tags)for(var n=0;n<e.tags.length;n++){var r=e.tags[n].split(":");"vis-tools"===r[0]&&("heading"===r[1]?t.heading=r[2]:"short_name"===r[1]?t.short_name=r[2]:"unit"===r[1]&&(t.unit=r[2]))}}addDimensions(e,t,n){for(var r=0;r<t.fields.dimension_like.length;r++){var a={name:t.fields.dimension_like[r].name,label:t.fields.dimension_like[r].label_short||t.fields.dimension_like[r].label,view:t.fields.dimension_like[r].view_label||""};this.applyVisToolsTags(t.fields.dimension_like[r],a),this.dimensions.push(a);var i=new u(this,t.fields.dimension_like[r].name);i.idx=n,i.levels=s(t.fields.pivots.length,""),i.field=t.fields.dimension_like[r],i.field_name=i.field.name,i.heading=a.heading,i.short_name=a.short_name,i.unit=a.unit,i.label=i.field.label_short||i.field.label,i.view=i.field.view_label,i.type="dimension",i.align="left",i.value_format=i.field.value_format,i.pivoted=!1,i.super=!1,i.sort_by_measure_values=[0,n,...s(this.pivot_fields.length,0)],i.sort_by_pivot_values=[0,...s(this.pivot_fields.length,0),n],void 0!==e["hide|"+i.id]&&e["hide|"+i.id]&&(i.hide=!0),this.columns.push(i),n+=10}}addMeasures(e,t,n){for(var r=0;r<t.fields.measure_like.length;r++){var a={name:t.fields.measure_like[r].name,label:t.fields.measure_like[r].label_short||t.fields.measure_like[r].label,view:t.fields.measure_like[r].view_label||"",is_table_calculation:void 0!==t.fields.measure_like[r].is_table_calculation,can_pivot:!0,value_format:t.fields.measure_like[r].value_format||""};console.log("addMeasures newMeasure.name",a.name),void 0!==e["style|"+a.name]&&"hide"===e["style|"+a.name]&&(a.hide=!0),this.applyVisToolsTags(t.fields.measure_like[r],a),this.measures.push(a)}if(this.has_pivots){for(var i=0;i<this.pivot_values.length;i++)for(r=0;r<this.measures.length;r++)if("$$$_row_total_$$$"!=this.pivot_values[i].key||"$$$_row_total_$$$"==this.pivot_values[i].key&&0==this.measures[r].is_table_calculation){for(var o=this.pivot_values[i].key,l=this.measures[r].name,h=o+"."+l,c=[],f=[],d=0;d<t.fields.pivots.length;d++){var p=t.fields.pivots[d].name;c.push(this.pivot_values[i].data[p]),f.push(this.pivot_values[i].sort_values[p])}(m=new u(this,h)).idx=n,m.levels=c,m.field=t.fields.measure_like[r],m.heading=this.measures[r].heading,m.short_name=this.measures[r].short_name,m.unit=this.measures[r].unit,m.label=m.field.label_short||m.field.label,m.view=m.field.view_label,m.type="measure",m.align="right",m.value_format=m.field.value_format,m.pivoted=!0,m.super=!1,m.pivot_key=o,m.field_name=l,"$$$_row_total_$$$"!==this.pivot_values[i].key?(m.sort_by_measure_values=[1,r,...f],m.sort_by_pivot_values=[1,...f,n]):(m.sort_by_measure_values=[2,r,...s(this.pivot_fields.length,0)],m.sort_by_pivot_values=[2,...s(this.pivot_fields.length,0),n]),m.hide=this.measures[r].hide,this.columns.push(m),n+=10}}else for(r=0;r<this.measures.length;r++){(m=new u(this,this.measures[r].name)).idx=n;try{void 0!==e.columnOrder[m.id]?m.pos=e.columnOrder[m.id]:m.pos=n}catch{m.pos=n}m.field=t.fields.measure_like[r],m.field_name=m.field.name,m.heading=this.measures[r].heading,m.short_name=this.measures[r].short_name,m.unit=this.measures[r].unit,m.label=m.field.label_short||m.field.label,m.view=m.field.view_label,m.type="measure",m.align="right",m.value_format=m.field.value_format,m.pivoted=!1,m.super=!1,m.sort_by_measure_values=[1,m.pos],m.sort_by_pivot_values=[1,m.pos],this.columns.push(m),void 0!==e["style|"+m.id]&&"hide"===e["style|"+m.id]&&(m.hide=!0),n+=10}if(void 0!==t.fields.supermeasure_like)for(var v=0;v<t.fields.supermeasure_like.length;v++){var m,g=t.fields.supermeasure_like[v].name,_={name:t.fields.supermeasure_like[v].name,label:t.fields.supermeasure_like[v].label,view:"",can_pivot:!1};this.applyVisToolsTags(t.fields.supermeasure_like[v],_),this.measures.push(),(m=new u(this,g)).idx=n,m.levels=s(t.fields.pivots.length,""),m.field=t.fields.supermeasure_like[v],m.label=m.field.label_short||m.field.label,m.heading=_.heading,m.short_name=_.short_name,m.unit=_.unit,m.view=m.field.view_label,m.type="measure",m.align="right",m.value_format=m.field.value_format,m.pivoted=!1,m.super=!0,m.sort_by_measure_values=[2,n,...s(this.pivot_fields.length,1)],m.sort_by_pivot_values=[2,...s(this.pivot_fields.length,1),n],void 0!==e["style|"+m.id]&&"hide"===e["style|"+m.id]&&(m.hide=!0),this.columns.push(m),n+=10}}buildIndexColumn(e){var t=new u(this,"$$$_index_$$$"),n=this.dimensions[this.dimensions.length-1];t.label=n.label,t.align="left",t.levels=s(e.fields.pivots.length,""),t.sort_by_measure_values=[-1,0,...s(this.pivot_fields.length,0)],t.sort_by_pivot_values=[-1,...s(this.pivot_fields.length,0),0],this.columns.push(t)}buildRows(e){for(var t=0;t<e.length;t++){for(var n=new l("line_item"),r=0;r<this.columns.length;r++){var a=this.columns[r];a.pivoted?n.data[a.id]=e[t][a.field_name][a.pivot_key]:n.data[a.id]=e[t][a.id],void 0!==n.data[a.id]&&void 0===n.data[a.id].cell_style&&(n.data[a.id].cell_style=[])}for(var i=[],s=0;s<this.dimensions.length;s++)i.push(e[t][this.dimensions[s].name].value);n.id=i.join("|");var o=this.dimensions[this.dimensions.length-1].name,u=e[t][o].value;n.data.$$$_index_$$$={value:u,cell_style:["indent"]},n.sort=[0,0,t],this.data.push(n)}}buildTotals(e){if(void 0!==e.totals_data){for(var t=e.totals_data,n=new l("total"),r=0;r<this.columns.length;r++){var a=this.columns[r];if(n.data[a.id]={value:""},a.id==this.dimensions[this.dimensions.length-1].name&&(n.data[a.id]={value:"TOTAL",cell_style:["total"]}),"measure"==a.type){if(1==a.pivoted){var i=[a.pivot_key,a.field_name].join(".");(s=t[a.field_name][a.pivot_key]).cell_style=["total"],void 0===s.rendered&&void 0!==s.html&&(s.rendered=this.getRenderedFromHtml(s)),n.data[i]=s}else{var s;(s=t[a.id]).cell_style=["total"],void 0===s.rendered&&void 0!==s.html&&(s.rendered=this.getRenderedFromHtml(s)),n.data[a.id]=s}n.data[a.id].cell_style=["total"]}}n.sort=[1,0,0],n.data.$$$_index_$$$={value:"TOTAL",cell_style:["total"]},this.data.push(n),this.has_totals=!0}}applyFormatting(e){for(var t=0;t<this.columns.length;t++){var n=this.columns[t];if(void 0!==e["style|"+n.id]&&"black_red"==e["style|"+n.id])for(var r=0;r<this.data.length;r++){var a=this.data[r];a.data[n.id].value<0&&a.data[n.id].cell_style.push("red")}}}getColumnById(e){var t={};return this.columns.forEach(n=>{e===n.id&&(t=n)}),t}updateRowSpanValues(){var e={};for(r=0;r<this.dimensions.length;r++)e[this.dimensions[r].name]=1;for(var t=this.data.length-1;t>=0;t--){var n=this.data[t];if("line_item"===n.type){this.rowspan_values[n.id]={};for(var r=0;r<this.dimensions.length;r++){var a=this.dimensions[r].name,i=this.data[t].data[a].value;if(t>0)var s=this.data[t-1].data[a].value;if(!(t>0&&i==s)){for(var o=r;o<this.dimensions.length;o++){var l=this.dimensions[o].name;this.rowspan_values[n.id][l]=e[l],e[l]=1}break}this.rowspan_values[n.id][this.dimensions[r].name]=-1,e[a]+=1}}else for(r=0;r<this.dimensions.length;r++)e[this.dimensions[r].name]=1}}sortData(){this.data.sort((e,t)=>{for(var n=e.sort.length,r=0;r<n;r++){if(e.sort[r]>t.sort[r])return 1;if(e.sort[r]<t.sort[r])return-1}return-1}),this.updateRowSpanValues()}sortColumns(){this.columns.sort((e,t)=>{for(var n=this.sortColsBy,r=e[n]().length,a=0;a<r;a++){if(e[n]()[a]>t[n]()[a])return 1;if(e[n]()[a]<t[n]()[a])return-1}return-1})}addSubTotals(){for(var e=this.addSubtotalDepth,t=[],n=[],r=0;r<this.data.length;r++){var a=this.data[r];if("total"!==a.type){for(var s=[],o=0;o<e;o++){var u=this.dimensions[o].name;s.push(a.data[u].value)}s.join("|")!==n.join("|")&&(t.push(s),n=s),a.sort=[0,t.length-1,r]}}for(var h=0;h<t.length;h++){for(var c=new l("subtotal"),f=0;f<this.columns.length;f++){var d=this.columns[f];if(c.data[d.id]={},"$$$_index_$$$"===this.columns[f].id||f===this.dimensions.length){var p=t[h].join(" | ");c.data[this.columns[f].id]={value:p,cell_style:["total"]}}if("measure"==d.type){var v=0;if(d.pivoted)var m=[d.pivot_key,d.field_name].join(".");else m=d.id;for(var g=0;g<this.data.length;g++){var _=this.data[g];"line_item"==_.type&&_.sort[1]==h&&(v+=_.data[m].value)}var b={value:v,rendered:""===d.value_format?v.toString():i.a.format(d.value_format,v),cell_style:["total"]};c.data[m]=b}}c.sort=[0,h,9999],this.data.push(c)}this.sortData(),this.has_subtotals=!0}addColumnSubTotals(){for(var e="",t={},n=[],r=[],a=this.pivot_fields[0],s=0;s<this.pivot_values.length;s++){var o=this.pivot_values[s].data[a];null!==o&&r.push(o)}for(r=[...new Set(r)],s=0;s<r.length;s++)for(var l=r[s],h=[0,""],c=null,f=0;f<this.measures.length;f++)if(this.measures[f].can_pivot){for(var d=this.measures[f].name,p={field:d,label:this.measures[f].label,heading:this.measures[f].heading,short_name:this.measures[f].short_name,unit:this.measures[f].unit,view:this.measures[f].view,hide:this.measures[f].hide||!1,value_format:this.measures[f].value_format,pivot:l,measure_idx:f,pivot_idx:s,columns:[],id:["$$$_subtotal_$$$",l,d].join("."),after:""},v=0;v<this.columns.length;v++)(g=this.columns[v]).pivoted&&g.levels[0]==l&&(g.field_name==d&&p.columns.push(g.id),g.levels[0]==l&&v>h[0]&&(h=[v,g.id]));l!=e&&(t[l]=h[1],c=null),p.after=c||t[l],e=l,c=p.id,n.push(p)}for(var m=0;m<n.length;m++){var g,_=n[m];(g=new u(this,_.id)).levels=[_.pivot,"Subtotal"],g.label=_.label,g.heading=_.heading,g.short_name=_.short_name,g.unit=_.unit,g.view=_.view||"",g.hide=_.hide,g.field={name:_.field},g.value_format=_.value_format||"",g.type="measure",g.sort_by_measure_values=[1,_.measure_idx,...g.levels];var b=[...g.levels];"string"==typeof b[b.length-1]?b[b.length-1]="ZZZZ":b[b.length-1]=9999,g.sort_by_pivot_values=[1,...b,1e4+m],g.pivoted=!0,g.subtotal=!0,g.pivot_key=[_.pivot,"$$$_subtotal_$$$"].join("|"),g.field_name=_.field,g.align="right",this.columns.push(g)}this.sortColumns();for(var y=0;y<this.data.length;y++){var w=this.data[y];for(m=0;m<n.length;m++){_=n[m];for(var x=0,$=0;$<_.columns.length;$++){var M=_.columns[$];x+=w.data[M].value}w.data[_.id]={value:x,rendered:""===g.value_format?x.toString():i.a.format(g.value_format,x),align:"right"},["total","subtotal"].includes(w.type)&&(w.data[_.id].cell_style=["total"])}}return n}calculateVariance(e,t,n,r,a){for(var s=0;s<this.data.length;s++){var o=this.data[s],l=o.data[r.id].value,u=o.data[a.id].value;if("absolute"===n)var h={value:l-u,rendered:""===e?(l-u).toString():i.a.format(e,l-u),cell_style:[]};else{var c=(l-u)/Math.abs(u);h={value:c,rendered:i.a.format("#0.00%",c),cell_style:[]}}"total"!=o.type&&"subtotal"!=o.type||h.cell_style.push("total"),h.value<0&&h.cell_style.push("red"),o.data[t]=h}}createVarianceColumn(e,t){var n=["$$$_variance_$$$",e.calc,e.variance.baseline,e.variance.comparison].join("|"),r=new u(this,n),a=this.getColumnById(e.variance.baseline),i=this.getColumnById(e.variance.comparison);"absolute"===e.calc?(r.idx=a.idx+1,r.pos=a.pos+1,r.sort_by_measure_values=a.sort_by_measure_values.concat(1),r.sort_by_pivot_values=a.sort_by_pivot_values.concat(1),r.label="Var #",r.unit=a.unit,r.hide=!t["var_num|"+a.field_name]):(r.idx=a.idx+2,r.pos=a.pos+2,r.sort_by_measure_values=a.sort_by_measure_values.concat(2),r.sort_by_pivot_values=a.sort_by_pivot_values.concat(2),r.label="Var %",r.unit="%",r.hide=!t["var_pct|"+a.field_name]),a.sort_by_measure_values.length<r.sort_by_measure_values.length&&a.sort_by_measure_values.push(0),a.sort_by_pivot_values.length<r.sort_by_pivot_values.length&&a.sort_by_pivot_values.push(0),void 0!==t.columnOrder[r.id]&&(r.pos=t.columnOrder[r.id]),r.field={name:n},r.heading=a.heading,r.type="measure",r.pivoted=a.pivoted,r.super=a.super,r.levels=a.levels,r.pivot_key="",r.align="right",this.columns.push(r),e.variance.reverse?this.calculateVariance(a.value_format,n,e.calc,i,a):this.calculateVariance(a.value_format,n,e.calc,a,i)}addVarianceColumns(e){var t=[],n=["absolute","percent"];Object.keys(this.variances).forEach(e=>{var r=this.variances[e];"no_variance"!==r.comparison&&"vs_measure"===r.type&&(this.has_pivots?this.pivot_values.forEach(e=>{e.is_total||n.forEach(n=>{t.push({variance:{baseline:[e.key,r.baseline].join("."),comparison:[e.key,r.comparison].join("."),reverse:r.reverse,type:r.type},calc:n})})}):n.forEach(e=>{t.push({variance:r,calc:e})}))}),t.forEach(t=>{this.createVarianceColumn(t,e)})}getRenderedFromHtml(e){var t=new DOMParser;if(""!==e.html)try{n=(n=t.parseFromString(e.html,"text/html")).getElementsByTagName("a")[0].innerText}catch(t){var n=e.html}else n=e.value;return n}getLevels(){var e=this.pivot_fields.length+1;return this.useHeadings&&!this.has_pivots&&e++,s(e,0)}setColSpans(e,t){for(var n=[],r=[],a=[],i=t.length-1;i>=0;i--){var o=t.length-1-i;if("getSortByPivots"===this.sortColsBy?n[o]=[...t[i].levels,t[i].field.name]:n[o]=[t[i].field.name,...t[i].levels],this.useHeadings&&!this.has_pivots){var l=t[i].heading,u="heading|"+t[i].field_name;void 0!==e[u]&&(l=e[u]?e[u]:l),n[o].unshift(l)}r[i]=s(n[o].length,1)}if(this.spanCols){a=s(n[0].length,1);for(var h=0;h<n.length;h++)for(var c=n[h].length-1,f=0;f<c;f++){var d=n[h][f];if(h<n.length-1)var p=n[h+1][f];if(!(h<n.length-1&&d==p)){for(var v=f;v<c;v++)r[h][v]=a[v],a[v]=1;break}r[h][f]=-1,a[f]+=1}if("getSortByPivots"===this.sortColsBy)var m=this.pivot_fields.length+1;else m=0;for(h=n.length-1;h>=0;h--){if(d=n[h][m],h>0)var g=n[h-1][m];h>0&&d==g?(r[h][m]=-1,a[m]+=1):(r[h][m]=a[m],a[m]=1)}r.reverse()}for(i=0;i<t.length;i++)t[i].colspans=r[i];return t}getColumnsToDisplay(e,t){if(this.useIndexColumn)var n=this.columns.filter(e=>"measure"==e.type||"$$$_index_$$$"==e.id).filter(e=>!e.hide);else n=this.columns.filter(e=>"$$$_index_$$$"!==e.id).filter(e=>!e.hide);return this.setColSpans(e,n).filter(e=>e.colspans[t]>0)}getRow(e){if(this.useIndexColumn)var t=this.columns.filter(e=>"measure"==e.type||"$$$_index_$$$"==e.id).filter(e=>!e.hide);else t=this.columns.filter(e=>"$$$_index_$$$"!==e.id).filter(e=>!e.hide);if(!this.useIndexColumn&&this.spanRows){for(var n=0;n<t.length;n++)t[n].rowspan=1,"line_item"===e.type&&this.rowspan_values[e.id][t[n].id]>0&&(t[n].rowspan=this.rowspan_values[e.id][t[n].id]);"line_item"===e.type&&(t=t.filter(t=>"measure"==t.type||this.rowspan_values[e.id][t.id]>0))}return t}moveColumns(e,t,n,r){if(t!=n){for(var a=n-t,i=e.columnOrder,s=0;s<this.columns.length;s++){var o=this.columns[s];"measure"!=o.type||o.super||(o.pos>=t&&o.pos<t+10?(console.log("MOVING COLUMN",o.id,o.pos,"->",o.pos+a),o.pos+=a):o.pos>=n&&o.pos<t?(console.log("NUDGING COLUMN",o.id,o.pos,"->",o.pos+10),o.pos+=10):o.pos>=t+10&&o.pos<n+10&&(console.log("NUDGING COLUMN",o.id,o.pos,"->",o.pos-10),o.pos-=10),i[o.id]=o.pos)}r(i)}}getSimpleJson(){var e=[];return this.data.forEach(t=>{if("line_item"===t.type){var n={};this.columns.forEach(e=>{n[e.id]=t.data[e.id].value}),e.push(n)}}),e}}}])},function(e,t,n){var r=n(4),a=n(5);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var i={insert:"head",singleton:!1};r(a,i);e.exports=a.locals||{}},function(e,t,n){"use strict";var r,a=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),s=[];function o(e){for(var t=-1,n=0;n<s.length;n++)if(s[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},r=[],a=0;a<e.length;a++){var i=e[a],l=t.base?i[0]+t.base:i[0],u=n[l]||0,h="".concat(l," ").concat(u);n[l]=u+1;var c=o(h),f={css:i[1],media:i[2],sourceMap:i[3]};-1!==c?(s[c].references++,s[c].updater(f)):s.push({identifier:h,updater:m(f,t),references:1}),r.push(h)}return r}function u(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var a=n.nc;a&&(r.nonce=a)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var s=i(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var h,c=(h=[],function(e,t){return h[e]=t,h.filter(Boolean).join("\n")});function f(e,t,n,r){var a=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=c(t,a);else{var i=document.createTextNode(a),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(i,s[t]):e.appendChild(i)}}function d(e,t,n){var r=n.css,a=n.media,i=n.sourceMap;if(a?e.setAttribute("media",a):e.removeAttribute("media"),i&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var p=null,v=0;function m(e,t){var n,r,a;if(t.singleton){var i=v++;n=p||(p=u(t)),r=f.bind(null,n,i,!1),a=f.bind(null,n,i,!0)}else n=u(t),r=d.bind(null,n,t),a=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else a()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=a());var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var a=o(n[r]);s[a].references--}for(var i=l(e,t),u=0;u<n.length;u++){var h=o(n[u]);0===s[h].references&&(s[h].updater(),s.splice(h,1))}n=i}}}},function(e,t,n){(t=n(6)(!1)).push([e.i,"#tooltip {\n    position: absolute;\n    width: auto;\n    height: auto;\n    padding: 5px;\n    background-color: white;\n    -webkit-border-radius: 4px;\n    -moz-border-radius: 4px;\n    border-radius: 4px;\n    -webkit-box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);\n    -moz-box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);\n    box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);\n    pointer-events: none;\n    font-family: sans-serif;\n    font-size: 12px;\n}\n\n#tooltip.hidden {\n    display: none;\n}\n\n#tooltip p {\n    margin: 0;\n    font-family: sans-serif;\n    font-size: 12px;\n    line-height: 15px;\n}\n\ntable.reportTable {\n  font-family: Open Sans,Helvetica,Arial,sans-serif;\n  font-size: 10px;   \n  width: 100%;\n  /* border: 1px solid #CCCCCC; */\n  border-collapse: separate;\n  border-spacing: 3px;\n  table-layout: fixed;\n}\n\ntable.reportTable th {\n  /* border: 1px solid #CCCCCC; */\n  border-bottom: 1px solid #000000 !important;\n  /* font-size: 10px;  */\n  /* height: 25px; */\n  padding: 5px;\n\n  max-width: 0px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\ntable.reportTable td {\n  vertical-align: super;\n  padding-left: 5px;\n  /*background: #FFFFFF;*/\n  /* border: 1px solid #CCCCCC; */\n\n  max-width: 0;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.left {\n  text-align: left;\n}\n\n.right {\n  text-align: right !important;\n}\n\n.indent {\n  padding-left: 15px !important;\n}\n\n.total {\n  border-top: 2px solid #000000 !important;\n  font-weight: bold !important;\n}\n\n.red {\n  color: red;\n}\n",""]),e.exports=t},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var a=(s=r,o=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),"/*# ".concat(l," */")),i=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(i).concat([a]).join("\n")}var s,o,l;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var a={};if(r)for(var i=0;i<this.length;i++){var s=this[i][0];null!=s&&(a[s]=!0)}for(var o=0;o<e.length;o++){var l=[].concat(e[o]);r&&a[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},function(e,t,n){"use strict";function r(){}n.r(t),n.d(t,"select",(function(){return ce})),n.d(t,"event",(function(){return K})),n.d(t,"drag",(function(){return Pe}));var a=function(e){return null==e?r:function(){return this.querySelector(e)}};function i(){return[]}var s=function(e){return new Array(e.length)};function o(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}o.prototype={constructor:o,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function l(e,t,n,r,a,i){for(var s,l=0,u=t.length,h=i.length;l<h;++l)(s=t[l])?(s.__data__=i[l],r[l]=s):n[l]=new o(e,i[l]);for(;l<u;++l)(s=t[l])&&(a[l]=s)}function u(e,t,n,r,a,i,s){var l,u,h,c={},f=t.length,d=i.length,p=new Array(f);for(l=0;l<f;++l)(u=t[l])&&(p[l]=h="$"+s.call(u,u.__data__,l,t),h in c?a[l]=u:c[h]=u);for(l=0;l<d;++l)(u=c[h="$"+s.call(e,i[l],l,i)])?(r[l]=u,u.__data__=i[l],c[h]=null):n[l]=new o(e,i[l]);for(l=0;l<f;++l)(u=t[l])&&c[p[l]]===u&&(a[l]=u)}function h(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var c="http://www.w3.org/1999/xhtml",f={svg:"http://www.w3.org/2000/svg",xhtml:c,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},d=function(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),f.hasOwnProperty(t)?{space:f[t],local:e}:e};function p(e){return function(){this.removeAttribute(e)}}function v(e){return function(){this.removeAttributeNS(e.space,e.local)}}function m(e,t){return function(){this.setAttribute(e,t)}}function g(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function _(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function b(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}var y=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView};function w(e){return function(){this.style.removeProperty(e)}}function x(e,t,n){return function(){this.style.setProperty(e,t,n)}}function $(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function M(e,t){return e.style.getPropertyValue(t)||y(e).getComputedStyle(e,null).getPropertyValue(t)}function k(e){return function(){delete this[e]}}function C(e,t){return function(){this[e]=t}}function A(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function S(e){return e.trim().split(/^|\s+/)}function O(e){return e.classList||new E(e)}function E(e){this._node=e,this._names=S(e.getAttribute("class")||"")}function T(e,t){for(var n=O(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function P(e,t){for(var n=O(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function D(e){return function(){T(this,e)}}function N(e){return function(){P(this,e)}}function j(e,t){return function(){(t.apply(this,arguments)?T:P)(this,e)}}E.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function H(){this.textContent=""}function B(e){return function(){this.textContent=e}}function L(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function F(){this.innerHTML=""}function R(e){return function(){this.innerHTML=e}}function V(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function I(){this.nextSibling&&this.parentNode.appendChild(this)}function z(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function U(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===c&&t.documentElement.namespaceURI===c?t.createElement(e):t.createElementNS(n,e)}}function G(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}var q=function(e){var t=d(e);return(t.local?G:U)(t)};function J(){return null}function X(){var e=this.parentNode;e&&e.removeChild(this)}function Y(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Z(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}var W={},K=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(W={mouseenter:"mouseover",mouseleave:"mouseout"}));function Q(e,t,n){return e=ee(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function ee(e,t,n){return function(r){var a=K;K=r;try{e.call(this,this.__data__,t,n)}finally{K=a}}}function te(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function ne(e){return function(){var t=this.__on;if(t){for(var n,r=0,a=-1,i=t.length;r<i;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++a]=n:this.removeEventListener(n.type,n.listener,n.capture);++a?t.length=a:delete this.__on}}}function re(e,t,n){var r=W.hasOwnProperty(e.type)?Q:ee;return function(a,i,s){var o,l=this.__on,u=r(t,i,s);if(l)for(var h=0,c=l.length;h<c;++h)if((o=l[h]).type===e.type&&o.name===e.name)return this.removeEventListener(o.type,o.listener,o.capture),this.addEventListener(o.type,o.listener=u,o.capture=n),void(o.value=t);this.addEventListener(e.type,u,n),o={type:e.type,name:e.name,value:t,listener:u,capture:n},l?l.push(o):this.__on=[o]}}function ae(e,t,n,r){var a=K;e.sourceEvent=K,K=e;try{return t.apply(n,r)}finally{K=a}}function ie(e,t,n){var r=y(e),a=r.CustomEvent;"function"==typeof a?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function se(e,t){return function(){return ie(this,e,t)}}function oe(e,t){return function(){return ie(this,e,t.apply(this,arguments))}}var le=[null];function ue(e,t){this._groups=e,this._parents=t}function he(){return new ue([[document.documentElement]],le)}ue.prototype=he.prototype={constructor:ue,select:function(e){"function"!=typeof e&&(e=a(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s,o,l=t[i],u=l.length,h=r[i]=new Array(u),c=0;c<u;++c)(s=l[c])&&(o=e.call(s,s.__data__,c,l))&&("__data__"in s&&(o.__data__=s.__data__),h[c]=o);return new ue(r,this._parents)},selectAll:function(e){var t;"function"!=typeof e&&(e=null==(t=e)?i:function(){return this.querySelectorAll(t)});for(var n=this._groups,r=n.length,a=[],s=[],o=0;o<r;++o)for(var l,u=n[o],h=u.length,c=0;c<h;++c)(l=u[c])&&(a.push(e.call(l,l.__data__,c,u)),s.push(l));return new ue(a,s)},filter:function(e){var t;"function"!=typeof e&&(t=e,e=function(){return this.matches(t)});for(var n=this._groups,r=n.length,a=new Array(r),i=0;i<r;++i)for(var s,o=n[i],l=o.length,u=a[i]=[],h=0;h<l;++h)(s=o[h])&&e.call(s,s.__data__,h,o)&&u.push(s);return new ue(a,this._parents)},data:function(e,t){if(!e)return m=new Array(this.size()),f=-1,this.each((function(e){m[++f]=e})),m;var n,r=t?u:l,a=this._parents,i=this._groups;"function"!=typeof e&&(n=e,e=function(){return n});for(var s=i.length,o=new Array(s),h=new Array(s),c=new Array(s),f=0;f<s;++f){var d=a[f],p=i[f],v=p.length,m=e.call(d,d&&d.__data__,f,a),g=m.length,_=h[f]=new Array(g),b=o[f]=new Array(g);r(d,p,_,b,c[f]=new Array(v),m,t);for(var y,w,x=0,$=0;x<g;++x)if(y=_[x]){for(x>=$&&($=x+1);!(w=b[$])&&++$<g;);y._next=w||null}}return(o=new ue(o,a))._enter=h,o._exit=c,o},enter:function(){return new ue(this._enter||this._groups.map(s),this._parents)},exit:function(){return new ue(this._exit||this._groups.map(s),this._parents)},join:function(e,t,n){var r=this.enter(),a=this,i=this.exit();return r="function"==typeof e?e(r):r.append(e+""),null!=t&&(a=t(a)),null==n?i.remove():n(i),r&&a?r.merge(a).order():a},merge:function(e){for(var t=this._groups,n=e._groups,r=t.length,a=n.length,i=Math.min(r,a),s=new Array(r),o=0;o<i;++o)for(var l,u=t[o],h=n[o],c=u.length,f=s[o]=new Array(c),d=0;d<c;++d)(l=u[d]||h[d])&&(f[d]=l);for(;o<r;++o)s[o]=t[o];return new ue(s,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,a=e[t],i=a.length-1,s=a[i];--i>=0;)(r=a[i])&&(s&&4^r.compareDocumentPosition(s)&&s.parentNode.insertBefore(r,s),s=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=h);for(var n=this._groups,r=n.length,a=new Array(r),i=0;i<r;++i){for(var s,o=n[i],l=o.length,u=a[i]=new Array(l),c=0;c<l;++c)(s=o[c])&&(u[c]=s);u.sort(t)}return new ue(a,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each((function(){e[++t]=this})),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,i=r.length;a<i;++a){var s=r[a];if(s)return s}return null},size:function(){var e=0;return this.each((function(){++e})),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a,i=t[n],s=0,o=i.length;s<o;++s)(a=i[s])&&e.call(a,a.__data__,s,i);return this},attr:function(e,t){var n=d(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?v:p:"function"==typeof t?n.local?b:_:n.local?g:m)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?w:"function"==typeof t?$:x)(e,t,null==n?"":n)):M(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?k:"function"==typeof t?A:C)(e,t)):this.node()[e]},classed:function(e,t){var n=S(e+"");if(arguments.length<2){for(var r=O(this.node()),a=-1,i=n.length;++a<i;)if(!r.contains(n[a]))return!1;return!0}return this.each(("function"==typeof t?j:t?D:N)(n,t))},text:function(e){return arguments.length?this.each(null==e?H:("function"==typeof e?L:B)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?F:("function"==typeof e?V:R)(e)):this.node().innerHTML},raise:function(){return this.each(I)},lower:function(){return this.each(z)},append:function(e){var t="function"==typeof e?e:q(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:q(e),r=null==t?J:"function"==typeof t?t:a(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(X)},clone:function(e){return this.select(e?Z:Y)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,a,i=te(e+""),s=i.length;if(!(arguments.length<2)){for(o=t?re:ne,null==n&&(n=!1),r=0;r<s;++r)this.each(o(i[r],t,n));return this}var o=this.node().__on;if(o)for(var l,u=0,h=o.length;u<h;++u)for(r=0,l=o[u];r<s;++r)if((a=i[r]).type===l.type&&a.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?oe:se)(e,t))}};var ce=function(e){return"string"==typeof e?new ue([[document.querySelector(e)]],[document.documentElement]):new ue([[e]],le)},fe={value:function(){}};function de(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new pe(r)}function pe(e){this._=e}function ve(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function me(e,t){for(var n,r=0,a=e.length;r<a;++r)if((n=e[r]).name===t)return n.value}function ge(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=fe,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}pe.prototype=de.prototype={constructor:pe,on:function(e,t){var n,r=this._,a=ve(e+"",r),i=-1,s=a.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++i<s;)if(n=(e=a[i]).type)r[n]=ge(r[n],e.name,t);else if(null==t)for(n in r)r[n]=ge(r[n],e.name,null);return this}for(;++i<s;)if((n=(e=a[i]).type)&&(n=me(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new pe(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,a=new Array(n),i=0;i<n;++i)a[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(r=this._[e]).length;i<n;++i)r[i].value.apply(t,a)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,i=r.length;a<i;++a)r[a].value.apply(t,n)}};var _e=de,be=function(){for(var e,t=K;e=t.sourceEvent;)t=e;return t},ye=function(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}var a=e.getBoundingClientRect();return[t.clientX-a.left-e.clientLeft,t.clientY-a.top-e.clientTop]},we=function(e){var t=be();return t.changedTouches&&(t=t.changedTouches[0]),ye(e,t)},xe=function(e,t,n){arguments.length<3&&(n=t,t=be().changedTouches);for(var r,a=0,i=t?t.length:0;a<i;++a)if((r=t[a]).identifier===n)return ye(e,r);return null};function $e(){K.stopImmediatePropagation()}var Me=function(){K.preventDefault(),K.stopImmediatePropagation()},ke=function(e){var t=e.document.documentElement,n=ce(e).on("dragstart.drag",Me,!0);"onselectstart"in t?n.on("selectstart.drag",Me,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")};var Ce=function(e){return function(){return e}};function Ae(e,t,n,r,a,i,s,o,l,u){this.target=e,this.type=t,this.subject=n,this.identifier=r,this.active=a,this.x=i,this.y=s,this.dx=o,this.dy=l,this._=u}function Se(){return!K.ctrlKey&&!K.button}function Oe(){return this.parentNode}function Ee(e){return null==e?{x:K.x,y:K.y}:e}function Te(){return navigator.maxTouchPoints||"ontouchstart"in this}Ae.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var Pe=function(){var e,t,n,r,a=Se,i=Oe,s=Ee,o=Te,l={},u=_e("start","drag","end"),h=0,c=0;function f(e){e.on("mousedown.drag",d).filter(o).on("touchstart.drag",m).on("touchmove.drag",g).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(){if(!r&&a.apply(this,arguments)){var s=b("mouse",i.apply(this,arguments),we,this,arguments);s&&(ce(K.view).on("mousemove.drag",p,!0).on("mouseup.drag",v,!0),ke(K.view),$e(),n=!1,e=K.clientX,t=K.clientY,s("start"))}}function p(){if(Me(),!n){var r=K.clientX-e,a=K.clientY-t;n=r*r+a*a>c}l.mouse("drag")}function v(){var e,t,r,a;ce(K.view).on("mousemove.drag mouseup.drag",null),e=K.view,t=n,r=e.document.documentElement,a=ce(e).on("dragstart.drag",null),t&&(a.on("click.drag",Me,!0),setTimeout((function(){a.on("click.drag",null)}),0)),"onselectstart"in r?a.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect),Me(),l.mouse("end")}function m(){if(a.apply(this,arguments)){var e,t,n=K.changedTouches,r=i.apply(this,arguments),s=n.length;for(e=0;e<s;++e)(t=b(n[e].identifier,r,xe,this,arguments))&&($e(),t("start"))}}function g(){var e,t,n=K.changedTouches,r=n.length;for(e=0;e<r;++e)(t=l[n[e].identifier])&&(Me(),t("drag"))}function _(){var e,t,n=K.changedTouches,a=n.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),e=0;e<a;++e)(t=l[n[e].identifier])&&($e(),t("end"))}function b(e,t,n,r,a){var i,o,c,d=n(t,e),p=u.copy();if(ae(new Ae(f,"beforestart",i,e,h,d[0],d[1],0,0,p),(function(){return null!=(K.subject=i=s.apply(r,a))&&(o=i.x-d[0]||0,c=i.y-d[1]||0,!0)})))return function s(u){var v,m=d;switch(u){case"start":l[e]=s,v=h++;break;case"end":delete l[e],--h;case"drag":d=n(t,e),v=h}ae(new Ae(f,u,i,e,v,d[0]+o,d[1]+c,d[0]-m[0],d[1]-m[1],p),p.apply,p,[u,r,a])}}return f.filter=function(e){return arguments.length?(a="function"==typeof e?e:Ce(!!e),f):a},f.container=function(e){return arguments.length?(i="function"==typeof e?e:Ce(e),f):i},f.subject=function(e){return arguments.length?(s="function"==typeof e?e:Ce(e),f):s},f.touchable=function(e){return arguments.length?(o="function"==typeof e?e:Ce(!!e),f):o},f.on=function(){var e=u.on.apply(u,arguments);return e===u?f:e},f.clickDistance=function(e){return arguments.length?(c=(e=+e)*e,f):Math.sqrt(c)},f}}]);
//# sourceMappingURL=report_table.js.map