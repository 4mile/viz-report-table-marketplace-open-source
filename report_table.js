!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=21)}([,function(e,t,n){var r={};!function(e){function t(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function n(e,t){for(var n="";n.length<t;)n+=e;return n}function r(e,t){var r=""+e;return r.length>=t?r:n("0",t-r.length)+r}function i(e,t){var r=""+e;return r.length>=t?r:n(" ",t-r.length)+r}function a(e,t){var r=""+e;return r.length>=t?r:r+n(" ",t-r.length)}e.version="0.11.2";var o=Math.pow(2,32);function l(e,t){return e>o||e<-o?function(e,t){var r=""+Math.round(e);return r.length>=t?r:n("0",t-r.length)+r}(e,t):function(e,t){var r=""+e;return r.length>=t?r:n("0",t-r.length)+r}(Math.round(e),t)}function s(e,t){return t=t||0,e.length>=7+t&&103==(32|e.charCodeAt(t))&&101==(32|e.charCodeAt(t+1))&&110==(32|e.charCodeAt(t+2))&&101==(32|e.charCodeAt(t+3))&&114==(32|e.charCodeAt(t+4))&&97==(32|e.charCodeAt(t+5))&&108==(32|e.charCodeAt(t+6))}var u=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],c=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function f(e){e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "'}var h={};f(h);var d=[],p=0;for(p=5;p<=8;++p)d[p]=32+p;for(p=23;p<=26;++p)d[p]=0;for(p=27;p<=31;++p)d[p]=14;for(p=50;p<=58;++p)d[p]=14;for(p=59;p<=62;++p)d[p]=p-58;for(p=67;p<=68;++p)d[p]=p-58;for(p=72;p<=75;++p)d[p]=p-58;for(p=67;p<=68;++p)d[p]=p-57;for(p=76;p<=78;++p)d[p]=p-56;for(p=79;p<=81;++p)d[p]=p-34;var v=[];function m(e,t,n){for(var r=e<0?-1:1,i=e*r,a=0,o=1,l=0,s=1,u=0,c=0,f=Math.floor(i);u<t&&(l=(f=Math.floor(i))*o+a,c=f*u+s,!(i-f<5e-8));)i=1/(i-f),a=o,o=l,s=u,u=c;if(c>t&&(u>t?(c=s,l=a):(c=u,l=o)),!n)return[0,r*l,c];var h=Math.floor(r*l/c);return[h,r*l-h*c,c]}function g(e,t,n){if(e>2958465||e<0)return null;var r=0|e,i=Math.floor(86400*(e-r)),a=0,o=[],l={D:r,T:i,u:86400*(e-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(r+=1462),l.u>.9999&&(l.u=0,86400==++i&&(l.T=i=0,++r,++l.D)),60===r)o=n?[1317,10,29]:[1900,2,29],a=3;else if(0===r)o=n?[1317,8,29]:[1900,1,0],a=6;else{r>60&&--r;var s=new Date(1900,0,1);s.setDate(s.getDate()+r-1),o=[s.getFullYear(),s.getMonth()+1,s.getDate()],a=s.getDay(),r<60&&(a=(a+6)%7),n&&(a=function(e,t){t[0]-=581;var n=e.getDay();e<60&&(n=(n+6)%7);return n}(s,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=i%60,i=Math.floor(i/60),l.M=i%60,i=Math.floor(i/60),l.H=i,l.q=a,l}v[5]=v[63]='"$"#,##0_);\\("$"#,##0\\)',v[6]=v[64]='"$"#,##0_);[Red]\\("$"#,##0\\)',v[7]=v[65]='"$"#,##0.00_);\\("$"#,##0.00\\)',v[8]=v[66]='"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',v[41]='_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',v[42]='_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',v[43]='_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',v[44]='_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)',e.parse_date_code=g;var _=new Date(1899,11,31,0,0,0),y=_.getTime(),b=new Date(1900,2,1,0,0,0);function w(e,t){var n=e.getTime();return t?n-=1262304e5:e>=b&&(n+=864e5),(n-(y+6e4*(e.getTimezoneOffset()-_.getTimezoneOffset())))/864e5}e._general_int=function(e){return e.toString(10)};var x=function(){var e=/(?:\.0*|(\.\d*[1-9])0+)$/;function t(t){return-1==t.indexOf(".")?t:t.replace(e,"$1")}var n=/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,r=/(E[+-])(\d)$/;return function(e){var i,a=Math.floor(Math.log(Math.abs(e))*Math.LOG10E);return i=a>=-4&&a<=-1?e.toPrecision(10+a):Math.abs(a)<=9?function(e){var n=e<0?12:11,r=t(e.toFixed(12));return r.length<=n||(r=e.toPrecision(10)).length<=n?r:e.toExponential(5)}(e):10===a?e.toFixed(10).substr(0,12):function(e){var n=t(e.toFixed(11));return n.length>(e<0?12:11)||"0"===n||"-0"===n?e.toPrecision(6):n}(e),t(function(e){return-1==e.indexOf("E")?e:e.replace(n,"$1E").replace(r,"$10$2")}(i.toUpperCase()))}}();function C(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(0|e)===e?e.toString(10):x(e);case"undefined":return"";case"object":if(null==e)return"";if(e instanceof Date)return R(14,w(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}e._general_num=x,e._general=C;"๐๑๒๓๔๕๖๗๘๙".split("");function k(e,t,n,i){var a,o="",l=0,s=0,f=n.y,h=0;switch(e){case 98:f=n.y+543;case 121:switch(t.length){case 1:case 2:a=f%100,h=2;break;default:a=f%1e4,h=4}break;case 109:switch(t.length){case 1:case 2:a=n.m,h=t.length;break;case 3:return c[n.m-1][1];case 5:return c[n.m-1][0];default:return c[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:a=n.d,h=t.length;break;case 3:return u[n.q][0];default:return u[n.q][1]}break;case 104:switch(t.length){case 1:case 2:a=1+(n.H+11)%12,h=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:a=n.H,h=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:a=n.M,h=t.length;break;default:throw"bad minute format: "+t}break;case 115:if("s"!=t&&"ss"!=t&&".0"!=t&&".00"!=t&&".000"!=t)throw"bad second format: "+t;return 0!==n.u||"s"!=t&&"ss"!=t?(s=i>=2?3===i?1e3:100:1===i?10:1,(l=Math.round(s*(n.S+n.u)))>=60*s&&(l=0),"s"===t?0===l?"0":""+l/s:(o=r(l,2+i),"ss"===t?o.substr(0,2):"."+o.substr(2,t.length-1))):r(n.S,t.length);case 90:switch(t){case"[h]":case"[hh]":a=24*n.D+n.H;break;case"[m]":case"[mm]":a=60*(24*n.D+n.H)+n.M;break;case"[s]":case"[ss]":a=60*(60*(24*n.D+n.H)+n.M)+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}h=3===t.length?1:2;break;case 101:a=f,h=1}return h>0?r(a,h):""}function E(e){if(e.length<=3)return e;for(var t=e.length%3,n=e.substr(0,t);t!=e.length;t+=3)n+=(n.length>0?",":"")+e.substr(t,3);return n}var $=function(){var e=/%/g;var o=/# (\?+)( ?)\/( ?)(\d+)/;var s=/^#*0*\.([0#]+)/,u=/\).*[0#]/,c=/\(###\) ###\\?-####/;function f(e){for(var t,n="",r=0;r!=e.length;++r)switch(t=e.charCodeAt(r)){case 35:break;case 63:n+=" ";break;case 48:n+="0";break;default:n+=String.fromCharCode(t)}return n}function h(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function d(e,t){var n=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(n*r)).length?0:Math.round(n*r)}function p(v,g,_){if(40===v.charCodeAt(0)&&!g.match(u)){var y=g.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return _>=0?p("n",y,_):"("+p("n",y,-_)+")"}if(44===g.charCodeAt(g.length-1))return function(e,t,n){for(var r=t.length-1;44===t.charCodeAt(r-1);)--r;return $(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}(v,g,_);if(-1!==g.indexOf("%"))return function(t,r,i){var a=r.replace(e,""),o=r.length-a.length;return $(t,a,i*Math.pow(10,2*o))+n("%",o)}(v,g,_);if(-1!==g.indexOf("E"))return function e(t,n){var r,i=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(0==n)return"0.0E+0";if(n<0)return"-"+e(t,-n);var a=t.indexOf(".");-1===a&&(a=t.indexOf("E"));var o=Math.floor(Math.log(n)*Math.LOG10E)%a;if(o<0&&(o+=a),-1===(r=(n/Math.pow(10,o)).toPrecision(i+1+(a+o)%a)).indexOf("e")){var l=Math.floor(Math.log(n)*Math.LOG10E);for(-1===r.indexOf(".")?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+o):r+="E+"+(l-o);"0."===r.substr(0,2);)r=(r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function(e,t,n,r){return t+n+r.substr(0,(a+o)%a)+"."+r.substr(o)+"E"}))}else r=n.toExponential(i);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}(g,_);if(36===g.charCodeAt(0))return"$"+p(v,g.substr(" "==g.charAt(1)?2:1),_);var b,w,x,C,k=Math.abs(_),A=_<0?"-":"";if(g.match(/^00+$/))return A+l(k,g.length);if(g.match(/^[#?]+$/))return"0"===(b=l(_,0))&&(b=""),b.length>g.length?b:f(g.substr(0,g.length-b.length))+b;if(w=g.match(o))return function(e,t,a){var o=parseInt(e[4],10),l=Math.round(t*o),s=Math.floor(l/o),u=l-s*o,c=o;return a+(0===s?"":""+s)+" "+(0===u?n(" ",e[1].length+1+e[4].length):i(u,e[1].length)+e[2]+"/"+e[3]+r(c,e[4].length))}(w,k,A);if(g.match(/^#+0+$/))return A+l(k,g.length-g.indexOf("0"));if(w=g.match(s))return b=h(_,w[1].length).replace(/^([^\.]+)$/,"$1."+f(w[1])).replace(/\.$/,"."+f(w[1])).replace(/\.(\d*)$/,(function(e,t){return"."+t+n("0",f(w[1]).length-t.length)})),-1!==g.indexOf("0.")?b:b.replace(/^0\./,".");if(g=g.replace(/^#+([0.])/,"$1"),w=g.match(/^(0*)\.(#*)$/))return A+h(k,w[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,w[1].length?"0.":".");if(w=g.match(/^#{1,3},##0(\.?)$/))return A+E(l(k,0));if(w=g.match(/^#,##0\.([#0]*0)$/))return _<0?"-"+p(v,g,-_):E(""+(Math.floor(_)+function(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}(_,w[1].length)))+"."+r(d(_,w[1].length),w[1].length);if(w=g.match(/^#,#*,#0/))return p(v,g.replace(/^#,#*,/,""),_);if(w=g.match(/^([0#]+)(\\?-([0#]+))+$/))return b=t(p(v,g.replace(/[\\-]/g,""),_)),x=0,t(t(g.replace(/\\/g,"")).replace(/[0#]/g,(function(e){return x<b.length?b.charAt(x++):"0"===e?"0":""})));if(g.match(c))return"("+(b=p(v,"##########",_)).substr(0,3)+") "+b.substr(3,3)+"-"+b.substr(6);var S="";if(w=g.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return x=Math.min(w[4].length,7),C=m(k,Math.pow(10,x)-1,!1),b=""+A," "==(S=$("n",w[1],C[1])).charAt(S.length-1)&&(S=S.substr(0,S.length-1)+"0"),b+=S+w[2]+"/"+w[3],(S=a(C[2],x)).length<w[4].length&&(S=f(w[4].substr(w[4].length-S.length))+S),b+=S;if(w=g.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return x=Math.min(Math.max(w[1].length,w[4].length),7),A+((C=m(k,Math.pow(10,x)-1,!0))[0]||(C[1]?"":"0"))+" "+(C[1]?i(C[1],x)+w[2]+"/"+w[3]+a(C[2],x):n(" ",2*x+1+w[2].length+w[3].length));if(w=g.match(/^[#0?]+$/))return b=l(_,0),g.length<=b.length?b:f(g.substr(0,g.length-b.length))+b;if(w=g.match(/^([#0?]+)\.([#0]+)$/)){b=""+_.toFixed(Math.min(w[2].length,10)).replace(/([^0])0+$/,"$1"),x=b.indexOf(".");var T=g.indexOf(".")-x,F=g.length-b.length-T;return f(g.substr(0,T)+b+g.substr(g.length-F))}if(w=g.match(/^00,000\.([#0]*0)$/))return x=d(_,w[1].length),_<0?"-"+p(v,g,-_):E(function(e){return e<2147483647&&e>-2147483648?""+(e>=0?0|e:e-1|0):""+Math.floor(e)}(_)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function(e){return"00,"+(e.length<3?r(0,3-e.length):"")+e}))+"."+r(x,w[1].length);switch(g){case"###,##0.00":return p(v,"#,##0.00",_);case"###,###":case"##,###":case"#,###":var M=E(l(k,0));return"0"!==M?A+M:"";case"###,###.00":return p(v,"###,##0.00",_).replace(/^0\./,".");case"#,###.00":return p(v,"#,##0.00",_).replace(/^0\./,".")}throw new Error("unsupported format |"+g+"|")}function v(l,h,d){if(40===l.charCodeAt(0)&&!h.match(u)){var p=h.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return d>=0?v("n",p,d):"("+v("n",p,-d)+")"}if(44===h.charCodeAt(h.length-1))return function(e,t,n){for(var r=t.length-1;44===t.charCodeAt(r-1);)--r;return $(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}(l,h,d);if(-1!==h.indexOf("%"))return function(t,r,i){var a=r.replace(e,""),o=r.length-a.length;return $(t,a,i*Math.pow(10,2*o))+n("%",o)}(l,h,d);if(-1!==h.indexOf("E"))return function e(t,n){var r,i=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(0==n)return"0.0E+0";if(n<0)return"-"+e(t,-n);var a=t.indexOf(".");-1===a&&(a=t.indexOf("E"));var o=Math.floor(Math.log(n)*Math.LOG10E)%a;if(o<0&&(o+=a),!(r=(n/Math.pow(10,o)).toPrecision(i+1+(a+o)%a)).match(/[Ee]/)){var l=Math.floor(Math.log(n)*Math.LOG10E);-1===r.indexOf(".")?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+o):r+="E+"+(l-o),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function(e,t,n,r){return t+n+r.substr(0,(a+o)%a)+"."+r.substr(o)+"E"}))}else r=n.toExponential(i);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}(h,d);if(36===h.charCodeAt(0))return"$"+v(l,h.substr(" "==h.charAt(1)?2:1),d);var g,_,y,b,w=Math.abs(d),x=d<0?"-":"";if(h.match(/^00+$/))return x+r(w,h.length);if(h.match(/^[#?]+$/))return g=""+d,0===d&&(g=""),g.length>h.length?g:f(h.substr(0,h.length-g.length))+g;if(_=h.match(o))return function(e,t,r){return r+(0===t?"":""+t)+n(" ",e[1].length+2+e[4].length)}(_,w,x);if(h.match(/^#+0+$/))return x+r(w,h.length-h.indexOf("0"));if(_=h.match(s))return g=(g=(""+d).replace(/^([^\.]+)$/,"$1."+f(_[1])).replace(/\.$/,"."+f(_[1]))).replace(/\.(\d*)$/,(function(e,t){return"."+t+n("0",f(_[1]).length-t.length)})),-1!==h.indexOf("0.")?g:g.replace(/^0\./,".");if(h=h.replace(/^#+([0.])/,"$1"),_=h.match(/^(0*)\.(#*)$/))return x+(""+w).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,_[1].length?"0.":".");if(_=h.match(/^#{1,3},##0(\.?)$/))return x+E(""+w);if(_=h.match(/^#,##0\.([#0]*0)$/))return d<0?"-"+v(l,h,-d):E(""+d)+"."+n("0",_[1].length);if(_=h.match(/^#,#*,#0/))return v(l,h.replace(/^#,#*,/,""),d);if(_=h.match(/^([0#]+)(\\?-([0#]+))+$/))return g=t(v(l,h.replace(/[\\-]/g,""),d)),y=0,t(t(h.replace(/\\/g,"")).replace(/[0#]/g,(function(e){return y<g.length?g.charAt(y++):"0"===e?"0":""})));if(h.match(c))return"("+(g=v(l,"##########",d)).substr(0,3)+") "+g.substr(3,3)+"-"+g.substr(6);var C="";if(_=h.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return y=Math.min(_[4].length,7),b=m(w,Math.pow(10,y)-1,!1),g=""+x," "==(C=$("n",_[1],b[1])).charAt(C.length-1)&&(C=C.substr(0,C.length-1)+"0"),g+=C+_[2]+"/"+_[3],(C=a(b[2],y)).length<_[4].length&&(C=f(_[4].substr(_[4].length-C.length))+C),g+=C;if(_=h.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return y=Math.min(Math.max(_[1].length,_[4].length),7),x+((b=m(w,Math.pow(10,y)-1,!0))[0]||(b[1]?"":"0"))+" "+(b[1]?i(b[1],y)+_[2]+"/"+_[3]+a(b[2],y):n(" ",2*y+1+_[2].length+_[3].length));if(_=h.match(/^[#0?]+$/))return g=""+d,h.length<=g.length?g:f(h.substr(0,h.length-g.length))+g;if(_=h.match(/^([#0]+)\.([#0]+)$/)){g=""+d.toFixed(Math.min(_[2].length,10)).replace(/([^0])0+$/,"$1"),y=g.indexOf(".");var k=h.indexOf(".")-y,A=h.length-g.length-k;return f(h.substr(0,k)+g+h.substr(h.length-A))}if(_=h.match(/^00,000\.([#0]*0)$/))return d<0?"-"+v(l,h,-d):E(""+d).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function(e){return"00,"+(e.length<3?r(0,3-e.length):"")+e}))+"."+r(0,_[1].length);switch(h){case"###,###":case"##,###":case"#,###":var S=E(""+w);return"0"!==S?x+S:"";default:if(h.match(/\.[0#?]*$/))return v(l,h.slice(0,h.lastIndexOf(".")),d)+f(h.slice(h.lastIndexOf(".")))}throw new Error("unsupported format |"+h+"|")}return function(e,t,n){return(0|n)===n?v(e,t,n):p(e,t,n)}}();function A(e){for(var t=[],n=!1,r=0,i=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(i,r-i),i=r+1}if(t[t.length]=e.substr(i),!0===n)throw new Error("Format |"+e+"| unterminated string ");return t}e._split=A;var S=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function T(e){for(var t=0,n="",r="";t<e.length;)switch(n=e.charAt(t)){case"G":s(e,t)&&(t+=6),t++;break;case'"':for(;34!==e.charCodeAt(++t)&&t<e.length;);++t;break;case"\\":case"_":t+=2;break;case"@":++t;break;case"B":case"b":if("1"===e.charAt(t+1)||"2"===e.charAt(t+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if("A/P"===e.substr(t,3).toUpperCase())return!0;if("AM/PM"===e.substr(t,5).toUpperCase())return!0;if("上午/下午"===e.substr(t,5).toUpperCase())return!0;++t;break;case"[":for(r=n;"]"!==e.charAt(t++)&&t<e.length;)r+=e.charAt(t);if(r.match(S))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||"\\"==n&&"-"==e.charAt(t+1)&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t," "!=e.charAt(t)&&"*"!=e.charAt(t)||++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":default:++t}return!1}function F(e,t,n,r){for(var i,a,o,l=[],u="",c=0,f="",h="t",d="H";c<e.length;)switch(f=e.charAt(c)){case"G":if(!s(e,c))throw new Error("unrecognized character "+f+" in "+e);l[l.length]={t:"G",v:"General"},c+=7;break;case'"':for(u="";34!==(o=e.charCodeAt(++c))&&c<e.length;)u+=String.fromCharCode(o);l[l.length]={t:"t",v:u},++c;break;case"\\":var p=e.charAt(++c),v="("===p||")"===p?p:"t";l[l.length]={t:v,v:p},++c;break;case"_":l[l.length]={t:"t",v:" "},c+=2;break;case"@":l[l.length]={t:"T",v:t},++c;break;case"B":case"b":if("1"===e.charAt(c+1)||"2"===e.charAt(c+1)){if(null==i&&null==(i=g(t,n,"2"===e.charAt(c+1))))return"";l[l.length]={t:"X",v:e.substr(c,2)},h=f,c+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":f=f.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0)return"";if(null==i&&null==(i=g(t,n)))return"";for(u=f;++c<e.length&&e.charAt(c).toLowerCase()===f;)u+=f;"m"===f&&"h"===h.toLowerCase()&&(f="M"),"h"===f&&(f=d),l[l.length]={t:f,v:u},h=f;break;case"A":case"a":case"上":var m={t:f,v:f};if(null==i&&(i=g(t,n)),"A/P"===e.substr(c,3).toUpperCase()?(null!=i&&(m.v=i.H>=12?"P":"A"),m.t="T",d="h",c+=3):"AM/PM"===e.substr(c,5).toUpperCase()?(null!=i&&(m.v=i.H>=12?"PM":"AM"),m.t="T",c+=5,d="h"):"上午/下午"===e.substr(c,5).toUpperCase()?(null!=i&&(m.v=i.H>=12?"下午":"上午"),m.t="T",c+=5,d="h"):(m.t="t",++c),null==i&&"T"===m.t)return"";l[l.length]=m,h=f;break;case"[":for(u=f;"]"!==e.charAt(c++)&&c<e.length;)u+=e.charAt(c);if("]"!==u.slice(-1))throw'unterminated "[" block: |'+u+"|";if(u.match(S)){if(null==i&&null==(i=g(t,n)))return"";l[l.length]={t:"Z",v:u.toLowerCase()},h=u.charAt(1)}else u.indexOf("$")>-1&&(u=(u.match(/\$([^-\[\]]*)/)||[])[1]||"$",T(e)||(l[l.length]={t:"t",v:u}));break;case".":if(null!=i){for(u=f;++c<e.length&&"0"===(f=e.charAt(c));)u+=f;l[l.length]={t:"s",v:u};break}case"0":case"#":for(u=f;++c<e.length&&"0#?.,E+-%".indexOf(f=e.charAt(c))>-1;)u+=f;l[l.length]={t:"n",v:u};break;case"?":for(u=f;e.charAt(++c)===f;)u+=f;l[l.length]={t:f,v:u},h=f;break;case"*":++c," "!=e.charAt(c)&&"*"!=e.charAt(c)||++c;break;case"(":case")":l[l.length]={t:1===r?"t":f,v:f},++c;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(u=f;c<e.length&&"0123456789".indexOf(e.charAt(++c))>-1;)u+=e.charAt(c);l[l.length]={t:"D",v:u};break;case" ":l[l.length]={t:f,v:f},++c;break;case"$":l[l.length]={t:"t",v:"$"},++c;break;default:if(-1===",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(f))throw new Error("unrecognized character "+f+" in "+e);l[l.length]={t:"t",v:f},++c}var _,y=0,b=0;for(c=l.length-1,h="t";c>=0;--c)switch(l[c].t){case"h":case"H":l[c].t=d,h="h",y<1&&(y=1);break;case"s":(_=l[c].v.match(/\.0+$/))&&(b=Math.max(b,_[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":h=l[c].t;break;case"m":"s"===h&&(l[c].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&l[c].v.match(/[Hh]/)&&(y=1),y<2&&l[c].v.match(/[Mm]/)&&(y=2),y<3&&l[c].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:i.u>=.5&&(i.u=0,++i.S),i.S>=60&&(i.S=0,++i.M),i.M>=60&&(i.M=0,++i.H);break;case 2:i.u>=.5&&(i.u=0,++i.S),i.S>=60&&(i.S=0,++i.M)}var w,x="";for(c=0;c<l.length;++c)switch(l[c].t){case"t":case"T":case" ":case"D":break;case"X":l[c].v="",l[c].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":l[c].v=k(l[c].t.charCodeAt(0),l[c].v,i,b),l[c].t="t";break;case"n":case"?":for(w=c+1;null!=l[w]&&("?"===(f=l[w].t)||"D"===f||(" "===f||"t"===f)&&null!=l[w+1]&&("?"===l[w+1].t||"t"===l[w+1].t&&"/"===l[w+1].v)||"("===l[c].t&&(" "===f||"n"===f||")"===f)||"t"===f&&("/"===l[w].v||" "===l[w].v&&null!=l[w+1]&&"?"==l[w+1].t));)l[c].v+=l[w].v,l[w]={v:"",t:";"},++w;x+=l[c].v,c=w-1;break;case"G":l[c].t="t",l[c].v=C(t,n)}var E,A,F="";if(x.length>0){40==x.charCodeAt(0)?(E=t<0&&45===x.charCodeAt(0)?-t:t,A=$("n",x,E)):(A=$("n",x,E=t<0&&r>1?-t:t),E<0&&l[0]&&"t"==l[0].t&&(A=A.substr(1),l[0].v="-"+l[0].v)),w=A.length-1;var M=l.length;for(c=0;c<l.length;++c)if(null!=l[c]&&"t"!=l[c].t&&l[c].v.indexOf(".")>-1){M=c;break}var O=l.length;if(M===l.length&&-1===A.indexOf("E")){for(c=l.length-1;c>=0;--c)null!=l[c]&&-1!=="n?".indexOf(l[c].t)&&(w>=l[c].v.length-1?(w-=l[c].v.length,l[c].v=A.substr(w+1,l[c].v.length)):w<0?l[c].v="":(l[c].v=A.substr(0,w+1),w=-1),l[c].t="t",O=c);w>=0&&O<l.length&&(l[O].v=A.substr(0,w+1)+l[O].v)}else if(M!==l.length&&-1===A.indexOf("E")){for(w=A.indexOf(".")-1,c=M;c>=0;--c)if(null!=l[c]&&-1!=="n?".indexOf(l[c].t)){for(a=l[c].v.indexOf(".")>-1&&c===M?l[c].v.indexOf(".")-1:l[c].v.length-1,F=l[c].v.substr(a+1);a>=0;--a)w>=0&&("0"===l[c].v.charAt(a)||"#"===l[c].v.charAt(a))&&(F=A.charAt(w--)+F);l[c].v=F,l[c].t="t",O=c}for(w>=0&&O<l.length&&(l[O].v=A.substr(0,w+1)+l[O].v),w=A.indexOf(".")+1,c=M;c<l.length;++c)if(null!=l[c]&&(-1!=="n?(".indexOf(l[c].t)||c===M)){for(a=l[c].v.indexOf(".")>-1&&c===M?l[c].v.indexOf(".")+1:0,F=l[c].v.substr(0,a);a<l[c].v.length;++a)w<A.length&&(F+=A.charAt(w++));l[c].v=F,l[c].t="t",O=c}}}for(c=0;c<l.length;++c)null!=l[c]&&"n?".indexOf(l[c].t)>-1&&(E=r>1&&t<0&&c>0&&"-"===l[c-1].v?-t:t,l[c].v=$(l[c].t,l[c].v,E),l[c].t="t");var j="";for(c=0;c!==l.length;++c)null!=l[c]&&(j+=l[c].v);return j}e.is_date=T,e._eval=F;var M=/\[[=<>]/,O=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function j(e,t){if(null==t)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0}return!1}function R(e,t,n){null==n&&(n={});var r="";switch(typeof e){case"string":r="m/d/yy"==e&&n.dateNF?n.dateNF:e;break;case"number":null==(r=14==e&&n.dateNF?n.dateNF:(null!=n.table?n.table:h)[e])&&(r=n.table&&n.table[d[e]]||h[d[e]]),null==r&&(r=v[e]||"General")}if(s(r,0))return C(t,n);t instanceof Date&&(t=w(t,n.date1904));var i=function(e,t){var n=A(e),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if("number"!=typeof t)return[4,4===n.length||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"]}var a=t>0?n[0]:t<0?n[1]:n[2];if(-1===n[0].indexOf("[")&&-1===n[1].indexOf("["))return[r,a];if(null!=n[0].match(M)||null!=n[1].match(M)){var o=n[0].match(O),l=n[1].match(O);return j(t,o)?[r,n[0]]:j(t,l)?[r,n[1]]:[r,n[null!=o&&null!=l?2:1]]}return[r,a]}(r,t);if(s(i[1]))return C(t,n);if(!0===t)t="TRUE";else if(!1===t)t="FALSE";else if(""===t||null==t)return"";return F(i[1],t,n,i[0])}function N(e,t){if("number"!=typeof t){t=+t||-1;for(var n=0;n<392;++n)if(null!=h[n]){if(h[n]==e){t=n;break}}else t<0&&(t=n);t<0&&(t=391)}return h[t]=e,t}e.load=N,e._table=h,e.get_table=function(){return h},e.load_table=function(e){for(var t=0;392!=t;++t)void 0!==e[t]&&N(e[t],t)},e.init_table=f,e.format=R}(r),"undefined"==typeof DO_NOT_EXPORT_SSF&&(e.exports=r)},function(e,t,n){"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},a=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function l(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},r=[],i=0;i<e.length;i++){var a=e[i],s=t.base?a[0]+t.base:a[0],u=n[s]||0,c="".concat(s," ").concat(u);n[s]=u+1;var f=l(c),h={css:a[1],media:a[2],sourceMap:a[3]};-1!==f?(o[f].references++,o[f].updater(h)):o.push({identifier:c,updater:m(h,t),references:1}),r.push(c)}return r}function u(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var o=a(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var c,f=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function h(e,t,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=f(t,i);else{var a=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function d(e,t,n){var r=n.css,i=n.media,a=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),a&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var p=null,v=0;function m(e,t){var n,r,i;if(t.singleton){var a=v++;n=p||(p=u(t)),r=h.bind(null,n,a,!1),i=h.bind(null,n,a,!0)}else n=u(t),r=d.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=i());var n=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var i=l(n[r]);o[i].references--}for(var a=s(e,t),u=0;u<n.length;u++){var c=l(n[u]);0===o[c].references&&(o[c].updater(),o.splice(c,1))}n=a}}}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=(o=r,l=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(l),"/*# ".concat(s," */")),a=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(a).concat([i]).join("\n")}var o,l,s;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var a=0;a<this.length;a++){var o=this[a][0];null!=o&&(i[o]=!0)}for(var l=0;l<e.length;l++){var s=[].concat(e[l]);r&&i[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),t.push(s))}},t}},function(e,t,n){(function(e,r){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var a="Expected a function",o="__lodash_placeholder__",l=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],s="[object Arguments]",u="[object Array]",c="[object Boolean]",f="[object Date]",h="[object Error]",d="[object Function]",p="[object GeneratorFunction]",v="[object Map]",m="[object Number]",g="[object Object]",_="[object RegExp]",y="[object Set]",b="[object String]",w="[object Symbol]",x="[object WeakMap]",C="[object ArrayBuffer]",k="[object DataView]",E="[object Float32Array]",$="[object Float64Array]",A="[object Int8Array]",S="[object Int16Array]",T="[object Int32Array]",F="[object Uint8Array]",M="[object Uint16Array]",O="[object Uint32Array]",j=/\b__p \+= '';/g,R=/\b(__p \+=) '' \+/g,N=/(__e\(.*?\)|\b__t\)) \+\n'';/g,I=/&(?:amp|lt|gt|quot|#39);/g,D=/[&<>"']/g,z=RegExp(I.source),L=RegExp(D.source),B=/<%-([\s\S]+?)%>/g,H=/<%([\s\S]+?)%>/g,P=/<%=([\s\S]+?)%>/g,V=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,U=/^\w*$/,q=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,W=/[\\^$.*+?()[\]{}|]/g,G=RegExp(W.source),X=/^\s+|\s+$/g,Y=/^\s+/,Z=/\s+$/,J=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,K=/\{\n\/\* \[wrapped with (.+)\] \*/,Q=/,? & /,ee=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,te=/\\(\\)?/g,ne=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,re=/\w*$/,ie=/^[-+]0x[0-9a-f]+$/i,ae=/^0b[01]+$/i,oe=/^\[object .+?Constructor\]$/,le=/^0o[0-7]+$/i,se=/^(?:0|[1-9]\d*)$/,ue=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ce=/($^)/,fe=/['\n\r\u2028\u2029\\]/g,he="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",de="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pe="[\\ud800-\\udfff]",ve="["+de+"]",me="["+he+"]",ge="\\d+",_e="[\\u2700-\\u27bf]",ye="[a-z\\xdf-\\xf6\\xf8-\\xff]",be="[^\\ud800-\\udfff"+de+ge+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",we="\\ud83c[\\udffb-\\udfff]",xe="[^\\ud800-\\udfff]",Ce="(?:\\ud83c[\\udde6-\\uddff]){2}",ke="[\\ud800-\\udbff][\\udc00-\\udfff]",Ee="[A-Z\\xc0-\\xd6\\xd8-\\xde]",$e="(?:"+ye+"|"+be+")",Ae="(?:"+Ee+"|"+be+")",Se="(?:"+me+"|"+we+")"+"?",Te="[\\ufe0e\\ufe0f]?"+Se+("(?:\\u200d(?:"+[xe,Ce,ke].join("|")+")[\\ufe0e\\ufe0f]?"+Se+")*"),Fe="(?:"+[_e,Ce,ke].join("|")+")"+Te,Me="(?:"+[xe+me+"?",me,Ce,ke,pe].join("|")+")",Oe=RegExp("['’]","g"),je=RegExp(me,"g"),Re=RegExp(we+"(?="+we+")|"+Me+Te,"g"),Ne=RegExp([Ee+"?"+ye+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[ve,Ee,"$"].join("|")+")",Ae+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[ve,Ee+$e,"$"].join("|")+")",Ee+"?"+$e+"+(?:['’](?:d|ll|m|re|s|t|ve))?",Ee+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ge,Fe].join("|"),"g"),Ie=RegExp("[\\u200d\\ud800-\\udfff"+he+"\\ufe0e\\ufe0f]"),De=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ze=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Le=-1,Be={};Be[E]=Be[$]=Be[A]=Be[S]=Be[T]=Be[F]=Be["[object Uint8ClampedArray]"]=Be[M]=Be[O]=!0,Be[s]=Be[u]=Be[C]=Be[c]=Be[k]=Be[f]=Be[h]=Be[d]=Be[v]=Be[m]=Be[g]=Be[_]=Be[y]=Be[b]=Be[x]=!1;var He={};He[s]=He[u]=He[C]=He[k]=He[c]=He[f]=He[E]=He[$]=He[A]=He[S]=He[T]=He[v]=He[m]=He[g]=He[_]=He[y]=He[b]=He[w]=He[F]=He["[object Uint8ClampedArray]"]=He[M]=He[O]=!0,He[h]=He[d]=He[x]=!1;var Pe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ve=parseFloat,Ue=parseInt,qe="object"==typeof e&&e&&e.Object===Object&&e,We="object"==typeof self&&self&&self.Object===Object&&self,Ge=qe||We||Function("return this")(),Xe=t&&!t.nodeType&&t,Ye=Xe&&"object"==typeof r&&r&&!r.nodeType&&r,Ze=Ye&&Ye.exports===Xe,Je=Ze&&qe.process,Ke=function(){try{var e=Ye&&Ye.require&&Ye.require("util").types;return e||Je&&Je.binding&&Je.binding("util")}catch(e){}}(),Qe=Ke&&Ke.isArrayBuffer,et=Ke&&Ke.isDate,tt=Ke&&Ke.isMap,nt=Ke&&Ke.isRegExp,rt=Ke&&Ke.isSet,it=Ke&&Ke.isTypedArray;function at(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function ot(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}function lt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function st(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function ut(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function ct(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function ft(e,t){return!!(null==e?0:e.length)&&wt(e,t,0)>-1}function ht(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function dt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function pt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function vt(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function mt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function gt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var _t=Et("length");function yt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function bt(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function wt(e,t,n){return t==t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):bt(e,Ct,n)}function xt(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}function Ct(e){return e!=e}function kt(e,t){var n=null==e?0:e.length;return n?St(e,t)/n:NaN}function Et(e){return function(t){return null==t?void 0:t[e]}}function $t(e){return function(t){return null==e?void 0:e[t]}}function At(e,t,n,r,i){return i(e,(function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)})),n}function St(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);void 0!==a&&(n=void 0===n?a:n+a)}return n}function Tt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Ft(e){return function(t){return e(t)}}function Mt(e,t){return dt(t,(function(t){return e[t]}))}function Ot(e,t){return e.has(t)}function jt(e,t){for(var n=-1,r=e.length;++n<r&&wt(t,e[n],0)>-1;);return n}function Rt(e,t){for(var n=e.length;n--&&wt(t,e[n],0)>-1;);return n}function Nt(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var It=$t({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Dt=$t({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function zt(e){return"\\"+Pe[e]}function Lt(e){return Ie.test(e)}function Bt(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Ht(e,t){return function(n){return e(t(n))}}function Pt(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var l=e[n];l!==t&&l!==o||(e[n]=o,a[i++]=n)}return a}function Vt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function Ut(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function qt(e){return Lt(e)?function(e){var t=Re.lastIndex=0;for(;Re.test(e);)++t;return t}(e):_t(e)}function Wt(e){return Lt(e)?function(e){return e.match(Re)||[]}(e):function(e){return e.split("")}(e)}var Gt=$t({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Xt=function e(t){var n,r=(t=null==t?Ge:Xt.defaults(Ge.Object(),t,Xt.pick(Ge,ze))).Array,i=t.Date,he=t.Error,de=t.Function,pe=t.Math,ve=t.Object,me=t.RegExp,ge=t.String,_e=t.TypeError,ye=r.prototype,be=de.prototype,we=ve.prototype,xe=t["__core-js_shared__"],Ce=be.toString,ke=we.hasOwnProperty,Ee=0,$e=(n=/[^.]+$/.exec(xe&&xe.keys&&xe.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Ae=we.toString,Se=Ce.call(ve),Te=Ge._,Fe=me("^"+Ce.call(ke).replace(W,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Me=Ze?t.Buffer:void 0,Re=t.Symbol,Ie=t.Uint8Array,Pe=Me?Me.allocUnsafe:void 0,qe=Ht(ve.getPrototypeOf,ve),We=ve.create,Xe=we.propertyIsEnumerable,Ye=ye.splice,Je=Re?Re.isConcatSpreadable:void 0,Ke=Re?Re.iterator:void 0,_t=Re?Re.toStringTag:void 0,$t=function(){try{var e=Qi(ve,"defineProperty");return e({},"",{}),e}catch(e){}}(),Yt=t.clearTimeout!==Ge.clearTimeout&&t.clearTimeout,Zt=i&&i.now!==Ge.Date.now&&i.now,Jt=t.setTimeout!==Ge.setTimeout&&t.setTimeout,Kt=pe.ceil,Qt=pe.floor,en=ve.getOwnPropertySymbols,tn=Me?Me.isBuffer:void 0,nn=t.isFinite,rn=ye.join,an=Ht(ve.keys,ve),on=pe.max,ln=pe.min,sn=i.now,un=t.parseInt,cn=pe.random,fn=ye.reverse,hn=Qi(t,"DataView"),dn=Qi(t,"Map"),pn=Qi(t,"Promise"),vn=Qi(t,"Set"),mn=Qi(t,"WeakMap"),gn=Qi(ve,"create"),_n=mn&&new mn,yn={},bn=$a(hn),wn=$a(dn),xn=$a(pn),Cn=$a(vn),kn=$a(mn),En=Re?Re.prototype:void 0,$n=En?En.valueOf:void 0,An=En?En.toString:void 0;function Sn(e){if(Uo(e)&&!jo(e)&&!(e instanceof On)){if(e instanceof Mn)return e;if(ke.call(e,"__wrapped__"))return Aa(e)}return new Mn(e)}var Tn=function(){function e(){}return function(t){if(!Vo(t))return{};if(We)return We(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Fn(){}function Mn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function On(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function jn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Rn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Nn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function In(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Nn;++t<n;)this.add(e[t])}function Dn(e){var t=this.__data__=new Rn(e);this.size=t.size}function zn(e,t){var n=jo(e),r=!n&&Oo(e),i=!n&&!r&&Do(e),a=!n&&!r&&!i&&Ko(e),o=n||r||i||a,l=o?Tt(e.length,ge):[],s=l.length;for(var u in e)!t&&!ke.call(e,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||oa(u,s))||l.push(u);return l}function Ln(e){var t=e.length;return t?e[Ir(0,t-1)]:void 0}function Bn(e,t){return Ca(gi(e),Yn(t,0,e.length))}function Hn(e){return Ca(gi(e))}function Pn(e,t,n){(void 0!==n&&!To(e[t],n)||void 0===n&&!(t in e))&&Gn(e,t,n)}function Vn(e,t,n){var r=e[t];ke.call(e,t)&&To(r,n)&&(void 0!==n||t in e)||Gn(e,t,n)}function Un(e,t){for(var n=e.length;n--;)if(To(e[n][0],t))return n;return-1}function qn(e,t,n,r){return er(e,(function(e,i,a){t(r,e,n(e),a)})),r}function Wn(e,t){return e&&_i(t,bl(t),e)}function Gn(e,t,n){"__proto__"==t&&$t?$t(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Xn(e,t){for(var n=-1,i=t.length,a=r(i),o=null==e;++n<i;)a[n]=o?void 0:vl(e,t[n]);return a}function Yn(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Zn(e,t,n,r,i,a){var o,l=1&t,u=2&t,h=4&t;if(n&&(o=i?n(e,r,i,a):n(e)),void 0!==o)return o;if(!Vo(e))return e;var x=jo(e);if(x){if(o=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&ke.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!l)return gi(e,o)}else{var j=na(e),R=j==d||j==p;if(Do(e))return fi(e,l);if(j==g||j==s||R&&!i){if(o=u||R?{}:ia(e),!l)return u?function(e,t){return _i(e,ta(e),t)}(e,function(e,t){return e&&_i(t,wl(t),e)}(o,e)):function(e,t){return _i(e,ea(e),t)}(e,Wn(o,e))}else{if(!He[j])return i?e:{};o=function(e,t,n){var r=e.constructor;switch(t){case C:return hi(e);case c:case f:return new r(+e);case k:return function(e,t){var n=t?hi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case E:case $:case A:case S:case T:case F:case"[object Uint8ClampedArray]":case M:case O:return di(e,n);case v:return new r;case m:case b:return new r(e);case _:return function(e){var t=new e.constructor(e.source,re.exec(e));return t.lastIndex=e.lastIndex,t}(e);case y:return new r;case w:return i=e,$n?ve($n.call(i)):{}}var i}(e,j,l)}}a||(a=new Dn);var N=a.get(e);if(N)return N;a.set(e,o),Yo(e)?e.forEach((function(r){o.add(Zn(r,t,n,r,e,a))})):qo(e)&&e.forEach((function(r,i){o.set(i,Zn(r,t,n,i,e,a))}));var I=x?void 0:(h?u?Wi:qi:u?wl:bl)(e);return lt(I||e,(function(r,i){I&&(r=e[i=r]),Vn(o,i,Zn(r,t,n,i,e,a))})),o}function Jn(e,t,n){var r=n.length;if(null==e)return!r;for(e=ve(e);r--;){var i=n[r],a=t[i],o=e[i];if(void 0===o&&!(i in e)||!a(o))return!1}return!0}function Kn(e,t,n){if("function"!=typeof e)throw new _e(a);return ya((function(){e.apply(void 0,n)}),t)}function Qn(e,t,n,r){var i=-1,a=ft,o=!0,l=e.length,s=[],u=t.length;if(!l)return s;n&&(t=dt(t,Ft(n))),r?(a=ht,o=!1):t.length>=200&&(a=Ot,o=!1,t=new In(t));e:for(;++i<l;){var c=e[i],f=null==n?c:n(c);if(c=r||0!==c?c:0,o&&f==f){for(var h=u;h--;)if(t[h]===f)continue e;s.push(c)}else a(t,f,r)||s.push(c)}return s}Sn.templateSettings={escape:B,evaluate:H,interpolate:P,variable:"",imports:{_:Sn}},Sn.prototype=Fn.prototype,Sn.prototype.constructor=Sn,Mn.prototype=Tn(Fn.prototype),Mn.prototype.constructor=Mn,On.prototype=Tn(Fn.prototype),On.prototype.constructor=On,jn.prototype.clear=function(){this.__data__=gn?gn(null):{},this.size=0},jn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},jn.prototype.get=function(e){var t=this.__data__;if(gn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return ke.call(t,e)?t[e]:void 0},jn.prototype.has=function(e){var t=this.__data__;return gn?void 0!==t[e]:ke.call(t,e)},jn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=gn&&void 0===t?"__lodash_hash_undefined__":t,this},Rn.prototype.clear=function(){this.__data__=[],this.size=0},Rn.prototype.delete=function(e){var t=this.__data__,n=Un(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ye.call(t,n,1),--this.size,!0)},Rn.prototype.get=function(e){var t=this.__data__,n=Un(t,e);return n<0?void 0:t[n][1]},Rn.prototype.has=function(e){return Un(this.__data__,e)>-1},Rn.prototype.set=function(e,t){var n=this.__data__,r=Un(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Nn.prototype.clear=function(){this.size=0,this.__data__={hash:new jn,map:new(dn||Rn),string:new jn}},Nn.prototype.delete=function(e){var t=Ji(this,e).delete(e);return this.size-=t?1:0,t},Nn.prototype.get=function(e){return Ji(this,e).get(e)},Nn.prototype.has=function(e){return Ji(this,e).has(e)},Nn.prototype.set=function(e,t){var n=Ji(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},In.prototype.add=In.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},In.prototype.has=function(e){return this.__data__.has(e)},Dn.prototype.clear=function(){this.__data__=new Rn,this.size=0},Dn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Dn.prototype.get=function(e){return this.__data__.get(e)},Dn.prototype.has=function(e){return this.__data__.has(e)},Dn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Rn){var r=n.__data__;if(!dn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Nn(r)}return n.set(e,t),this.size=n.size,this};var er=wi(sr),tr=wi(ur,!0);function nr(e,t){var n=!0;return er(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function rr(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],o=t(a);if(null!=o&&(void 0===l?o==o&&!Jo(o):n(o,l)))var l=o,s=a}return s}function ir(e,t){var n=[];return er(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function ar(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=aa),i||(i=[]);++a<o;){var l=e[a];t>0&&n(l)?t>1?ar(l,t-1,n,r,i):pt(i,l):r||(i[i.length]=l)}return i}var or=xi(),lr=xi(!0);function sr(e,t){return e&&or(e,t,bl)}function ur(e,t){return e&&lr(e,t,bl)}function cr(e,t){return ct(t,(function(t){return Bo(e[t])}))}function fr(e,t){for(var n=0,r=(t=li(t,e)).length;null!=e&&n<r;)e=e[Ea(t[n++])];return n&&n==r?e:void 0}function hr(e,t,n){var r=t(e);return jo(e)?r:pt(r,n(e))}function dr(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":_t&&_t in ve(e)?function(e){var t=ke.call(e,_t),n=e[_t];try{e[_t]=void 0;var r=!0}catch(e){}var i=Ae.call(e);r&&(t?e[_t]=n:delete e[_t]);return i}(e):function(e){return Ae.call(e)}(e)}function pr(e,t){return e>t}function vr(e,t){return null!=e&&ke.call(e,t)}function mr(e,t){return null!=e&&t in ve(e)}function gr(e,t,n){for(var i=n?ht:ft,a=e[0].length,o=e.length,l=o,s=r(o),u=1/0,c=[];l--;){var f=e[l];l&&t&&(f=dt(f,Ft(t))),u=ln(f.length,u),s[l]=!n&&(t||a>=120&&f.length>=120)?new In(l&&f):void 0}f=e[0];var h=-1,d=s[0];e:for(;++h<a&&c.length<u;){var p=f[h],v=t?t(p):p;if(p=n||0!==p?p:0,!(d?Ot(d,v):i(c,v,n))){for(l=o;--l;){var m=s[l];if(!(m?Ot(m,v):i(e[l],v,n)))continue e}d&&d.push(v),c.push(p)}}return c}function _r(e,t,n){var r=null==(e=va(e,t=li(t,e)))?e:e[Ea(za(t))];return null==r?void 0:at(r,e,n)}function yr(e){return Uo(e)&&dr(e)==s}function br(e,t,n,r,i){return e===t||(null==e||null==t||!Uo(e)&&!Uo(t)?e!=e&&t!=t:function(e,t,n,r,i,a){var o=jo(e),l=jo(t),d=o?u:na(e),p=l?u:na(t),x=(d=d==s?g:d)==g,E=(p=p==s?g:p)==g,$=d==p;if($&&Do(e)){if(!Do(t))return!1;o=!0,x=!1}if($&&!x)return a||(a=new Dn),o||Ko(e)?Vi(e,t,n,r,i,a):function(e,t,n,r,i,a,o){switch(n){case k:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case C:return!(e.byteLength!=t.byteLength||!a(new Ie(e),new Ie(t)));case c:case f:case m:return To(+e,+t);case h:return e.name==t.name&&e.message==t.message;case _:case b:return e==t+"";case v:var l=Bt;case y:var s=1&r;if(l||(l=Vt),e.size!=t.size&&!s)return!1;var u=o.get(e);if(u)return u==t;r|=2,o.set(e,t);var d=Vi(l(e),l(t),r,i,a,o);return o.delete(e),d;case w:if($n)return $n.call(e)==$n.call(t)}return!1}(e,t,d,n,r,i,a);if(!(1&n)){var A=x&&ke.call(e,"__wrapped__"),S=E&&ke.call(t,"__wrapped__");if(A||S){var T=A?e.value():e,F=S?t.value():t;return a||(a=new Dn),i(T,F,n,r,a)}}if(!$)return!1;return a||(a=new Dn),function(e,t,n,r,i,a){var o=1&n,l=qi(e),s=l.length,u=qi(t).length;if(s!=u&&!o)return!1;var c=s;for(;c--;){var f=l[c];if(!(o?f in t:ke.call(t,f)))return!1}var h=a.get(e),d=a.get(t);if(h&&d)return h==t&&d==e;var p=!0;a.set(e,t),a.set(t,e);var v=o;for(;++c<s;){f=l[c];var m=e[f],g=t[f];if(r)var _=o?r(g,m,f,t,e,a):r(m,g,f,e,t,a);if(!(void 0===_?m===g||i(m,g,n,r,a):_)){p=!1;break}v||(v="constructor"==f)}if(p&&!v){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(p=!1)}return a.delete(e),a.delete(t),p}(e,t,n,r,i,a)}(e,t,n,r,br,i))}function wr(e,t,n,r){var i=n.length,a=i,o=!r;if(null==e)return!a;for(e=ve(e);i--;){var l=n[i];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<a;){var s=(l=n[i])[0],u=e[s],c=l[1];if(o&&l[2]){if(void 0===u&&!(s in e))return!1}else{var f=new Dn;if(r)var h=r(u,c,s,e,t,f);if(!(void 0===h?br(c,u,3,r,f):h))return!1}}return!0}function xr(e){return!(!Vo(e)||(t=e,$e&&$e in t))&&(Bo(e)?Fe:oe).test($a(e));var t}function Cr(e){return"function"==typeof e?e:null==e?Wl:"object"==typeof e?jo(e)?Tr(e[0],e[1]):Sr(e):ts(e)}function kr(e){if(!fa(e))return an(e);var t=[];for(var n in ve(e))ke.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Er(e){if(!Vo(e))return function(e){var t=[];if(null!=e)for(var n in ve(e))t.push(n);return t}(e);var t=fa(e),n=[];for(var r in e)("constructor"!=r||!t&&ke.call(e,r))&&n.push(r);return n}function $r(e,t){return e<t}function Ar(e,t){var n=-1,i=No(e)?r(e.length):[];return er(e,(function(e,r,a){i[++n]=t(e,r,a)})),i}function Sr(e){var t=Ki(e);return 1==t.length&&t[0][2]?da(t[0][0],t[0][1]):function(n){return n===e||wr(n,e,t)}}function Tr(e,t){return sa(e)&&ha(t)?da(Ea(e),t):function(n){var r=vl(n,e);return void 0===r&&r===t?ml(n,e):br(t,r,3)}}function Fr(e,t,n,r,i){e!==t&&or(t,(function(a,o){if(i||(i=new Dn),Vo(a))!function(e,t,n,r,i,a,o){var l=ga(e,n),s=ga(t,n),u=o.get(s);if(u)return void Pn(e,n,u);var c=a?a(l,s,n+"",e,t,o):void 0,f=void 0===c;if(f){var h=jo(s),d=!h&&Do(s),p=!h&&!d&&Ko(s);c=s,h||d||p?jo(l)?c=l:Io(l)?c=gi(l):d?(f=!1,c=fi(s,!0)):p?(f=!1,c=di(s,!0)):c=[]:Go(s)||Oo(s)?(c=l,Oo(l)?c=ol(l):Vo(l)&&!Bo(l)||(c=ia(s))):f=!1}f&&(o.set(s,c),i(c,s,r,a,o),o.delete(s));Pn(e,n,c)}(e,t,o,n,Fr,r,i);else{var l=r?r(ga(e,o),a,o+"",e,t,i):void 0;void 0===l&&(l=a),Pn(e,o,l)}}),wl)}function Mr(e,t){var n=e.length;if(n)return oa(t+=t<0?n:0,n)?e[t]:void 0}function Or(e,t,n){t=t.length?dt(t,(function(e){return jo(e)?function(t){return fr(t,1===e.length?e[0]:e)}:e})):[Wl];var r=-1;return t=dt(t,Ft(Zi())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Ar(e,(function(e,n,i){return{criteria:dt(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,a=t.criteria,o=i.length,l=n.length;for(;++r<o;){var s=pi(i[r],a[r]);if(s){if(r>=l)return s;var u=n[r];return s*("desc"==u?-1:1)}}return e.index-t.index}(e,t,n)}))}function jr(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],l=fr(e,o);n(l,o)&&Hr(a,li(o,e),l)}return a}function Rr(e,t,n,r){var i=r?xt:wt,a=-1,o=t.length,l=e;for(e===t&&(t=gi(t)),n&&(l=dt(e,Ft(n)));++a<o;)for(var s=0,u=t[a],c=n?n(u):u;(s=i(l,c,s,r))>-1;)l!==e&&Ye.call(l,s,1),Ye.call(e,s,1);return e}function Nr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;oa(i)?Ye.call(e,i,1):Qr(e,i)}}return e}function Ir(e,t){return e+Qt(cn()*(t-e+1))}function Dr(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=Qt(t/2))&&(e+=e)}while(t);return n}function zr(e,t){return ba(pa(e,t,Wl),e+"")}function Lr(e){return Ln(Tl(e))}function Br(e,t){var n=Tl(e);return Ca(n,Yn(t,0,n.length))}function Hr(e,t,n,r){if(!Vo(e))return e;for(var i=-1,a=(t=li(t,e)).length,o=a-1,l=e;null!=l&&++i<a;){var s=Ea(t[i]),u=n;if("__proto__"===s||"constructor"===s||"prototype"===s)return e;if(i!=o){var c=l[s];void 0===(u=r?r(c,s,l):void 0)&&(u=Vo(c)?c:oa(t[i+1])?[]:{})}Vn(l,s,u),l=l[s]}return e}var Pr=_n?function(e,t){return _n.set(e,t),e}:Wl,Vr=$t?function(e,t){return $t(e,"toString",{configurable:!0,enumerable:!1,value:Vl(t),writable:!0})}:Wl;function Ur(e){return Ca(Tl(e))}function qr(e,t,n){var i=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var o=r(a);++i<a;)o[i]=e[i+t];return o}function Wr(e,t){var n;return er(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function Gr(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var a=r+i>>>1,o=e[a];null!==o&&!Jo(o)&&(n?o<=t:o<t)?r=a+1:i=a}return i}return Xr(e,t,Wl,n)}function Xr(e,t,n,r){var i=0,a=null==e?0:e.length;if(0===a)return 0;for(var o=(t=n(t))!=t,l=null===t,s=Jo(t),u=void 0===t;i<a;){var c=Qt((i+a)/2),f=n(e[c]),h=void 0!==f,d=null===f,p=f==f,v=Jo(f);if(o)var m=r||p;else m=u?p&&(r||h):l?p&&h&&(r||!d):s?p&&h&&!d&&(r||!v):!d&&!v&&(r?f<=t:f<t);m?i=c+1:a=c}return ln(a,4294967294)}function Yr(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n],l=t?t(o):o;if(!n||!To(l,s)){var s=l;a[i++]=0===o?0:o}}return a}function Zr(e){return"number"==typeof e?e:Jo(e)?NaN:+e}function Jr(e){if("string"==typeof e)return e;if(jo(e))return dt(e,Jr)+"";if(Jo(e))return An?An.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Kr(e,t,n){var r=-1,i=ft,a=e.length,o=!0,l=[],s=l;if(n)o=!1,i=ht;else if(a>=200){var u=t?null:Di(e);if(u)return Vt(u);o=!1,i=Ot,s=new In}else s=t?[]:l;e:for(;++r<a;){var c=e[r],f=t?t(c):c;if(c=n||0!==c?c:0,o&&f==f){for(var h=s.length;h--;)if(s[h]===f)continue e;t&&s.push(f),l.push(c)}else i(s,f,n)||(s!==l&&s.push(f),l.push(c))}return l}function Qr(e,t){return null==(e=va(e,t=li(t,e)))||delete e[Ea(za(t))]}function ei(e,t,n,r){return Hr(e,t,n(fr(e,t)),r)}function ti(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?qr(e,r?0:a,r?a+1:i):qr(e,r?a+1:0,r?i:a)}function ni(e,t){var n=e;return n instanceof On&&(n=n.value()),vt(t,(function(e,t){return t.func.apply(t.thisArg,pt([e],t.args))}),n)}function ri(e,t,n){var i=e.length;if(i<2)return i?Kr(e[0]):[];for(var a=-1,o=r(i);++a<i;)for(var l=e[a],s=-1;++s<i;)s!=a&&(o[a]=Qn(o[a]||l,e[s],t,n));return Kr(ar(o,1),t,n)}function ii(e,t,n){for(var r=-1,i=e.length,a=t.length,o={};++r<i;){var l=r<a?t[r]:void 0;n(o,e[r],l)}return o}function ai(e){return Io(e)?e:[]}function oi(e){return"function"==typeof e?e:Wl}function li(e,t){return jo(e)?e:sa(e,t)?[e]:ka(ll(e))}var si=zr;function ui(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:qr(e,t,n)}var ci=Yt||function(e){return Ge.clearTimeout(e)};function fi(e,t){if(t)return e.slice();var n=e.length,r=Pe?Pe(n):new e.constructor(n);return e.copy(r),r}function hi(e){var t=new e.constructor(e.byteLength);return new Ie(t).set(new Ie(e)),t}function di(e,t){var n=t?hi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function pi(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,a=Jo(e),o=void 0!==t,l=null===t,s=t==t,u=Jo(t);if(!l&&!u&&!a&&e>t||a&&o&&s&&!l&&!u||r&&o&&s||!n&&s||!i)return 1;if(!r&&!a&&!u&&e<t||u&&n&&i&&!r&&!a||l&&n&&i||!o&&i||!s)return-1}return 0}function vi(e,t,n,i){for(var a=-1,o=e.length,l=n.length,s=-1,u=t.length,c=on(o-l,0),f=r(u+c),h=!i;++s<u;)f[s]=t[s];for(;++a<l;)(h||a<o)&&(f[n[a]]=e[a]);for(;c--;)f[s++]=e[a++];return f}function mi(e,t,n,i){for(var a=-1,o=e.length,l=-1,s=n.length,u=-1,c=t.length,f=on(o-s,0),h=r(f+c),d=!i;++a<f;)h[a]=e[a];for(var p=a;++u<c;)h[p+u]=t[u];for(;++l<s;)(d||a<o)&&(h[p+n[l]]=e[a++]);return h}function gi(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function _i(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var l=t[a],s=r?r(n[l],e[l],l,n,e):void 0;void 0===s&&(s=e[l]),i?Gn(n,l,s):Vn(n,l,s)}return n}function yi(e,t){return function(n,r){var i=jo(n)?ot:qn,a=t?t():{};return i(n,e,Zi(r,2),a)}}function bi(e){return zr((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,o&&la(n[0],n[1],o)&&(a=i<3?void 0:a,i=1),t=ve(t);++r<i;){var l=n[r];l&&e(t,l,r,a)}return t}))}function wi(e,t){return function(n,r){if(null==n)return n;if(!No(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=ve(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}function xi(e){return function(t,n,r){for(var i=-1,a=ve(t),o=r(t),l=o.length;l--;){var s=o[e?l:++i];if(!1===n(a[s],s,a))break}return t}}function Ci(e){return function(t){var n=Lt(t=ll(t))?Wt(t):void 0,r=n?n[0]:t.charAt(0),i=n?ui(n,1).join(""):t.slice(1);return r[e]()+i}}function ki(e){return function(t){return vt(Bl(Ol(t).replace(Oe,"")),e,"")}}function Ei(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Tn(e.prototype),r=e.apply(n,t);return Vo(r)?r:n}}function $i(e){return function(t,n,r){var i=ve(t);if(!No(t)){var a=Zi(n,3);t=bl(t),n=function(e){return a(i[e],e,i)}}var o=e(t,n,r);return o>-1?i[a?t[o]:o]:void 0}}function Ai(e){return Ui((function(t){var n=t.length,r=n,i=Mn.prototype.thru;for(e&&t.reverse();r--;){var o=t[r];if("function"!=typeof o)throw new _e(a);if(i&&!l&&"wrapper"==Xi(o))var l=new Mn([],!0)}for(r=l?r:n;++r<n;){var s=Xi(o=t[r]),u="wrapper"==s?Gi(o):void 0;l=u&&ua(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?l[Xi(u[0])].apply(l,u[3]):1==o.length&&ua(o)?l[s]():l.thru(o)}return function(){var e=arguments,r=e[0];if(l&&1==e.length&&jo(r))return l.plant(r).value();for(var i=0,a=n?t[i].apply(this,e):r;++i<n;)a=t[i].call(this,a);return a}}))}function Si(e,t,n,i,a,o,l,s,u,c){var f=128&t,h=1&t,d=2&t,p=24&t,v=512&t,m=d?void 0:Ei(e);return function g(){for(var _=arguments.length,y=r(_),b=_;b--;)y[b]=arguments[b];if(p)var w=Yi(g),x=Nt(y,w);if(i&&(y=vi(y,i,a,p)),o&&(y=mi(y,o,l,p)),_-=x,p&&_<c){var C=Pt(y,w);return Ni(e,t,Si,g.placeholder,n,y,C,s,u,c-_)}var k=h?n:this,E=d?k[e]:e;return _=y.length,s?y=ma(y,s):v&&_>1&&y.reverse(),f&&u<_&&(y.length=u),this&&this!==Ge&&this instanceof g&&(E=m||Ei(E)),E.apply(k,y)}}function Ti(e,t){return function(n,r){return function(e,t,n,r){return sr(e,(function(e,i,a){t(r,n(e),i,a)})),r}(n,e,t(r),{})}}function Fi(e,t){return function(n,r){var i;if(void 0===n&&void 0===r)return t;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Jr(n),r=Jr(r)):(n=Zr(n),r=Zr(r)),i=e(n,r)}return i}}function Mi(e){return Ui((function(t){return t=dt(t,Ft(Zi())),zr((function(n){var r=this;return e(t,(function(e){return at(e,r,n)}))}))}))}function Oi(e,t){var n=(t=void 0===t?" ":Jr(t)).length;if(n<2)return n?Dr(t,e):t;var r=Dr(t,Kt(e/qt(t)));return Lt(t)?ui(Wt(r),0,e).join(""):r.slice(0,e)}function ji(e){return function(t,n,i){return i&&"number"!=typeof i&&la(t,n,i)&&(n=i=void 0),t=nl(t),void 0===n?(n=t,t=0):n=nl(n),function(e,t,n,i){for(var a=-1,o=on(Kt((t-e)/(n||1)),0),l=r(o);o--;)l[i?o:++a]=e,e+=n;return l}(t,n,i=void 0===i?t<n?1:-1:nl(i),e)}}function Ri(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=al(t),n=al(n)),e(t,n)}}function Ni(e,t,n,r,i,a,o,l,s,u){var c=8&t;t|=c?32:64,4&(t&=~(c?64:32))||(t&=-4);var f=[e,t,i,c?a:void 0,c?o:void 0,c?void 0:a,c?void 0:o,l,s,u],h=n.apply(void 0,f);return ua(e)&&_a(h,f),h.placeholder=r,wa(h,e,t)}function Ii(e){var t=pe[e];return function(e,n){if(e=al(e),(n=null==n?0:ln(rl(n),292))&&nn(e)){var r=(ll(e)+"e").split("e");return+((r=(ll(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Di=vn&&1/Vt(new vn([,-0]))[1]==1/0?function(e){return new vn(e)}:Jl;function zi(e){return function(t){var n=na(t);return n==v?Bt(t):n==y?Ut(t):function(e,t){return dt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Li(e,t,n,i,l,s,u,c){var f=2&t;if(!f&&"function"!=typeof e)throw new _e(a);var h=i?i.length:0;if(h||(t&=-97,i=l=void 0),u=void 0===u?u:on(rl(u),0),c=void 0===c?c:rl(c),h-=l?l.length:0,64&t){var d=i,p=l;i=l=void 0}var v=f?void 0:Gi(e),m=[e,t,n,i,l,d,p,s,u,c];if(v&&function(e,t){var n=e[1],r=t[1],i=n|r,a=i<131,l=128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!a&&!l)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var s=t[3];if(s){var u=e[3];e[3]=u?vi(u,s,t[4]):s,e[4]=u?Pt(e[3],o):t[4]}(s=t[5])&&(u=e[5],e[5]=u?mi(u,s,t[6]):s,e[6]=u?Pt(e[5],o):t[6]);(s=t[7])&&(e[7]=s);128&r&&(e[8]=null==e[8]?t[8]:ln(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(m,v),e=m[0],t=m[1],n=m[2],i=m[3],l=m[4],!(c=m[9]=void 0===m[9]?f?0:e.length:on(m[9]-h,0))&&24&t&&(t&=-25),t&&1!=t)g=8==t||16==t?function(e,t,n){var i=Ei(e);return function a(){for(var o=arguments.length,l=r(o),s=o,u=Yi(a);s--;)l[s]=arguments[s];var c=o<3&&l[0]!==u&&l[o-1]!==u?[]:Pt(l,u);if((o-=c.length)<n)return Ni(e,t,Si,a.placeholder,void 0,l,c,void 0,void 0,n-o);var f=this&&this!==Ge&&this instanceof a?i:e;return at(f,this,l)}}(e,t,c):32!=t&&33!=t||l.length?Si.apply(void 0,m):function(e,t,n,i){var a=1&t,o=Ei(e);return function t(){for(var l=-1,s=arguments.length,u=-1,c=i.length,f=r(c+s),h=this&&this!==Ge&&this instanceof t?o:e;++u<c;)f[u]=i[u];for(;s--;)f[u++]=arguments[++l];return at(h,a?n:this,f)}}(e,t,n,i);else var g=function(e,t,n){var r=1&t,i=Ei(e);return function t(){var a=this&&this!==Ge&&this instanceof t?i:e;return a.apply(r?n:this,arguments)}}(e,t,n);return wa((v?Pr:_a)(g,m),e,t)}function Bi(e,t,n,r){return void 0===e||To(e,we[n])&&!ke.call(r,n)?t:e}function Hi(e,t,n,r,i,a){return Vo(e)&&Vo(t)&&(a.set(t,e),Fr(e,t,void 0,Hi,a),a.delete(t)),e}function Pi(e){return Go(e)?void 0:e}function Vi(e,t,n,r,i,a){var o=1&n,l=e.length,s=t.length;if(l!=s&&!(o&&s>l))return!1;var u=a.get(e),c=a.get(t);if(u&&c)return u==t&&c==e;var f=-1,h=!0,d=2&n?new In:void 0;for(a.set(e,t),a.set(t,e);++f<l;){var p=e[f],v=t[f];if(r)var m=o?r(v,p,f,t,e,a):r(p,v,f,e,t,a);if(void 0!==m){if(m)continue;h=!1;break}if(d){if(!gt(t,(function(e,t){if(!Ot(d,t)&&(p===e||i(p,e,n,r,a)))return d.push(t)}))){h=!1;break}}else if(p!==v&&!i(p,v,n,r,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function Ui(e){return ba(pa(e,void 0,ja),e+"")}function qi(e){return hr(e,bl,ea)}function Wi(e){return hr(e,wl,ta)}var Gi=_n?function(e){return _n.get(e)}:Jl;function Xi(e){for(var t=e.name+"",n=yn[t],r=ke.call(yn,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function Yi(e){return(ke.call(Sn,"placeholder")?Sn:e).placeholder}function Zi(){var e=Sn.iteratee||Gl;return e=e===Gl?Cr:e,arguments.length?e(arguments[0],arguments[1]):e}function Ji(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Ki(e){for(var t=bl(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,ha(i)]}return t}function Qi(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return xr(n)?n:void 0}var ea=en?function(e){return null==e?[]:(e=ve(e),ct(en(e),(function(t){return Xe.call(e,t)})))}:is,ta=en?function(e){for(var t=[];e;)pt(t,ea(e)),e=qe(e);return t}:is,na=dr;function ra(e,t,n){for(var r=-1,i=(t=li(t,e)).length,a=!1;++r<i;){var o=Ea(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&Po(i)&&oa(o,i)&&(jo(e)||Oo(e))}function ia(e){return"function"!=typeof e.constructor||fa(e)?{}:Tn(qe(e))}function aa(e){return jo(e)||Oo(e)||!!(Je&&e&&e[Je])}function oa(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&se.test(e))&&e>-1&&e%1==0&&e<t}function la(e,t,n){if(!Vo(n))return!1;var r=typeof t;return!!("number"==r?No(n)&&oa(t,n.length):"string"==r&&t in n)&&To(n[t],e)}function sa(e,t){if(jo(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Jo(e))||(U.test(e)||!V.test(e)||null!=t&&e in ve(t))}function ua(e){var t=Xi(e),n=Sn[t];if("function"!=typeof n||!(t in On.prototype))return!1;if(e===n)return!0;var r=Gi(n);return!!r&&e===r[0]}(hn&&na(new hn(new ArrayBuffer(1)))!=k||dn&&na(new dn)!=v||pn&&"[object Promise]"!=na(pn.resolve())||vn&&na(new vn)!=y||mn&&na(new mn)!=x)&&(na=function(e){var t=dr(e),n=t==g?e.constructor:void 0,r=n?$a(n):"";if(r)switch(r){case bn:return k;case wn:return v;case xn:return"[object Promise]";case Cn:return y;case kn:return x}return t});var ca=xe?Bo:as;function fa(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||we)}function ha(e){return e==e&&!Vo(e)}function da(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in ve(n)))}}function pa(e,t,n){return t=on(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,o=on(i.length-t,0),l=r(o);++a<o;)l[a]=i[t+a];a=-1;for(var s=r(t+1);++a<t;)s[a]=i[a];return s[t]=n(l),at(e,this,s)}}function va(e,t){return t.length<2?e:fr(e,qr(t,0,-1))}function ma(e,t){for(var n=e.length,r=ln(t.length,n),i=gi(e);r--;){var a=t[r];e[r]=oa(a,n)?i[a]:void 0}return e}function ga(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var _a=xa(Pr),ya=Jt||function(e,t){return Ge.setTimeout(e,t)},ba=xa(Vr);function wa(e,t,n){var r=t+"";return ba(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(J,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return lt(l,(function(n){var r="_."+n[0];t&n[1]&&!ft(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(K);return t?t[1].split(Q):[]}(r),n)))}function xa(e){var t=0,n=0;return function(){var r=sn(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Ca(e,t){var n=-1,r=e.length,i=r-1;for(t=void 0===t?r:t;++n<t;){var a=Ir(n,i),o=e[a];e[a]=e[n],e[n]=o}return e.length=t,e}var ka=function(e){var t=Co(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(q,(function(e,n,r,i){t.push(r?i.replace(te,"$1"):n||e)})),t}));function Ea(e){if("string"==typeof e||Jo(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function $a(e){if(null!=e){try{return Ce.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Aa(e){if(e instanceof On)return e.clone();var t=new Mn(e.__wrapped__,e.__chain__);return t.__actions__=gi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Sa=zr((function(e,t){return Io(e)?Qn(e,ar(t,1,Io,!0)):[]})),Ta=zr((function(e,t){var n=za(t);return Io(n)&&(n=void 0),Io(e)?Qn(e,ar(t,1,Io,!0),Zi(n,2)):[]})),Fa=zr((function(e,t){var n=za(t);return Io(n)&&(n=void 0),Io(e)?Qn(e,ar(t,1,Io,!0),void 0,n):[]}));function Ma(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:rl(n);return i<0&&(i=on(r+i,0)),bt(e,Zi(t,3),i)}function Oa(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=rl(n),i=n<0?on(r+i,0):ln(i,r-1)),bt(e,Zi(t,3),i,!0)}function ja(e){return(null==e?0:e.length)?ar(e,1):[]}function Ra(e){return e&&e.length?e[0]:void 0}var Na=zr((function(e){var t=dt(e,ai);return t.length&&t[0]===e[0]?gr(t):[]})),Ia=zr((function(e){var t=za(e),n=dt(e,ai);return t===za(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?gr(n,Zi(t,2)):[]})),Da=zr((function(e){var t=za(e),n=dt(e,ai);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?gr(n,void 0,t):[]}));function za(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var La=zr(Ba);function Ba(e,t){return e&&e.length&&t&&t.length?Rr(e,t):e}var Ha=Ui((function(e,t){var n=null==e?0:e.length,r=Xn(e,t);return Nr(e,dt(t,(function(e){return oa(e,n)?+e:e})).sort(pi)),r}));function Pa(e){return null==e?e:fn.call(e)}var Va=zr((function(e){return Kr(ar(e,1,Io,!0))})),Ua=zr((function(e){var t=za(e);return Io(t)&&(t=void 0),Kr(ar(e,1,Io,!0),Zi(t,2))})),qa=zr((function(e){var t=za(e);return t="function"==typeof t?t:void 0,Kr(ar(e,1,Io,!0),void 0,t)}));function Wa(e){if(!e||!e.length)return[];var t=0;return e=ct(e,(function(e){if(Io(e))return t=on(e.length,t),!0})),Tt(t,(function(t){return dt(e,Et(t))}))}function Ga(e,t){if(!e||!e.length)return[];var n=Wa(e);return null==t?n:dt(n,(function(e){return at(t,void 0,e)}))}var Xa=zr((function(e,t){return Io(e)?Qn(e,t):[]})),Ya=zr((function(e){return ri(ct(e,Io))})),Za=zr((function(e){var t=za(e);return Io(t)&&(t=void 0),ri(ct(e,Io),Zi(t,2))})),Ja=zr((function(e){var t=za(e);return t="function"==typeof t?t:void 0,ri(ct(e,Io),void 0,t)})),Ka=zr(Wa);var Qa=zr((function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,Ga(e,n)}));function eo(e){var t=Sn(e);return t.__chain__=!0,t}function to(e,t){return t(e)}var no=Ui((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return Xn(t,e)};return!(t>1||this.__actions__.length)&&r instanceof On&&oa(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:to,args:[i],thisArg:void 0}),new Mn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(i)}));var ro=yi((function(e,t,n){ke.call(e,n)?++e[n]:Gn(e,n,1)}));var io=$i(Ma),ao=$i(Oa);function oo(e,t){return(jo(e)?lt:er)(e,Zi(t,3))}function lo(e,t){return(jo(e)?st:tr)(e,Zi(t,3))}var so=yi((function(e,t,n){ke.call(e,n)?e[n].push(t):Gn(e,n,[t])}));var uo=zr((function(e,t,n){var i=-1,a="function"==typeof t,o=No(e)?r(e.length):[];return er(e,(function(e){o[++i]=a?at(t,e,n):_r(e,t,n)})),o})),co=yi((function(e,t,n){Gn(e,n,t)}));function fo(e,t){return(jo(e)?dt:Ar)(e,Zi(t,3))}var ho=yi((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var po=zr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&la(e,t[0],t[1])?t=[]:n>2&&la(t[0],t[1],t[2])&&(t=[t[0]]),Or(e,ar(t,1),[])})),vo=Zt||function(){return Ge.Date.now()};function mo(e,t,n){return t=n?void 0:t,Li(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function go(e,t){var n;if("function"!=typeof t)throw new _e(a);return e=rl(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var _o=zr((function(e,t,n){var r=1;if(n.length){var i=Pt(n,Yi(_o));r|=32}return Li(e,r,t,n,i)})),yo=zr((function(e,t,n){var r=3;if(n.length){var i=Pt(n,Yi(yo));r|=32}return Li(t,r,e,n,i)}));function bo(e,t,n){var r,i,o,l,s,u,c=0,f=!1,h=!1,d=!0;if("function"!=typeof e)throw new _e(a);function p(t){var n=r,a=i;return r=i=void 0,c=t,l=e.apply(a,n)}function v(e){return c=e,s=ya(g,t),f?p(e):l}function m(e){var n=e-u;return void 0===u||n>=t||n<0||h&&e-c>=o}function g(){var e=vo();if(m(e))return _(e);s=ya(g,function(e){var n=t-(e-u);return h?ln(n,o-(e-c)):n}(e))}function _(e){return s=void 0,d&&r?p(e):(r=i=void 0,l)}function y(){var e=vo(),n=m(e);if(r=arguments,i=this,u=e,n){if(void 0===s)return v(u);if(h)return ci(s),s=ya(g,t),p(u)}return void 0===s&&(s=ya(g,t)),l}return t=al(t)||0,Vo(n)&&(f=!!n.leading,o=(h="maxWait"in n)?on(al(n.maxWait)||0,t):o,d="trailing"in n?!!n.trailing:d),y.cancel=function(){void 0!==s&&ci(s),c=0,r=u=i=s=void 0},y.flush=function(){return void 0===s?l:_(vo())},y}var wo=zr((function(e,t){return Kn(e,1,t)})),xo=zr((function(e,t,n){return Kn(e,al(t)||0,n)}));function Co(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new _e(a);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Co.Cache||Nn),n}function ko(e){if("function"!=typeof e)throw new _e(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Co.Cache=Nn;var Eo=si((function(e,t){var n=(t=1==t.length&&jo(t[0])?dt(t[0],Ft(Zi())):dt(ar(t,1),Ft(Zi()))).length;return zr((function(r){for(var i=-1,a=ln(r.length,n);++i<a;)r[i]=t[i].call(this,r[i]);return at(e,this,r)}))})),$o=zr((function(e,t){return Li(e,32,void 0,t,Pt(t,Yi($o)))})),Ao=zr((function(e,t){return Li(e,64,void 0,t,Pt(t,Yi(Ao)))})),So=Ui((function(e,t){return Li(e,256,void 0,void 0,void 0,t)}));function To(e,t){return e===t||e!=e&&t!=t}var Fo=Ri(pr),Mo=Ri((function(e,t){return e>=t})),Oo=yr(function(){return arguments}())?yr:function(e){return Uo(e)&&ke.call(e,"callee")&&!Xe.call(e,"callee")},jo=r.isArray,Ro=Qe?Ft(Qe):function(e){return Uo(e)&&dr(e)==C};function No(e){return null!=e&&Po(e.length)&&!Bo(e)}function Io(e){return Uo(e)&&No(e)}var Do=tn||as,zo=et?Ft(et):function(e){return Uo(e)&&dr(e)==f};function Lo(e){if(!Uo(e))return!1;var t=dr(e);return t==h||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Go(e)}function Bo(e){if(!Vo(e))return!1;var t=dr(e);return t==d||t==p||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ho(e){return"number"==typeof e&&e==rl(e)}function Po(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Vo(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Uo(e){return null!=e&&"object"==typeof e}var qo=tt?Ft(tt):function(e){return Uo(e)&&na(e)==v};function Wo(e){return"number"==typeof e||Uo(e)&&dr(e)==m}function Go(e){if(!Uo(e)||dr(e)!=g)return!1;var t=qe(e);if(null===t)return!0;var n=ke.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ce.call(n)==Se}var Xo=nt?Ft(nt):function(e){return Uo(e)&&dr(e)==_};var Yo=rt?Ft(rt):function(e){return Uo(e)&&na(e)==y};function Zo(e){return"string"==typeof e||!jo(e)&&Uo(e)&&dr(e)==b}function Jo(e){return"symbol"==typeof e||Uo(e)&&dr(e)==w}var Ko=it?Ft(it):function(e){return Uo(e)&&Po(e.length)&&!!Be[dr(e)]};var Qo=Ri($r),el=Ri((function(e,t){return e<=t}));function tl(e){if(!e)return[];if(No(e))return Zo(e)?Wt(e):gi(e);if(Ke&&e[Ke])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ke]());var t=na(e);return(t==v?Bt:t==y?Vt:Tl)(e)}function nl(e){return e?(e=al(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function rl(e){var t=nl(e),n=t%1;return t==t?n?t-n:t:0}function il(e){return e?Yn(rl(e),0,4294967295):0}function al(e){if("number"==typeof e)return e;if(Jo(e))return NaN;if(Vo(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Vo(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(X,"");var n=ae.test(e);return n||le.test(e)?Ue(e.slice(2),n?2:8):ie.test(e)?NaN:+e}function ol(e){return _i(e,wl(e))}function ll(e){return null==e?"":Jr(e)}var sl=bi((function(e,t){if(fa(t)||No(t))_i(t,bl(t),e);else for(var n in t)ke.call(t,n)&&Vn(e,n,t[n])})),ul=bi((function(e,t){_i(t,wl(t),e)})),cl=bi((function(e,t,n,r){_i(t,wl(t),e,r)})),fl=bi((function(e,t,n,r){_i(t,bl(t),e,r)})),hl=Ui(Xn);var dl=zr((function(e,t){e=ve(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&la(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],o=wl(a),l=-1,s=o.length;++l<s;){var u=o[l],c=e[u];(void 0===c||To(c,we[u])&&!ke.call(e,u))&&(e[u]=a[u])}return e})),pl=zr((function(e){return e.push(void 0,Hi),at(Cl,void 0,e)}));function vl(e,t,n){var r=null==e?void 0:fr(e,t);return void 0===r?n:r}function ml(e,t){return null!=e&&ra(e,t,mr)}var gl=Ti((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ae.call(t)),e[t]=n}),Vl(Wl)),_l=Ti((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ae.call(t)),ke.call(e,t)?e[t].push(n):e[t]=[n]}),Zi),yl=zr(_r);function bl(e){return No(e)?zn(e):kr(e)}function wl(e){return No(e)?zn(e,!0):Er(e)}var xl=bi((function(e,t,n){Fr(e,t,n)})),Cl=bi((function(e,t,n,r){Fr(e,t,n,r)})),kl=Ui((function(e,t){var n={};if(null==e)return n;var r=!1;t=dt(t,(function(t){return t=li(t,e),r||(r=t.length>1),t})),_i(e,Wi(e),n),r&&(n=Zn(n,7,Pi));for(var i=t.length;i--;)Qr(n,t[i]);return n}));var El=Ui((function(e,t){return null==e?{}:function(e,t){return jr(e,t,(function(t,n){return ml(e,n)}))}(e,t)}));function $l(e,t){if(null==e)return{};var n=dt(Wi(e),(function(e){return[e]}));return t=Zi(t),jr(e,n,(function(e,n){return t(e,n[0])}))}var Al=zi(bl),Sl=zi(wl);function Tl(e){return null==e?[]:Mt(e,bl(e))}var Fl=ki((function(e,t,n){return t=t.toLowerCase(),e+(n?Ml(t):t)}));function Ml(e){return Ll(ll(e).toLowerCase())}function Ol(e){return(e=ll(e))&&e.replace(ue,It).replace(je,"")}var jl=ki((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Rl=ki((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Nl=Ci("toLowerCase");var Il=ki((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Dl=ki((function(e,t,n){return e+(n?" ":"")+Ll(t)}));var zl=ki((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ll=Ci("toUpperCase");function Bl(e,t,n){return e=ll(e),void 0===(t=n?void 0:t)?function(e){return De.test(e)}(e)?function(e){return e.match(Ne)||[]}(e):function(e){return e.match(ee)||[]}(e):e.match(t)||[]}var Hl=zr((function(e,t){try{return at(e,void 0,t)}catch(e){return Lo(e)?e:new he(e)}})),Pl=Ui((function(e,t){return lt(t,(function(t){t=Ea(t),Gn(e,t,_o(e[t],e))})),e}));function Vl(e){return function(){return e}}var Ul=Ai(),ql=Ai(!0);function Wl(e){return e}function Gl(e){return Cr("function"==typeof e?e:Zn(e,1))}var Xl=zr((function(e,t){return function(n){return _r(n,e,t)}})),Yl=zr((function(e,t){return function(n){return _r(e,n,t)}}));function Zl(e,t,n){var r=bl(t),i=cr(t,r);null!=n||Vo(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=cr(t,bl(t)));var a=!(Vo(n)&&"chain"in n&&!n.chain),o=Bo(e);return lt(i,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__),i=n.__actions__=gi(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,pt([this.value()],arguments))})})),e}function Jl(){}var Kl=Mi(dt),Ql=Mi(ut),es=Mi(gt);function ts(e){return sa(e)?Et(Ea(e)):function(e){return function(t){return fr(t,e)}}(e)}var ns=ji(),rs=ji(!0);function is(){return[]}function as(){return!1}var os=Fi((function(e,t){return e+t}),0),ls=Ii("ceil"),ss=Fi((function(e,t){return e/t}),1),us=Ii("floor");var cs,fs=Fi((function(e,t){return e*t}),1),hs=Ii("round"),ds=Fi((function(e,t){return e-t}),0);return Sn.after=function(e,t){if("function"!=typeof t)throw new _e(a);return e=rl(e),function(){if(--e<1)return t.apply(this,arguments)}},Sn.ary=mo,Sn.assign=sl,Sn.assignIn=ul,Sn.assignInWith=cl,Sn.assignWith=fl,Sn.at=hl,Sn.before=go,Sn.bind=_o,Sn.bindAll=Pl,Sn.bindKey=yo,Sn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return jo(e)?e:[e]},Sn.chain=eo,Sn.chunk=function(e,t,n){t=(n?la(e,t,n):void 0===t)?1:on(rl(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,o=0,l=r(Kt(i/t));a<i;)l[o++]=qr(e,a,a+=t);return l},Sn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i},Sn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return pt(jo(n)?gi(n):[n],ar(t,1))},Sn.cond=function(e){var t=null==e?0:e.length,n=Zi();return e=t?dt(e,(function(e){if("function"!=typeof e[1])throw new _e(a);return[n(e[0]),e[1]]})):[],zr((function(n){for(var r=-1;++r<t;){var i=e[r];if(at(i[0],this,n))return at(i[1],this,n)}}))},Sn.conforms=function(e){return function(e){var t=bl(e);return function(n){return Jn(n,e,t)}}(Zn(e,1))},Sn.constant=Vl,Sn.countBy=ro,Sn.create=function(e,t){var n=Tn(e);return null==t?n:Wn(n,t)},Sn.curry=function e(t,n,r){var i=Li(t,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},Sn.curryRight=function e(t,n,r){var i=Li(t,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},Sn.debounce=bo,Sn.defaults=dl,Sn.defaultsDeep=pl,Sn.defer=wo,Sn.delay=xo,Sn.difference=Sa,Sn.differenceBy=Ta,Sn.differenceWith=Fa,Sn.drop=function(e,t,n){var r=null==e?0:e.length;return r?qr(e,(t=n||void 0===t?1:rl(t))<0?0:t,r):[]},Sn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?qr(e,0,(t=r-(t=n||void 0===t?1:rl(t)))<0?0:t):[]},Sn.dropRightWhile=function(e,t){return e&&e.length?ti(e,Zi(t,3),!0,!0):[]},Sn.dropWhile=function(e,t){return e&&e.length?ti(e,Zi(t,3),!0):[]},Sn.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&la(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=rl(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:rl(r))<0&&(r+=i),r=n>r?0:il(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Sn.filter=function(e,t){return(jo(e)?ct:ir)(e,Zi(t,3))},Sn.flatMap=function(e,t){return ar(fo(e,t),1)},Sn.flatMapDeep=function(e,t){return ar(fo(e,t),1/0)},Sn.flatMapDepth=function(e,t,n){return n=void 0===n?1:rl(n),ar(fo(e,t),n)},Sn.flatten=ja,Sn.flattenDeep=function(e){return(null==e?0:e.length)?ar(e,1/0):[]},Sn.flattenDepth=function(e,t){return(null==e?0:e.length)?ar(e,t=void 0===t?1:rl(t)):[]},Sn.flip=function(e){return Li(e,512)},Sn.flow=Ul,Sn.flowRight=ql,Sn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Sn.functions=function(e){return null==e?[]:cr(e,bl(e))},Sn.functionsIn=function(e){return null==e?[]:cr(e,wl(e))},Sn.groupBy=so,Sn.initial=function(e){return(null==e?0:e.length)?qr(e,0,-1):[]},Sn.intersection=Na,Sn.intersectionBy=Ia,Sn.intersectionWith=Da,Sn.invert=gl,Sn.invertBy=_l,Sn.invokeMap=uo,Sn.iteratee=Gl,Sn.keyBy=co,Sn.keys=bl,Sn.keysIn=wl,Sn.map=fo,Sn.mapKeys=function(e,t){var n={};return t=Zi(t,3),sr(e,(function(e,r,i){Gn(n,t(e,r,i),e)})),n},Sn.mapValues=function(e,t){var n={};return t=Zi(t,3),sr(e,(function(e,r,i){Gn(n,r,t(e,r,i))})),n},Sn.matches=function(e){return Sr(Zn(e,1))},Sn.matchesProperty=function(e,t){return Tr(e,Zn(t,1))},Sn.memoize=Co,Sn.merge=xl,Sn.mergeWith=Cl,Sn.method=Xl,Sn.methodOf=Yl,Sn.mixin=Zl,Sn.negate=ko,Sn.nthArg=function(e){return e=rl(e),zr((function(t){return Mr(t,e)}))},Sn.omit=kl,Sn.omitBy=function(e,t){return $l(e,ko(Zi(t)))},Sn.once=function(e){return go(2,e)},Sn.orderBy=function(e,t,n,r){return null==e?[]:(jo(t)||(t=null==t?[]:[t]),jo(n=r?void 0:n)||(n=null==n?[]:[n]),Or(e,t,n))},Sn.over=Kl,Sn.overArgs=Eo,Sn.overEvery=Ql,Sn.overSome=es,Sn.partial=$o,Sn.partialRight=Ao,Sn.partition=ho,Sn.pick=El,Sn.pickBy=$l,Sn.property=ts,Sn.propertyOf=function(e){return function(t){return null==e?void 0:fr(e,t)}},Sn.pull=La,Sn.pullAll=Ba,Sn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Rr(e,t,Zi(n,2)):e},Sn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Rr(e,t,void 0,n):e},Sn.pullAt=Ha,Sn.range=ns,Sn.rangeRight=rs,Sn.rearg=So,Sn.reject=function(e,t){return(jo(e)?ct:ir)(e,ko(Zi(t,3)))},Sn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],a=e.length;for(t=Zi(t,3);++r<a;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return Nr(e,i),n},Sn.rest=function(e,t){if("function"!=typeof e)throw new _e(a);return zr(e,t=void 0===t?t:rl(t))},Sn.reverse=Pa,Sn.sampleSize=function(e,t,n){return t=(n?la(e,t,n):void 0===t)?1:rl(t),(jo(e)?Bn:Br)(e,t)},Sn.set=function(e,t,n){return null==e?e:Hr(e,t,n)},Sn.setWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:Hr(e,t,n,r)},Sn.shuffle=function(e){return(jo(e)?Hn:Ur)(e)},Sn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&la(e,t,n)?(t=0,n=r):(t=null==t?0:rl(t),n=void 0===n?r:rl(n)),qr(e,t,n)):[]},Sn.sortBy=po,Sn.sortedUniq=function(e){return e&&e.length?Yr(e):[]},Sn.sortedUniqBy=function(e,t){return e&&e.length?Yr(e,Zi(t,2)):[]},Sn.split=function(e,t,n){return n&&"number"!=typeof n&&la(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=ll(e))&&("string"==typeof t||null!=t&&!Xo(t))&&!(t=Jr(t))&&Lt(e)?ui(Wt(e),0,n):e.split(t,n):[]},Sn.spread=function(e,t){if("function"!=typeof e)throw new _e(a);return t=null==t?0:on(rl(t),0),zr((function(n){var r=n[t],i=ui(n,0,t);return r&&pt(i,r),at(e,this,i)}))},Sn.tail=function(e){var t=null==e?0:e.length;return t?qr(e,1,t):[]},Sn.take=function(e,t,n){return e&&e.length?qr(e,0,(t=n||void 0===t?1:rl(t))<0?0:t):[]},Sn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?qr(e,(t=r-(t=n||void 0===t?1:rl(t)))<0?0:t,r):[]},Sn.takeRightWhile=function(e,t){return e&&e.length?ti(e,Zi(t,3),!1,!0):[]},Sn.takeWhile=function(e,t){return e&&e.length?ti(e,Zi(t,3)):[]},Sn.tap=function(e,t){return t(e),e},Sn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new _e(a);return Vo(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),bo(e,t,{leading:r,maxWait:t,trailing:i})},Sn.thru=to,Sn.toArray=tl,Sn.toPairs=Al,Sn.toPairsIn=Sl,Sn.toPath=function(e){return jo(e)?dt(e,Ea):Jo(e)?[e]:gi(ka(ll(e)))},Sn.toPlainObject=ol,Sn.transform=function(e,t,n){var r=jo(e),i=r||Do(e)||Ko(e);if(t=Zi(t,4),null==n){var a=e&&e.constructor;n=i?r?new a:[]:Vo(e)&&Bo(a)?Tn(qe(e)):{}}return(i?lt:sr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Sn.unary=function(e){return mo(e,1)},Sn.union=Va,Sn.unionBy=Ua,Sn.unionWith=qa,Sn.uniq=function(e){return e&&e.length?Kr(e):[]},Sn.uniqBy=function(e,t){return e&&e.length?Kr(e,Zi(t,2)):[]},Sn.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Kr(e,void 0,t):[]},Sn.unset=function(e,t){return null==e||Qr(e,t)},Sn.unzip=Wa,Sn.unzipWith=Ga,Sn.update=function(e,t,n){return null==e?e:ei(e,t,oi(n))},Sn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:ei(e,t,oi(n),r)},Sn.values=Tl,Sn.valuesIn=function(e){return null==e?[]:Mt(e,wl(e))},Sn.without=Xa,Sn.words=Bl,Sn.wrap=function(e,t){return $o(oi(t),e)},Sn.xor=Ya,Sn.xorBy=Za,Sn.xorWith=Ja,Sn.zip=Ka,Sn.zipObject=function(e,t){return ii(e||[],t||[],Vn)},Sn.zipObjectDeep=function(e,t){return ii(e||[],t||[],Hr)},Sn.zipWith=Qa,Sn.entries=Al,Sn.entriesIn=Sl,Sn.extend=ul,Sn.extendWith=cl,Zl(Sn,Sn),Sn.add=os,Sn.attempt=Hl,Sn.camelCase=Fl,Sn.capitalize=Ml,Sn.ceil=ls,Sn.clamp=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=al(n))==n?n:0),void 0!==t&&(t=(t=al(t))==t?t:0),Yn(al(e),t,n)},Sn.clone=function(e){return Zn(e,4)},Sn.cloneDeep=function(e){return Zn(e,5)},Sn.cloneDeepWith=function(e,t){return Zn(e,5,t="function"==typeof t?t:void 0)},Sn.cloneWith=function(e,t){return Zn(e,4,t="function"==typeof t?t:void 0)},Sn.conformsTo=function(e,t){return null==t||Jn(e,t,bl(t))},Sn.deburr=Ol,Sn.defaultTo=function(e,t){return null==e||e!=e?t:e},Sn.divide=ss,Sn.endsWith=function(e,t,n){e=ll(e),t=Jr(t);var r=e.length,i=n=void 0===n?r:Yn(rl(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},Sn.eq=To,Sn.escape=function(e){return(e=ll(e))&&L.test(e)?e.replace(D,Dt):e},Sn.escapeRegExp=function(e){return(e=ll(e))&&G.test(e)?e.replace(W,"\\$&"):e},Sn.every=function(e,t,n){var r=jo(e)?ut:nr;return n&&la(e,t,n)&&(t=void 0),r(e,Zi(t,3))},Sn.find=io,Sn.findIndex=Ma,Sn.findKey=function(e,t){return yt(e,Zi(t,3),sr)},Sn.findLast=ao,Sn.findLastIndex=Oa,Sn.findLastKey=function(e,t){return yt(e,Zi(t,3),ur)},Sn.floor=us,Sn.forEach=oo,Sn.forEachRight=lo,Sn.forIn=function(e,t){return null==e?e:or(e,Zi(t,3),wl)},Sn.forInRight=function(e,t){return null==e?e:lr(e,Zi(t,3),wl)},Sn.forOwn=function(e,t){return e&&sr(e,Zi(t,3))},Sn.forOwnRight=function(e,t){return e&&ur(e,Zi(t,3))},Sn.get=vl,Sn.gt=Fo,Sn.gte=Mo,Sn.has=function(e,t){return null!=e&&ra(e,t,vr)},Sn.hasIn=ml,Sn.head=Ra,Sn.identity=Wl,Sn.includes=function(e,t,n,r){e=No(e)?e:Tl(e),n=n&&!r?rl(n):0;var i=e.length;return n<0&&(n=on(i+n,0)),Zo(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&wt(e,t,n)>-1},Sn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:rl(n);return i<0&&(i=on(r+i,0)),wt(e,t,i)},Sn.inRange=function(e,t,n){return t=nl(t),void 0===n?(n=t,t=0):n=nl(n),function(e,t,n){return e>=ln(t,n)&&e<on(t,n)}(e=al(e),t,n)},Sn.invoke=yl,Sn.isArguments=Oo,Sn.isArray=jo,Sn.isArrayBuffer=Ro,Sn.isArrayLike=No,Sn.isArrayLikeObject=Io,Sn.isBoolean=function(e){return!0===e||!1===e||Uo(e)&&dr(e)==c},Sn.isBuffer=Do,Sn.isDate=zo,Sn.isElement=function(e){return Uo(e)&&1===e.nodeType&&!Go(e)},Sn.isEmpty=function(e){if(null==e)return!0;if(No(e)&&(jo(e)||"string"==typeof e||"function"==typeof e.splice||Do(e)||Ko(e)||Oo(e)))return!e.length;var t=na(e);if(t==v||t==y)return!e.size;if(fa(e))return!kr(e).length;for(var n in e)if(ke.call(e,n))return!1;return!0},Sn.isEqual=function(e,t){return br(e,t)},Sn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?br(e,t,void 0,n):!!r},Sn.isError=Lo,Sn.isFinite=function(e){return"number"==typeof e&&nn(e)},Sn.isFunction=Bo,Sn.isInteger=Ho,Sn.isLength=Po,Sn.isMap=qo,Sn.isMatch=function(e,t){return e===t||wr(e,t,Ki(t))},Sn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:void 0,wr(e,t,Ki(t),n)},Sn.isNaN=function(e){return Wo(e)&&e!=+e},Sn.isNative=function(e){if(ca(e))throw new he("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return xr(e)},Sn.isNil=function(e){return null==e},Sn.isNull=function(e){return null===e},Sn.isNumber=Wo,Sn.isObject=Vo,Sn.isObjectLike=Uo,Sn.isPlainObject=Go,Sn.isRegExp=Xo,Sn.isSafeInteger=function(e){return Ho(e)&&e>=-9007199254740991&&e<=9007199254740991},Sn.isSet=Yo,Sn.isString=Zo,Sn.isSymbol=Jo,Sn.isTypedArray=Ko,Sn.isUndefined=function(e){return void 0===e},Sn.isWeakMap=function(e){return Uo(e)&&na(e)==x},Sn.isWeakSet=function(e){return Uo(e)&&"[object WeakSet]"==dr(e)},Sn.join=function(e,t){return null==e?"":rn.call(e,t)},Sn.kebabCase=jl,Sn.last=za,Sn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=rl(n))<0?on(r+i,0):ln(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):bt(e,Ct,i,!0)},Sn.lowerCase=Rl,Sn.lowerFirst=Nl,Sn.lt=Qo,Sn.lte=el,Sn.max=function(e){return e&&e.length?rr(e,Wl,pr):void 0},Sn.maxBy=function(e,t){return e&&e.length?rr(e,Zi(t,2),pr):void 0},Sn.mean=function(e){return kt(e,Wl)},Sn.meanBy=function(e,t){return kt(e,Zi(t,2))},Sn.min=function(e){return e&&e.length?rr(e,Wl,$r):void 0},Sn.minBy=function(e,t){return e&&e.length?rr(e,Zi(t,2),$r):void 0},Sn.stubArray=is,Sn.stubFalse=as,Sn.stubObject=function(){return{}},Sn.stubString=function(){return""},Sn.stubTrue=function(){return!0},Sn.multiply=fs,Sn.nth=function(e,t){return e&&e.length?Mr(e,rl(t)):void 0},Sn.noConflict=function(){return Ge._===this&&(Ge._=Te),this},Sn.noop=Jl,Sn.now=vo,Sn.pad=function(e,t,n){e=ll(e);var r=(t=rl(t))?qt(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Oi(Qt(i),n)+e+Oi(Kt(i),n)},Sn.padEnd=function(e,t,n){e=ll(e);var r=(t=rl(t))?qt(e):0;return t&&r<t?e+Oi(t-r,n):e},Sn.padStart=function(e,t,n){e=ll(e);var r=(t=rl(t))?qt(e):0;return t&&r<t?Oi(t-r,n)+e:e},Sn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),un(ll(e).replace(Y,""),t||0)},Sn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&la(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=nl(e),void 0===t?(t=e,e=0):t=nl(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=cn();return ln(e+i*(t-e+Ve("1e-"+((i+"").length-1))),t)}return Ir(e,t)},Sn.reduce=function(e,t,n){var r=jo(e)?vt:At,i=arguments.length<3;return r(e,Zi(t,4),n,i,er)},Sn.reduceRight=function(e,t,n){var r=jo(e)?mt:At,i=arguments.length<3;return r(e,Zi(t,4),n,i,tr)},Sn.repeat=function(e,t,n){return t=(n?la(e,t,n):void 0===t)?1:rl(t),Dr(ll(e),t)},Sn.replace=function(){var e=arguments,t=ll(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Sn.result=function(e,t,n){var r=-1,i=(t=li(t,e)).length;for(i||(i=1,e=void 0);++r<i;){var a=null==e?void 0:e[Ea(t[r])];void 0===a&&(r=i,a=n),e=Bo(a)?a.call(e):a}return e},Sn.round=hs,Sn.runInContext=e,Sn.sample=function(e){return(jo(e)?Ln:Lr)(e)},Sn.size=function(e){if(null==e)return 0;if(No(e))return Zo(e)?qt(e):e.length;var t=na(e);return t==v||t==y?e.size:kr(e).length},Sn.snakeCase=Il,Sn.some=function(e,t,n){var r=jo(e)?gt:Wr;return n&&la(e,t,n)&&(t=void 0),r(e,Zi(t,3))},Sn.sortedIndex=function(e,t){return Gr(e,t)},Sn.sortedIndexBy=function(e,t,n){return Xr(e,t,Zi(n,2))},Sn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Gr(e,t);if(r<n&&To(e[r],t))return r}return-1},Sn.sortedLastIndex=function(e,t){return Gr(e,t,!0)},Sn.sortedLastIndexBy=function(e,t,n){return Xr(e,t,Zi(n,2),!0)},Sn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=Gr(e,t,!0)-1;if(To(e[n],t))return n}return-1},Sn.startCase=Dl,Sn.startsWith=function(e,t,n){return e=ll(e),n=null==n?0:Yn(rl(n),0,e.length),t=Jr(t),e.slice(n,n+t.length)==t},Sn.subtract=ds,Sn.sum=function(e){return e&&e.length?St(e,Wl):0},Sn.sumBy=function(e,t){return e&&e.length?St(e,Zi(t,2)):0},Sn.template=function(e,t,n){var r=Sn.templateSettings;n&&la(e,t,n)&&(t=void 0),e=ll(e),t=cl({},t,r,Bi);var i,a,o=cl({},t.imports,r.imports,Bi),l=bl(o),s=Mt(o,l),u=0,c=t.interpolate||ce,f="__p += '",h=me((t.escape||ce).source+"|"+c.source+"|"+(c===P?ne:ce).source+"|"+(t.evaluate||ce).source+"|$","g"),d="//# sourceURL="+(ke.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Le+"]")+"\n";e.replace(h,(function(t,n,r,o,l,s){return r||(r=o),f+=e.slice(u,s).replace(fe,zt),n&&(i=!0,f+="' +\n__e("+n+") +\n'"),l&&(a=!0,f+="';\n"+l+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=s+t.length,t})),f+="';\n";var p=ke.call(t,"variable")&&t.variable;p||(f="with (obj) {\n"+f+"\n}\n"),f=(a?f.replace(j,""):f).replace(R,"$1").replace(N,"$1;"),f="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=Hl((function(){return de(l,d+"return "+f).apply(void 0,s)}));if(v.source=f,Lo(v))throw v;return v},Sn.times=function(e,t){if((e=rl(e))<1||e>9007199254740991)return[];var n=4294967295,r=ln(e,4294967295);e-=4294967295;for(var i=Tt(r,t=Zi(t));++n<e;)t(n);return i},Sn.toFinite=nl,Sn.toInteger=rl,Sn.toLength=il,Sn.toLower=function(e){return ll(e).toLowerCase()},Sn.toNumber=al,Sn.toSafeInteger=function(e){return e?Yn(rl(e),-9007199254740991,9007199254740991):0===e?e:0},Sn.toString=ll,Sn.toUpper=function(e){return ll(e).toUpperCase()},Sn.trim=function(e,t,n){if((e=ll(e))&&(n||void 0===t))return e.replace(X,"");if(!e||!(t=Jr(t)))return e;var r=Wt(e),i=Wt(t);return ui(r,jt(r,i),Rt(r,i)+1).join("")},Sn.trimEnd=function(e,t,n){if((e=ll(e))&&(n||void 0===t))return e.replace(Z,"");if(!e||!(t=Jr(t)))return e;var r=Wt(e);return ui(r,0,Rt(r,Wt(t))+1).join("")},Sn.trimStart=function(e,t,n){if((e=ll(e))&&(n||void 0===t))return e.replace(Y,"");if(!e||!(t=Jr(t)))return e;var r=Wt(e);return ui(r,jt(r,Wt(t))).join("")},Sn.truncate=function(e,t){var n=30,r="...";if(Vo(t)){var i="separator"in t?t.separator:i;n="length"in t?rl(t.length):n,r="omission"in t?Jr(t.omission):r}var a=(e=ll(e)).length;if(Lt(e)){var o=Wt(e);a=o.length}if(n>=a)return e;var l=n-qt(r);if(l<1)return r;var s=o?ui(o,0,l).join(""):e.slice(0,l);if(void 0===i)return s+r;if(o&&(l+=s.length-l),Xo(i)){if(e.slice(l).search(i)){var u,c=s;for(i.global||(i=me(i.source,ll(re.exec(i))+"g")),i.lastIndex=0;u=i.exec(c);)var f=u.index;s=s.slice(0,void 0===f?l:f)}}else if(e.indexOf(Jr(i),l)!=l){var h=s.lastIndexOf(i);h>-1&&(s=s.slice(0,h))}return s+r},Sn.unescape=function(e){return(e=ll(e))&&z.test(e)?e.replace(I,Gt):e},Sn.uniqueId=function(e){var t=++Ee;return ll(e)+t},Sn.upperCase=zl,Sn.upperFirst=Ll,Sn.each=oo,Sn.eachRight=lo,Sn.first=Ra,Zl(Sn,(cs={},sr(Sn,(function(e,t){ke.call(Sn.prototype,t)||(cs[t]=e)})),cs),{chain:!1}),Sn.VERSION="4.17.20",lt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Sn[e].placeholder=Sn})),lt(["drop","take"],(function(e,t){On.prototype[e]=function(n){n=void 0===n?1:on(rl(n),0);var r=this.__filtered__&&!t?new On(this):this.clone();return r.__filtered__?r.__takeCount__=ln(n,r.__takeCount__):r.__views__.push({size:ln(n,4294967295),type:e+(r.__dir__<0?"Right":"")}),r},On.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),lt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;On.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Zi(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),lt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");On.prototype[e]=function(){return this[n](1).value()[0]}})),lt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");On.prototype[e]=function(){return this.__filtered__?new On(this):this[n](1)}})),On.prototype.compact=function(){return this.filter(Wl)},On.prototype.find=function(e){return this.filter(e).head()},On.prototype.findLast=function(e){return this.reverse().find(e)},On.prototype.invokeMap=zr((function(e,t){return"function"==typeof e?new On(this):this.map((function(n){return _r(n,e,t)}))})),On.prototype.reject=function(e){return this.filter(ko(Zi(e)))},On.prototype.slice=function(e,t){e=rl(e);var n=this;return n.__filtered__&&(e>0||t<0)?new On(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=rl(t))<0?n.dropRight(-t):n.take(t-e)),n)},On.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},On.prototype.toArray=function(){return this.take(4294967295)},sr(On.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=Sn[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);i&&(Sn.prototype[t]=function(){var t=this.__wrapped__,o=r?[1]:arguments,l=t instanceof On,s=o[0],u=l||jo(t),c=function(e){var t=i.apply(Sn,pt([e],o));return r&&f?t[0]:t};u&&n&&"function"==typeof s&&1!=s.length&&(l=u=!1);var f=this.__chain__,h=!!this.__actions__.length,d=a&&!f,p=l&&!h;if(!a&&u){t=p?t:new On(this);var v=e.apply(t,o);return v.__actions__.push({func:to,args:[c],thisArg:void 0}),new Mn(v,f)}return d&&p?e.apply(this,o):(v=this.thru(c),d?r?v.value()[0]:v.value():v)})})),lt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=ye[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Sn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(jo(i)?i:[],e)}return this[n]((function(n){return t.apply(jo(n)?n:[],e)}))}})),sr(On.prototype,(function(e,t){var n=Sn[t];if(n){var r=n.name+"";ke.call(yn,r)||(yn[r]=[]),yn[r].push({name:t,func:n})}})),yn[Si(void 0,2).name]=[{name:"wrapper",func:void 0}],On.prototype.clone=function(){var e=new On(this.__wrapped__);return e.__actions__=gi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=gi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=gi(this.__views__),e},On.prototype.reverse=function(){if(this.__filtered__){var e=new On(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},On.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=jo(e),r=t<0,i=n?e.length:0,a=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=ln(t,e+o);break;case"takeRight":e=on(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,l=a.end,s=l-o,u=r?l:o-1,c=this.__iteratees__,f=c.length,h=0,d=ln(s,this.__takeCount__);if(!n||!r&&i==s&&d==s)return ni(e,this.__actions__);var p=[];e:for(;s--&&h<d;){for(var v=-1,m=e[u+=t];++v<f;){var g=c[v],_=g.iteratee,y=g.type,b=_(m);if(2==y)m=b;else if(!b){if(1==y)continue e;break e}}p[h++]=m}return p},Sn.prototype.at=no,Sn.prototype.chain=function(){return eo(this)},Sn.prototype.commit=function(){return new Mn(this.value(),this.__chain__)},Sn.prototype.next=function(){void 0===this.__values__&&(this.__values__=tl(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},Sn.prototype.plant=function(e){for(var t,n=this;n instanceof Fn;){var r=Aa(n);r.__index__=0,r.__values__=void 0,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},Sn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof On){var t=e;return this.__actions__.length&&(t=new On(this)),(t=t.reverse()).__actions__.push({func:to,args:[Pa],thisArg:void 0}),new Mn(t,this.__chain__)}return this.thru(Pa)},Sn.prototype.toJSON=Sn.prototype.valueOf=Sn.prototype.value=function(){return ni(this.__wrapped__,this.__actions__)},Sn.prototype.first=Sn.prototype.head,Ke&&(Sn.prototype[Ke]=function(){return this}),Sn}();Ge._=Xt,void 0===(i=function(){return Xt}.call(t,n,t,r))||(r.exports=i)}).call(this)}).call(this,n(9),n(10)(e))},,,,,function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(2),i=n(12);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a,o=0,l={injectType:"lazyStyleTag",insert:"head",singleton:!1},s={};s.locals=i.locals||{},s.use=function(){return o++||(a=r(i,l)),s},s.unuse=function(){o>0&&!--o&&(a(),a=null)},e.exports=s},function(e,t,n){(t=n(3)(!1)).push([e.i,"#tooltip {\n    position: absolute;\n    width: auto;\n    height: auto;\n    padding: 5px;\n    background-color: white;\n    -webkit-border-radius: 4px;\n    -moz-border-radius: 4px;\n    border-radius: 4px;\n    -webkit-box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);\n    -moz-box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);\n    box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);\n    pointer-events: none;\n    font-family: sans-serif;\n    font-size: 12px;\n    z-index: 2;\n}\n\n.tooltipTable {\n  font-family: Open Sans,Helvetica,Arial,sans-serif;\n  border: 0px;\n  border-collapse: collapse;\n  table-layout: auto;\n}\n\n.focus {\n  font-weight: bold;\n}\n\n.hidden {\n    display: none;\n}\n\n.hover {\n  background-color: #ffffbb;\n}\n\n.reportTable {\n  font-family: Open Sans,Helvetica,Arial,Noto Sans SC,Noto Sans TC,sans-serif;\n  border-collapse: separate;\n  border-spacing: 3px;\n  table-layout: fixed;\n}\n\nth.headerCell {\n  border-bottom: 1px solid #000000 !important;\n  font-weight: bold;\n  padding: 5px;\n}\n\n.headerCell.merged {\n  text-align: center !important;\n  background-color: #ffffff !important;\n}\n\n.headerCell.transposed.dimension.merged {\n  text-align: center !important;\n  background-color: #ffffff !important;\n}\n\n.indexCell.transposed {\n  font-weight: bold;\n}\n\n.indexCell.transposed.merged {\n  background-color: #ffffff !important;\n}\n\n.rowCell {\n  vertical-align: super;\n  padding-left: 5px;\n}\n\n.rowCell.merged {\n  background-color: #ffffff !important;\n}\n\n.rowCell.transposed.dimension.merged {\n  background-color: #ffffff !important;\n}\n\n.nonNumeric {\n  text-align: left;\n}\n\n.numeric {\n  text-align: right;\n}\n\n.negative {\n  color: red;\n}\n\n.estimate {\n  color: darkgray !important;\n}\n\n.singleIndex {\n  padding-left: 15px !important;\n}\n\n.subtotal {\n  font-style: italic;\n  font-weight: bold !important;\n}\n\n.total {\n  border-top: 2px solid #000000;\n  font-weight: bold !important;\n}\n\n.total.transposed {\n  border-top: 0px !important;\n}\n\n.dimension.transposed {\n  font-weight: bold;\n}\n\n.rectElem.animated {\n  font-family: Open Sans,Helvetica,Arial,sans-serif;\n  padding: 4px;\n}\n\n.headerCell.animated {\n  border-bottom: 4px solid #ffffff;\n  box-shadow: inset 0px -1px 0px 0px #000000 !important;\n  font-weight: bold;\n  padding: 5px;\n  box-sizing: border-box;\n}",""]),e.exports=t},function(e,t,n){var r=n(2),i=n(14);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a,o=0,l={injectType:"lazyStyleTag",insert:"head",singleton:!1},s={};s.locals=i.locals||{},s.use=function(){return o++||(a=r(i,l)),s},s.unuse=function(){o>0&&!--o&&(a(),a=null)},e.exports=s},function(e,t,n){(t=n(3)(!1)).push([e.i,"#tooltip {\n    position: absolute;\n    width: auto;\n    height: auto;\n    padding: 5px;\n    background-color: white;\n    -webkit-border-radius: 4px;\n    -moz-border-radius: 4px;\n    border-radius: 4px;\n    -webkit-box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);\n    -moz-box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);\n    box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);\n    pointer-events: none;\n    font-family: sans-serif;\n    font-size: 12px;\n    z-index: 2;\n}\n\n.tooltipTable {\n  font-family: Open Sans,Helvetica,Arial,sans-serif;\n  border: 0px;\n  border-collapse: collapse;\n  table-layout: auto;\n}\n\n.focus {\n  font-weight: bold;\n}\n\n.hidden {\n    display: none;\n}\n\n.hover {\n  background-color: #ffffbb;\n}\n\n.reportTable {\n  font-family: Open Sans,Helvetica,Arial,Noto Sans SC,Noto Sans TC,sans-serif;\n  color: #696969;\n  border-collapse: collapse;\n  border-spacing: 3px;\n  table-layout: fixed;\n}\n\nth.headerCell {\n  background-color: #ccd8e4;\n  padding: 5px;\n  border-bottom: 1px solid #BDC3C7;\n}\n\n.headerCell.dimension {\n  background-color: #e4ecf3;\n  border-right: 1px solid #BDC3C7; \n}\n\n.headerCell.pivot {\n  background-color: #ccd8e4;\n  border-right: 1px solid #BDC3C7; \n}\n\n.headerCell.measure {\n  background-color: #e4d0bd;\n  border-left: 1px solid #BDC3C7; \n}\n\n.headerCell.measure.calculation {\n  background-color: #c9dfc5;\n  border-left: 1px solid #BDC3C7;\n}\n\n.headerCell.transposed.dimension {\n  background-color: #e4ecf3;\n}\n\n.headerCell.transposed.dimension.merged {\n  background-color: #e4ecf3 !important;\n}\n\n/* .headerCell.dimension.headerRow {\n  background-color: #ccd8e4;\n  border-right: 1px solid #BDC3C7;\n}\n\n.headerCell.pivot.headerRow {\n  background-color: #ccd8e4;\n  border-right: 1px solid #BDC3C7;\n}\n\n.headerCell.measure.headerRow {\n  background-color: #ccd8e4;\n  border-left: 1px solid #BDC3C7;\n} */\n\n.rowCell {\n  vertical-align: super;\n  padding-left: 5px;\n  border-bottom: 1px solid #BDC3C7; \n}\n\n.rowCell.merged {\n  background-color: #ffffff !important;\n}\n\n.indexCell.transposed {\n  font-weight: bold;\n}\n\n.indexCell.transposed.pivot {\n  background-color: #ccd8e4;\n}\n\n.indexCell.transposed.dimension {\n  background-color: #e4ecf3;\n}\n\n.indexCell.transposed.measure {\n  background-color: #e4d0bd;\n}\n\n.indexCell.transposed.calculation {\n  background-color: #c9dfc5;\n}\n\n.indexCell.transposed.pivot.merged {\n  background-color: #ccd8e4 !important;\n}\n\n.indexCell.transposed.dimension.merged {\n  background-color: #e4ecf3 !important;\n}\n\n.indexCell.transposed.measure.merged {\n  background-color: #e4d0bd !important;\n}\n\n.indexCell.transposed.calculation.merged {\n  background-color: #c9dfc5 !important;\n}\n\n.nonNumeric {\n  text-align: left;\n}\n\n.numeric {\n  text-align: right;\n}\n\n.negative {\n  color: red;\n}\n\n.estimate {\n  color: darkgray !important;\n}\n\n.singleIndex {\n  padding-left: 15px !important;\n}\n\n.subtotal {\n  font-style: italic;\n  font-weight: bold;\n  background: #D3D3D3;\n}\n\n.total {\n  border-top: 2px solid #696969 !important;\n  font-weight: bold !important;\n}\n\n.total.transposed {\n  border-top: 0px !important;\n  background: #D3D3D3;\n}\n\n.rectElem.animated {\n  font-family: Open Sans,Helvetica,Arial,sans-serif;\n  margin: 4px;\n}",""]),e.exports=t},function(e,t,n){var r=n(2),i=n(16);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a,o=0,l={injectType:"lazyStyleTag",insert:"head",singleton:!1},s={};s.locals=i.locals||{},s.use=function(){return o++||(a=r(i,l)),s},s.unuse=function(){o>0&&!--o&&(a(),a=null)},e.exports=s},function(e,t,n){(t=n(3)(!1)).push([e.i,"#tooltip {\n    position: absolute;\n    width: auto;\n    height: auto;\n    padding: 5px;\n    background-color: white;\n    -webkit-border-radius: 4px;\n    -moz-border-radius: 4px;\n    border-radius: 4px;\n    -webkit-box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);\n    -moz-box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);\n    box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);\n    pointer-events: none;\n    font-family: sans-serif;\n    font-size: 12px;\n    z-index: 2;\n}\n\n.tooltipTable {\n  font-family: Open Sans,Helvetica,Arial,sans-serif;\n  border: 0px;\n  border-collapse: collapse;\n  table-layout: auto;\n}\n\n.focus {\n  font-weight: bold;\n}\n\n.hidden {\n    display: none;\n}\n\n.hover {\n  background-color: #ffffbb;\n}\n\n.reportTable {\n  font-family: Open Sans,Helvetica,Arial,Noto Sans SC,Noto Sans TC,sans-serif;\n  border: 1px solid #CCCCCC; \n  border-collapse: collapse;\n  border-spacing: 3px;\n}\n\ntable.reportTable th {\n  border: 1px solid #CCCCCC; \n  border-bottom: 1px solid #000000 !important;\n  padding: 5px;\n}\n\ntable.reportTable td {\n  vertical-align: super;\n  padding: 5px;\n  border: 1px solid #CCCCCC; \n  border-collapse: collapse;\n}\n\n.headerCell {\n  border-bottom: 1px solid #000000 !important;\n  font-weight: bold;\n  padding: 5px;\n}\n\n.indexCell.transposed {\n  font-weight: bold;\n}\n\n.indexCell.transposed.merged {\n  background-color: #ffffff !important;\n}\n\n.rowCell {\n  vertical-align: super;\n  padding-left: 5px;\n}\n\n.nonNumeric {\n  text-align: left;\n}\n\n.numeric {\n  text-align: right;\n}\n\n.negative {\n  color: red;\n}\n\n.estimate {\n  color: darkgray !important;\n}\n\n.singleIndex {\n  padding-left: 15px !important;\n}\n\n.subtotal {\n  font-style: italic;\n  font-weight: bold;\n  background: #D3D3D3;\n}\n\n.total {\n  border-top: 2px solid #000000 !important;\n  font-weight: bold !important;\n}\n\n.total.transposed {\n  border-top: 0px !important;\n  background: #D3D3D3;\n}\n\n.rectElem.animated {\n  font-family: Open Sans,Helvetica,Arial,sans-serif;\n  margin: 4px;\n}",""]),e.exports=t},function(e,t,n){var r=n(2),i=n(18);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a,o=0,l={injectType:"lazyStyleTag",insert:"head",singleton:!1},s={};s.locals=i.locals||{},s.use=function(){return o++||(a=r(i,l)),s},s.unuse=function(){o>0&&!--o&&(a(),a=null)},e.exports=s},function(e,t,n){(t=n(3)(!1)).push([e.i,"#visContainer {\n  position: absolute;\n  z-index: 0;\n}\n\n#visSvg {\n  position: absolute;\n  z-index: 1;\n}\n\ntable.reportTable {\n  width: 100%;\n  table-layout: fixed;\n  opacity: 0;\n  transition: opacity 1000ms;\n}\n\ntable.reportTable.reveal {\n  opacity: 1;\n  transition: opacity 1000ms;\n}\n\ntable.reportTable th {\n  max-width: 0px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\ntable.reportTable td {\n  max-width: 0;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.rectElem.animated {\n  font-family: Open Sans,Helvetica,Arial,sans-serif;\n  margin: 4px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n",""]),e.exports=t},function(e,t,n){var r=n(2),i=n(20);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a,o=0,l={injectType:"lazyStyleTag",insert:"head",singleton:!1},s={};s.locals=i.locals||{},s.use=function(){return o++||(a=r(i,l)),s},s.unuse=function(){o>0&&!--o&&(a(),a=null)},e.exports=s},function(e,t,n){(t=n(3)(!1)).push([e.i,"#visContainer {\n  position: absolute;\n  z-index: 0;\n}\n\n#visSvg {\n  position: absolute;\n  z-index: 1;\n}\n\ntable.reportTable { \n  width: 100%;\n  table-layout: auto;\n  opacity: 0;\n  transition: opacity 1000ms;\n}\n\ntable.reportTable.reveal {\n  opacity: 1;\n}\n",""]),e.exports=t},function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),a=n(4);class o{constructor({vis:e,queryResponseField:t}){this.vis=e,this.name=t.name,this.view=t.view_label||"",this.label=t.field_group_variant||t.label_short||t.label,this.is_numeric=void 0!==t.is_numeric&&t.is_numeric,this.is_array=["list","number_list","location","tier"].includes(t.type),this.value_format=t.value_format?t.value_format:"",this.geo_type="",("location"===t.type||t.map_layer)&&(this.geo_type="location"===t.type?"location":t.map_layer.name),this.hide=!1,void 0!==this.vis.config["hide|"+this.name]&&this.vis.config["hide|"+this.name]&&(this.hide=!0),this.style="";var n=this.vis.config["style|"+this.name];void 0!==n&&("hide"===n?this.hide=!0:this.style=n),this.heading="",this.short_name="",this.unit="",void 0!==t.tags&&t.tags.forEach(e=>{var t=e.split(":");if("vis-tools"===t[0])switch(t[1]){case"heading":this.heading=t[2];break;case"short_name":this.short_name=t[2];break;case"unit":this.unit=t[2];break;case"style":this.style=t[2]}})}}class l extends o{constructor({vis:e,queryResponseField:t}){super({vis:e,queryResponseField:t}),this.type="dimension",this.align="left"}}class s extends o{constructor({vis:e,queryResponseField:t}){super({vis:e,queryResponseField:t}),this.type="pivot",this.align="center"}}class u extends o{constructor({vis:e,queryResponseField:t,can_pivot:n}){super({vis:e,queryResponseField:t}),this.type="measure",this.align="right",this.is_table_calculation=void 0!==t.is_table_calculation&&t.is_table_calculation,this.calculation_type=t.type,this.is_turtle=void 0!==t.is_turtle&&t.is_turtle,this.can_pivot=n}}class c{constructor({column:e,type:t,label:n=null,align:r="",cell_style:i=[],modelField:a={name:"",label:"",view:""},pivotData:o={}}={column:e,type:t,label:n,align:r,cell_style:i,modelField:a,pivotData:o}){this.id=[e.id,t].join("."),this.column=e,this.type=t,this.colspan=1,this.rowspan=1,this.headerRow=!0,this.cell_style=["headerCell"].concat(i),this.label=n,this.align=r||(this.column.modelField.is_numeric?"right":"left"),this.modelField=a,this.pivotData=o,a.type&&this.cell_style.push(a.type),a.is_table_calculation&&this.cell_style.push("calculation")}}class f{constructor({keys:e,values:t,types:n=[]}){if(e.length===t.length){this.keys=e,this.values=t,this.types=n;var r=[],i=[];this.values.forEach((e,t)=>{this.types[t]=void 0!==n[t]?n[t]:"line_item","line_item"===this.types[t]?(r.push(e),i.push(e)):"subtotal"===this.types[t]&&i.push(e)}),this.min_for_display=Math.min(...i),this.max_for_display=Math.max(...i),this.min=Math.min(...r),this.max=Math.max(...r),this.sum=r.reduce((e,t)=>e+t,0),this.count=r.length,this.avg=r.length>0?this.sum/r.length:null}else console.log("Could not construct series, arrays were of different length.")}}class h{constructor({column:e,row:t,sort_value:n,series:r}){this.column=e,this.row=t,this.sort_value=n,this.series=new f(r)}toString(){var e="";return this.series.keys.forEach((t,n)=>{e+=t+":";var r=""===this.column.modelField.value_format?this.series.values[n].toString():SSF.format(this.column.modelField.value_format,this.series.values[n]);e+=r+" "}),e}}class d{constructor({column:e,is_numeric:t,series:n}){this.column=e,this.is_numeric=t,this.series=new f(n)}}class p{constructor({value:e,rendered:t=null,html:n=null,links:r=[],cell_style:i=[],align:a="right",rowspan:o=1,colspan:l=1,rowid:s="",colid:u=""}={}){this.value=e,this.rendered=t,this.html=n,this.links=r,this.cell_style=["rowCell"].concat(i),this.align=a,this.rowspan=o,this.colspan=l,this.colid=u,this.rowid=s,this.id=u&&s?[u,s].join("."):null,null===this.value&&"∞"!==this.rendered&&(this.rendered="∅")}}class v{constructor(e="line_item"){this.id="",this.hide=!1,this.type=e,this.sort=[],this.data={}}sortArray(){return this.sort}}class m{constructor(e,t,n){this.id=e,this.vis=t,this.modelField=n,this.transposed=!1,this.idx=0,this.pos=0,this.levels=[],this.pivot_key="",this.unit=n.unit||"",this.hide=n.hide||!1,this.isVariance=!1,this.variance_type=null,this.pivoted=!1,this.isRowTotal=!1,this.super=!1,this.subtotal=!1,this.subtotal_data={},this.series=null,this.sort=[],this.colspans=[]}getHeaderCellLabel(e){var t=this.levels[e];if(null!==t.label)var n=t.label;else{n=t.modelField.label;var r=this.vis.config["heading|"+t.modelField.name],i=this.vis.config["label|"+t.modelField.name];if("heading"===t.type)return n=void 0!==r&&r||t.modelField.heading;"field"===t.type&&(n=this.vis.useShortName&&t.modelField.short_name||t.modelField.label,void 0!==i&&i!==this.modelField.label&&(n=i||n),this.isVariance&&(n=this.vis.groupVarianceColumns?2===this.vis.pivot_values.length?"absolute"===this.variance_type?n+" #":n+" %":"absolute"===this.variance_type?n+" Var #":n+" Var %":"absolute"===this.variance_type?"Var #":"Var %"),void 0!==this.vis.useViewName&&this.vis.useViewName&&(n=[this.modelField.view,n].join(" "))),"pivot"===t.type&&this.isVariance&&this.vis.groupVarianceColumns&&(n=2===this.vis.pivot_values.length?"Variance":"Var "+n)}return n}getHeaderCellLabelByType(e){for(var t=0;t<this.vis.headers.length;t++)if(e===this.vis.headers[t].type)return this.getHeaderCellLabel(t);return null}setHeaderCellLabels(){this.levels.forEach((e,t)=>{e.label=null===e.label?this.getHeaderCellLabel(t):e.label})}getHeaderData(){var e={};return this.modelField.vis.headers.forEach((t,n)=>{e[t.type]=this.levels[n]}),e}}const g={theme:{section:"Theme",type:"string",display:"select",label:"Theme",values:[{Traditional:"traditional"},{Looker:"looker"},{Contemporary:"contemporary"},{"Use custom theme":"custom"}],default:"traditional",order:1},customTheme:{section:"Theme",type:"string",label:"Load custom CSS from:",default:"",order:2},layout:{section:"Theme",type:"string",display:"select",label:"Layout",values:[{Even:"fixed"},{Auto:"auto"}],default:"fixed",order:3},minWidthForIndexColumns:{section:"Theme",type:"boolean",label:"Automatic column width on index",default:!0,order:3.5},headerFontSize:{section:"Theme",type:"number",display_size:"half",label:"Header Size",default:12,order:4},bodyFontSize:{section:"Theme",type:"number",display_size:"half",label:"Body Size",default:12,order:5},showTooltip:{section:"Theme",type:"boolean",display_size:"half",label:"Show tooltip",default:!0,order:6},showHighlight:{section:"Theme",type:"boolean",display_size:"half",label:"Show highlight",default:!0,order:7},columnOrder:{},rowSubtotals:{section:"Table",type:"boolean",label:"Row Subtotals",display_size:"half",default:!1,order:1},colSubtotals:{section:"Table",type:"boolean",label:"Col Subtotals",display_size:"half",default:!1,order:2},spanRows:{section:"Table",type:"boolean",label:"Merge Dims",display_size:"half",default:!0,order:3},spanCols:{section:"Table",type:"boolean",label:"Merge Headers",display_size:"half",default:!0,order:4},calculateOthers:{section:"Table",type:"boolean",label:"Calculate Others Row",default:!0,order:4.5},sortColumnsBy:{section:"Table",type:"string",display:"select",label:"Sort Columns By",values:[{Pivots:"pivots"},{Measures:"measures"}],default:"pivots",order:6},useViewName:{section:"Table",type:"boolean",label:"Include View Name",default:!1,order:7},useHeadings:{section:"Table",type:"boolean",label:"Use Headings",default:!1,order:8},useShortName:{section:"Table",type:"boolean",label:"Use Short Name (from model tags)",default:!1,order:9},useUnit:{section:"Table",type:"boolean",label:"Use Unit (when reporting in 000s)",default:!1,order:9.5},groupVarianceColumns:{section:"Table",type:"boolean",label:"Group Variance Columns",default:!1,order:10},genericLabelForSubtotals:{section:"Table",type:"boolean",label:"Label all subtotal rows as 'Subtotal'",default:!1,order:11},indexColumn:{section:"Dimensions",type:"boolean",label:"Use Last Field Only",default:!1,order:0},transposeTable:{section:"Table",type:"boolean",label:"Transpose Table",default:!1,order:100}};class _{constructor(e,t,n){this.visId="report_table",this.config=n,this.headers=[],this.dimensions=[],this.measures=[],this.columns=[],this.data=[],this.subtotals_data={},this.transposed_headers=[],this.transposed_columns=[],this.transposed_data=[],this.pivot_fields=[],this.pivot_values=void 0!==t.pivots?t.pivots:[],this.variances=[],this.column_series=[],this.firstVisibleDimension="",this.useIndexColumn=n.indexColumn||!1,this.useHeadings=n.useHeadings||!1,this.useShortName=n.useShortName||!1,this.useViewName=n.useViewName||!1,this.addRowSubtotals=n.rowSubtotals||!1,this.addSubtotalDepth=parseInt(n.subtotalDepth)||this.dimensions.length-1,this.addColSubtotals=n.colSubtotals||!1,this.spanRows=n.spanRows,this.spanCols=n.spanCols,this.sortColsBy=n.sortColumnsBy||"pivots",this.fieldLevel=0,this.groupVarianceColumns=n.groupVarianceColumns||!1,this.minWidthForIndexColumns=n.minWidthForIndexColumns||!1,this.showTooltip=n.showTooltip||!1,this.showHighlight=n.showHighlight||!1,this.genericLabelForSubtotals=n.genericLabelForSubtotals||!1,this.sorts=t.sorts,this.hasTotals=void 0!==t.totals_data,this.calculateOthers=void 0!==t.truncated&&(t.truncated&&n.calculateOthers),this.hasSubtotals=void 0!==t.subtotals_data,this.hasRowTotals=t.has_row_totals||!1,this.hasPivots=void 0!==t.pivots,this.hasSupers=void 0!==t.fields.supermeasure_like&&Boolean(t.fields.supermeasure_like.length),this.transposeTable=n.transposeTable||!1;this.addPivotsAndHeaders(t),this.addDimensions(t,0),this.addMeasures(t,0),this.checkVarianceCalculations(),this.useIndexColumn&&this.addIndexColumn(t),this.hasSubtotals&&this.checkSubtotalsData(t),this.addRows(e),this.addColumnSeries(),this.hasTotals&&this.buildTotals(t),this.spanRows&&this.setRowSpans(),this.addRowSubtotals&&this.addSubTotals(),console.log("table in progress",this),this.addColSubtotals&&2===this.pivot_fields.length&&this.addColumnSubTotals(),console.log("addColumnSubTotals() complete"),this.variances&&this.addVarianceColumns(),this.sortColumns(),this.columns.forEach(e=>e.setHeaderCellLabels()),this.spanCols&&this.setColSpans(),this.applyFormatting(),this.transposeTable&&(this.transposeDimensionsIntoHeaders(),this.transposeRowsIntoColumns(),this.transposeColumnsIntoRows()),this.validateConfig(),this.getTableColumnGroups()}static getCoreConfigOptions(){return g}getConfigOptions(){var e=g,t=[];return this.dimensions.forEach((n,r)=>{if(e["label|"+n.name]={section:"Dimensions",type:"string",label:n.label,default:n.label,order:10*r+1},e["heading|"+n.name]={section:"Dimensions",type:"string",label:"Heading",default:"",order:10*r+2},e["hide|"+n.name]={section:"Dimensions",type:"boolean",label:"Hide",display_size:"third",default:!1,order:10*r+3},r<this.dimensions.length-1){var i={};i[n.label]=(r+1).toString(),t.push(i)}}),e.subtotalDepth={section:"Table",type:"string",label:"Sub Total Depth",display:"select",values:t,default:"1",order:5},this.measures.forEach((t,n)=>{e["label|"+t.name]={section:"Measures",type:"string",label:t.label,default:t.label,order:100+10*n+1},e["heading|"+t.name]={section:"Measures",type:"string",label:"Heading for "+t.label,default:"",order:100+10*n+2},e["style|"+t.name]={section:"Measures",type:"string",label:"Style",display:"select",display_size:"third",values:[{Normal:"normal"},{"Black/Red":"black_red"},{Subtotal:"subtotal"},{Hidden:"hide"}],default:"normal",order:100+10*n+3},e["reportIn|"+t.name]={section:"Measures",type:"string",label:"Report In",display:"select",display_size:"third",values:[{"Absolute Figures":"1"},{Thousands:"1000"},{Millions:"1000000"},{Billions:"1000000000"}],default:"1",order:100+10*n+3.5},e["unit|"+t.name]={section:"Measures",type:"string",label:"Unit",display_size:"third",default:"",order:100+10*n+3.7};var r=[];if(t.can_pivot){var i=[];this.pivot_fields.forEach((e,t)=>{if(1===this.pivot_fields.length||1===t||this.config.colSubtotals){var n={};n["By "+e.label]=e.name,i.push(n)}}),r=r.concat(i)}this.measures.forEach((e,i)=>{var a=t.can_pivot===e.can_pivot||this.hasRowTotals&&!e.is_table_calculation;if(n!=i&&a){var o={};o["Vs. "+e.label]=e.name,r.push(o)}}),r.unshift({"(none)":"no_variance"}),e["comparison|"+t.name]={section:"Measures",type:"string",label:"Comparison",display:"select",values:r,default:"no_variance",order:100+10*n+5},e["switch|"+t.name]={section:"Measures",type:"boolean",label:"Switch",display_size:"third",default:!1,order:100+10*n+6},e["var_num|"+t.name]={section:"Measures",type:"boolean",label:"Var #",display_size:"third",default:!0,order:100+10*n+7},e["var_pct|"+t.name]={section:"Measures",type:"boolean",label:"Var %",display_size:"third",default:!1,order:100+10*n+8}}),e}addPivotsAndHeaders(e){e.fields.pivots.forEach((e,t)=>{var n=new s({vis:this,queryResponseField:e});this.pivot_fields.push(n),this.headers.push({type:"pivot"+t,modelField:n})});var t=this.useHeadings?[{type:"heading",modelField:{label:"(will be replaced by header for column)s"}}]:[];t.push({type:"field",modelField:{label:"(will be replaced by field for column)"}}),"pivots"===this.sortColsBy?this.headers.push(...t):this.headers.unshift(...t);for(var n=0;n<this.headers.length;n++)if("field"===!this.headers[n]){this.fieldLevel=n;break}}addDimensions(e,t){e.fields.dimension_like.forEach(e=>{var n=new l({vis:this,queryResponseField:e});n.hide=!!this.useIndexColumn||n.hide,this.dimensions.push(n);var r=new m(n.name,this,n);r.idx=t,r.sort.push({name:"section",value:0}),this.headers.forEach(e=>{switch(e.type){case"pivot0":case"pivot1":var i=new s({vis:this,queryResponseField:e.modelField}),a=new c({column:r,type:e.type,modelField:i});a.label="",r.levels.push(a),r.sort.push({name:e.type,value:0});break;case"heading":r.levels.push(new c({column:r,type:"heading",modelField:n}));break;case"field":r.levels.push(new c({column:r,type:"field",modelField:n})),r.sort.push({name:"col_idx",value:t})}}),this.columns.push(r),t+=10});for(var n=0;n<this.dimensions.length;n++){var r=this.dimensions[n];if(!r.hide){this.firstVisibleDimension=r.name;break}}}addMeasures(e,t){e.fields.measure_like.forEach(e=>{var t=new u({vis:this,queryResponseField:e,can_pivot:!0}),n=this.config["reportIn|"+e.name],r=this.config["unit|"+e.name];void 0!==n&&"1"!==n&&(t.value_format="#,##0",void 0!==r&&""!==r&&(t.unit=r)),this.measures.push(t)}),this.hasPivots?this.pivot_values.forEach(e=>{var n="$$$_row_total_$$$"===e.key;this.measures.forEach((r,i)=>{if(!n||n&&!r.is_table_calculation){var a=new m([e.key,r.name].join("."),this,r);a.pivoted=!n,a.isRowTotal=n,a.pivot_key=e.key,a.idx=t;var o=[],l=[];this.headers.forEach(t=>{switch(t.type){case"pivot0":case"pivot1":var i=n?"":e.metadata[t.modelField.name].rendered||e.metadata[t.modelField.name].value;n&&t.type.startsWith("pivot")&&t.type==="pivot"+(this.pivot_fields.length-1)&&(i="Row Total"),a.levels.push(new c({column:a,type:t.type,modelField:{label:i},pivotData:e})),l.push(e.sort_values[t.modelField.name]),a.pivoted?o.push({name:t.modelField.name,value:e.sort_values[t.modelField.name]}):o.push({name:t.modelField.name,value:0});break;case"heading":a.levels.push(new c({column:a,type:"heading",modelField:r}));break;case"field":a.levels.push(new c({column:a,type:"field",modelField:r}))}});var s=[];if(s.push({name:"section",value:n?2:1}),"measures"===this.sortColsBy&&s.push({name:"measure_idx",value:i}),2===this.pivot_fields.length)if(this.addColSubtotals)s=s.concat(o);else{var u=[];this.sorts.forEach(e=>{this.pivot_fields.forEach(t=>{t.name===e.name&&o.forEach(e=>{e.name===t.name&&u.push(e.name)})})}),s=u[0]===this.pivot_fields[0].name?s.concat(o):s.concat(o.reverse())}else s.push(o[0]);"pivots"===this.sortColsBy&&s.push({name:"measure_idx",value:i}),a.sort=s,this.columns.push(a),t+=10}})}):this.measures.forEach(e=>{var n=new m(e.name,this,e);n.sort.push({name:"section",value:1}),n.idx=t;try{void 0!==this.config.columnOrder[n.id]?n.pos=this.config.columnOrder[n.id]:n.pos=t}catch{n.pos=t}this.headers.forEach(t=>{switch(t.type){case"heading":n.levels.push(new c({column:n,type:"heading",modelField:e}));break;case"field":n.levels.push(new c({column:n,type:"field",modelField:e})),n.sort.push({name:"column.pos",value:n.pos})}}),this.columns.push(n),t+=10}),void 0!==e.fields.supermeasure_like&&e.fields.supermeasure_like.forEach(e=>{var n=new u({vis:this,queryResponseField:e,can_pivot:!1}),r=this.config["reportIn|"+e.name],i=this.config["unit|"+e.name];void 0!==r&&"1"!==r&&(n.value_format="#,##0",void 0!==i&&""!==i&&(n.unit=i)),this.measures.push(n);var a=new m(n.name,this,n);a.sort.push({name:"section",value:2}),this.headers.forEach(e=>{switch(e.type){case"pivot0":case"pivot1":a.levels.push(new c({column:a,type:e.type,modelField:{label:""}})),a.sort.push({name:e.type,value:0});break;case"heading":a.levels.push(new c({column:a,type:"heading",modelField:n}));break;case"field":a.levels.push(new c({column:a,type:"field",modelField:n})),a.sort.push({name:"col_idx",value:t})}}),a.idx=t,a.super=!0,this.columns.push(a),t+=10})}checkVarianceCalculations(){Object.keys(this.config).forEach(e=>{if(e.startsWith("comparison")){var t=e.split("|")[1],n=this.config[e],r=!1;this.measures.forEach(e=>{t===e.name&&(r=!0)});var i=!1;if([...this.measures.map(e=>e.name),...this.pivot_fields.map(e=>e.name)].forEach(e=>{n===e&&(i=!0)}),r&&i){if(this.pivot_fields.map(e=>e.name).includes(this.config[e]))var a="by_pivot";else a="no_variance"===this.config[e]?"no_variance":"vs_measure";if(void 0!==this.config["switch|"+t])if(this.config["switch|"+t])var o=!0;else o=!1;this.variances.push({baseline:t,comparison:this.config[e],type:a,reverse:o})}else r?this.config[e]="no_variance":delete this.config[e]}})}addIndexColumn(){var e=this.dimensions[this.dimensions.length-1],t=this.config["hide|"+e.name],n=new m("$$$_index_$$$",this,e);n.sort.push({name:"section",value:-1}),n.hide=!0===t&&t,this.headers.forEach(t=>{switch(t.type){case"pivot0":case"pivot1":var r=new s({vis:this,queryResponseField:t.modelField}),i=new c({column:n,type:t.type,modelField:r});i.label="",n.levels.push(i),n.sort.push({name:t.type,value:0});break;case"heading":n.levels.push(new c({column:n,type:"heading",modelField:e}));break;case"field":n.levels.push(new c({column:n,type:"field",modelField:e})),n.sort.push({name:n.id,value:0})}}),this.columns.push(n)}checkSubtotalsData(e){void 0!==e.subtotals_data[this.addSubtotalDepth]&&e.subtotals_data[this.addSubtotalDepth].forEach(e=>{var t=new v("subtotal");t.$$$__grouping__$$$=e.$$$__grouping__$$$;var n=["Subtotal"];t.$$$__grouping__$$$.forEach(t=>{n.push(e[t].value)}),t.id=n.join("|"),this.columns.forEach(n=>{t.data[n.id]=n.pivoted||n.isRowTotal?e[n.modelField.name][n.pivot_key]:e[n.id];var r=t.data[n.id];if(void 0!==r){void 0===r.cell_style?r.cell_style=["total","subtotal"]:r.cell_style=r.cell_style.concat(["total","subtotal"]),void 0!==n.modelField.style&&(r.cell_style=r.cell_style.concat(n.modelField.style)),null===r.value&&(r.rendered="");var a=this.config["reportIn|"+n.modelField.name];if(void 0!==a&&"1"!==a){var o=this.config.useUnit&&"#"!==n.modelField.unit?n.modelField.unit:"";r.html=null,r.value=Math.round(r.value/parseInt(a)),r.rendered=""===n.modelField.value_format?r.value.toString():o+i.a.format(n.modelField.value_format,r.value)}}}),this.subtotals_data[t.id]=t})}addRows(e){e.forEach((e,t)=>{var n=new v("line_item");if(n.id=this.dimensions.map(t=>e[t.name].value).join("|"),this.columns.forEach(t=>{var r=t.pivoted||t.isRowTotal?e[t.modelField.name][t.pivot_key]:e[t.id],a=new p({...r,cell_style:[t.modelField.type],colid:t.id,rowid:n.id});t.modelField.is_numeric?(a.cell_style.push("numeric"),a.align="right"):(a.cell_style.push("nonNumeric"),a.align="left"),void 0!==t.modelField.style&&(a.cell_style=a.cell_style.concat(t.modelField.style));var o=this.config["reportIn|"+t.modelField.name];if(void 0!==o&&"1"!==o){var l=this.config.useUnit&&"#"!==t.modelField.unit?t.modelField.unit:"";a.html=null,a.value=Math.round(a.value/parseInt(o)),a.rendered=""===t.modelField.value_format?a.value.toString():l+i.a.format(t.modelField.value_format,a.value)}if(t.modelField.is_turtle){var s=new h({column:t,row:n,sort_value:a.sort_value,series:{keys:n.data[t.id]._parsed.keys,values:n.data[t.id]._parsed.values}});a.value=s,a.rendered=s.toString()}n.data[t.id]=a}),this.useIndexColumn){var r=this.dimensions[this.dimensions.length-1].name,a=n.data[r];n.data.$$$_index_$$$=new p({value:a.value,rendered:a.rendered,html:a.html,cell_style:["singleIndex","dimension"],align:this.dimensions[this.dimensions.length-1].is_numeric?"right":"left",colid:"$$$_index_$$$",rowid:a.rowid})}n.sort=[{name:"section",value:0},{name:"unknown",value:0},{name:"original_row",value:t}],this.data.push(n)})}addColumnSeries(){this.columns.forEach(e=>{var t=[],n=[],r=[];this.data.forEach(i=>{t.push(i.id),n.push(i.data[e.id].value),r.push(i.type)});var i=new d({column:e,is_numeric:e.modelField.is_numeric,series:{keys:t,values:n,types:r}});e.series=i,this.column_series.push(i)})}buildTotals(e){var t=e.totals_data,n=new v("total");if(this.columns.forEach(e=>{if(n.id="Total","dimension"===e.modelField.type){if([this.firstVisibleDimension,"$$$_index_$$$"].includes(e.id))var r=1,a=this.useIndexColumn?1:this.dimensions.filter(e=>!e.hide).length;else r=-1,a=-1;n.data[e.id]=new p({value:"",cell_style:["total","dimension"],rowspan:r,colspan:a,colid:e.id,align:e.modelField.is_numeric?"right":"left",rowid:"Total"})}else r=1,a=1;if("measure"===e.modelField.type){var o=e.modelField.is_numeric?["total","numeric","measure"]:["total","nonNumeric","measure"],l=e.pivoted||e.isRowTotal?t[e.modelField.name][e.pivot_key]:t[e.id];void 0===(l=new p({...l,cell_style:o,rowspan:r,colspan:a,colid:e.id,align:e.modelField.is_numeric?"right":"left",rowid:"Total"})).rendered&&void 0!==l.html&&(l.rendered=this.getRenderedFromHtml(l));var s=this.config["reportIn|"+e.modelField.name];if(void 0!==s&&"1"!==s){var u=this.config.useUnit&&"#"!==e.modelField.unit?e.modelField.unit:"";l.html=void 0,l.value=Math.round(l.value/parseInt(s)),l.rendered=""===e.modelField.value_format?l.value.toString():u+i.a.format(e.modelField.value_format,l.value)}n.data[e.id]=l,void 0!==n.data[e.id].links&&n.data[e.id].links.forEach(e=>{e.type="measure_default"})}}),this.useIndexColumn?(n.data.$$$_index_$$$.value="TOTAL",n.data.$$$_index_$$$.align="left",n.data.$$$_index_$$$.colspan=this.dimensions.filter(e=>!e.hide).length):this.firstVisibleDimension&&(n.data[this.firstVisibleDimension].value="TOTAL",n.data[this.firstVisibleDimension].align="left"),n.sort=[{name:"section",value:1},{name:"unknown",value:0},{name:"original_row",value:0}],this.data.push(n),this.calculateOthers){var r=new v("line_item");r.id="Others",this.columns.forEach(e=>{var t=null,a=e.modelField.is_numeric?["numeric"]:["nonNumeric"],o=n.data[e.id];if("measure"===e.modelField.type?(t=["sum","count"].includes(e.modelField.calculation_type))?(t=o.value-e.series.series.sum,a.push("measure")):(t=(o.value+e.series.series.avg)/2,a=a.concat(["estimate","measure"]),["count","count_distinct"].includes(e.modelField.calculation_type)&&(t=Math.round(t))):a.push("dimension"),t){var l=""===e.modelField.value_format?t.toString():i.a.format(e.modelField.value_format,t);r.data[e.id]=new p({value:t,rendered:l,cell_style:a,align:e.modelField.is_numeric?"right":"left",colid:e.id,rowid:"Others"})}else r.data[e.id]=new p({rendered:"",cell_style:a,colid:e.id,rowid:"Others"})}),this.useIndexColumn?(r.data.$$$_index_$$$.value="Others",r.data.$$$_index_$$$.rendered="Others",r.data.$$$_index_$$$.align="left",r.data.$$$_index_$$$.cell_style.push("singleIndex")):this.firstVisibleDimension&&(r.data[this.firstVisibleDimension].value="Others",r.data[this.firstVisibleDimension].rendered="Others",r.data[this.firstVisibleDimension].align="left"),r.sort=[{name:"section",value:1},{name:"unknown",value:-1},{name:"original_row",value:-1}],this.data.push(r)}this.sortData()}setRowSpans(){var e,t=[],n={};e=this.data,(t=this.dimensions.filter(e=>!e.hide)).forEach(e=>{n[e.name]=1});for(var r=e.length-1;r>=0;r--){var i=e[r];if("line_item"===i.type)for(var a=0;a<t.length;a++){var o=t[a],l=i.data[o.name].value,s=r>0?e[r-1].data[o.name].value:null;if(!(r>0&&l===s)){for(var u=a;u<t.length;u++){var c=t[u];i.data[c.name].rowspan=n[c.name],i.data[c.name].rowspan>1&&i.data[c.name].cell_style.push("merged"),n[c.name]=1}break}i.data[o.name].rowspan=-1,i.data[o.name].colspan=-1,n[o.name]+=1}else t.forEach(e=>{n[e.name]=1})}}addSubTotals(){var e=this.addSubtotalDepth,t=[],n=[];this.data.forEach((r,i)=>{if("total"!==r.type){for(var a=[],o=0;o<e;o++){var l=this.dimensions[o].name;a.push(r.data[l].value)}a.join("|")!==n.join("|")&&(t.push(a),n=a),r.sort=[{name:"section",value:0},{name:"subtotal",value:t.length-1},{name:"original_row",value:i}]}"Others"===r.id&&"line_item"===r.type&&(r.hide=!0)}),t.forEach((e,t)=>{var n=new v("subtotal"),r=e.join("|")?e.join("|"):"Others";n.id=["Subtotal",r].join("|"),this.columns.forEach(r=>{if("dimension"===r.modelField.type){if([this.firstVisibleDimension,"$$$_index_$$$"].includes(r.id))var a=1,o=this.useIndexColumn?1:this.dimensions.filter(e=>!e.hide).length;else a=-1,o=-1;var l=r.modelField.is_numeric?["total","subtotal","numeric","dimension"]:["total","subtotal","nonNumeric","dimension"],s=new p({cell_style:l,align:r.modelField.is_numeric?"right":"left",rowspan:a,colspan:o,colid:r.id,rowid:n.id});"$$$_index_$$$"!==r.id&&r.id!==this.firstVisibleDimension||(this.genericLabelForSubtotals?(s.value="Subtotal",s.rendered="Subtotal"):(s.value=e.join(" | ")?e.join(" | "):"Others",s.rendered=s.value)),n.data[r.id]=s}if("measure"==r.modelField.type){l=r.modelField.is_numeric?["total","subtotal","numeric","measure"]:["total","subtotal","nonNumeric","measure"];var u=r.modelField.is_numeric?"right":"left";if(Object.entries(this.subtotals_data).length>0&&!n.id.startsWith("Subtotal|Others")){s=new p({...n.data[r.id],...this.subtotals_data[n.id].data[r.id],cell_style:l,align:u,colid:r.id,rowid:n.id});n.data[r.id]=s}else{var c=0,f=0,h="";if(this.data.forEach(e=>{if("line_item"==e.type&&e.sort[1].value==t){var n=e.data[r.id].value;Number.isFinite(n)&&(c+=n,f++)}}),"average"===r.modelField.calculation_type&&f>0&&(c/=f),c){var d=this.config.useUnit&&"#"!==r.modelField.unit?r.modelField.unit:"";h=""===r.modelField.value_format?c.toString():d+i.a.format(r.modelField.value_format,c)}"string"===r.modelField.calculation_type&&(c="",h="");s=new p({value:c,rendered:h,cell_style:l,align:u,colid:r.id,rowid:n.id});n.data[r.id]=s}}}),n.sort=[{name:"section",value:0},{name:"subtotal",value:t},{name:"original_row",value:9999}],this.data.push(n)}),this.sortData(),this.hasSubtotals=!0}addColumnSubTotals(){var e=[],t=[],n=this.pivot_fields[0].name;this.pivot_values.forEach(e=>{var r=e.data[n];null!==r&&t.push(r)}),(t=[...new Set(t)]).forEach(t=>{this.measures.forEach((n,r)=>{if(n.can_pivot){var i=new m(["$$$_subtotal_$$$",t,n.name].join("."),this,n);i.pivoted=!0,i.subtotal=!0,i.pivot_key=[t,"$$$_subtotal_$$$"].join("|"),i.subtotal_data={pivot:t,measure_idx:r,columns:[]},this.columns.forEach((e,r)=>{var a=null;for(r=0;r<e.levels.length;r++)if(e.levels[r].type.startsWith("pivot")){var o=parseInt(e.levels[r].type.slice(-1)),l=this.pivot_fields[o].name;void 0!==e.levels[r].pivotData.data&&(a=e.levels[r].pivotData.data[l]);break}e.pivoted&&a===t&&e.modelField.name===n.name&&i.subtotal_data.columns.push(e)}),e.push(i)}})}),e.forEach((e,t)=>{e.sort.push({name:"section",value:1}),this.headers.forEach((t,n)=>{switch(t.type){case"pivot0":console.log("subtotalColumn:",e);var r=e.subtotal_data.columns[0].levels[n].pivotData.sort_values[t.modelField.name];e.levels.push(new c({column:e,type:t.type,modelField:{name:t.modelField.name,label:e.subtotal_data.pivot}})),e.sort.push({name:t.modelField.name,value:r});break;case"pivot1":console.log("line1453"),e.levels.push(new c({column:e,type:t.type,modelField:{name:"subtotal",label:"Subtotal"}}));var i=this.sorts.find(e=>e.name===t.modelField.name);if(void 0===i||void 0===i.desc)var a=!1;else a=Boolean(i.desc);if(a)var o="string"==typeof this.pivot_values[0].sort_values[t.modelField.name]?"aaaaaaaa":Number.NEGATIVE_INFINITY;else o="string"==typeof this.pivot_values[0].sort_values[t.modelField.name]?"ZZZZZZZZ":Number.POSITIVE_INFINITY;e.sort.push({name:t.modelField.name,value:o});break;case"heading":e.levels.push(new c({column:e,type:"heading",modelField:e.modelField}));break;case"field":e.levels.push(new c({column:e,type:"field",modelField:e.modelField})),e.sort.push({name:"measure_idx",value:e.subtotal_data.measure_idx})}}),this.columns.push(e)}),this.data.forEach(t=>{e.forEach(e=>{var n=e.modelField.is_numeric?["subtotal","numeric","measure"]:["subtotal","nonNumeric","measure"],r=0;e.subtotal_data.columns.forEach(e=>{r+=t.data[e.id].value}),t.data[e.id]=new p({value:r,rendered:""===e.modelField.value_format?r.toString():i.a.format(e.modelField.value_format,r),cell_style:n,colid:e.id,rowid:t.id}),["subtotal","total"].includes(t.type)&&t.data[e.id].cell_style.push("total")})})}calculateVariance(e,t,n,r,a){this.data.forEach(o=>{var l=o.data[r.id].value,s=o.data[a.id].value;if("absolute"===n)var u=new p({value:l-s,rendered:""===e?(l-s).toString():i.a.format(e,l-s),cell_style:["numeric","measure","variance","varianceAbsolute"],colid:t,rowid:o.id});else{var c=(l-s)/Math.abs(s);if(isFinite(c))u=new p({value:c,rendered:i.a.format("#0.00%",c),cell_style:["numeric","measure","variance","variancePercent"],colid:t,rowid:o.id});else var u=new p({value:null,rendered:"∞",cell_style:["numeric","measure","variance","variancePercent"],colid:t,rowid:o.id})}"total"!=o.type&&"subtotal"!=o.type||u.cell_style.push("total"),"subtotal"===o.type&&u.cell_style.push("subtotal"),u.value<0&&u.cell_style.push("negative"),o.data[t]=u})}createVarianceColumn(e){if(this.config.colSubtotals||!e.variance.baseline.startsWith("$$$_subtotal_$$$")){var t=["$$$_variance_$$$",e.calc,e.variance.baseline,e.variance.comparison].join("|"),n=this.getColumnById(e.variance.baseline),r=this.getColumnById(e.variance.comparison),i=new m(t,this,n.modelField);if(i.isVariance=!0,"absolute"===e.calc){i.variance_type="absolute",i.idx=n.idx+1,i.pos=n.pos+1;var o=Object(a.cloneDeep)(n.sort);i.sort=[...o,{name:"variance_absolute",value:1}],i.hide=!this.config["var_num|"+n.modelField.name]}else{i.variance_type="percentage",i.idx=n.idx+2,i.pos=n.pos+2;o=Object(a.cloneDeep)(n.sort);i.sort=[...o,{name:"variance_percentage",value:2}],i.unit="%",i.hide=!this.config["var_pct|"+n.modelField.name]}void 0!==this.config.columnOrder[i.id]&&(i.pos=this.config.columnOrder[i.id]),i.pivoted=n.pivoted,i.super=n.super,i.pivot_key=n.pivot_key,this.groupVarianceColumns&&(i.sort[0].value=1.5),this.headers.forEach((e,t)=>{switch(e.type){case"pivot0":case"pivot1":var r=n.getHeaderCellLabelByType(e.type);if(this.groupVarianceColumns&&"pivot0"===e.type)r=2===this.pivot_values.length?"Variance":"Variance: "+r;var a=new c({column:i,type:e.type,modelField:{label:r}});i.levels[t]=a;break;case"heading":a=new c({column:i,type:"heading",modelField:n.modelField});i.levels[t]=a;break;case"field":a=new c({column:i,type:"field",modelField:n.modelField});i.levels[t]=a}}),this.columns.push(i),e.variance.reverse?this.calculateVariance(n.modelField.value_format,t,e.calc,r,n):this.calculateVariance(n.modelField.value_format,t,e.calc,n,r)}else console.log("Cannot calculate variance of column subtotals if subtotals disabled.")}addVarianceColumns(){var e=[],t=["absolute","percent"];Object.keys(this.variances).forEach(n=>{var r=this.variances[n];if("no_variance"!==r.comparison)if("vs_measure"===r.type)this.hasPivots?this.pivot_values.forEach(n=>{n.is_total||t.forEach(t=>{e.push({calc:t,variance:{baseline:[n.key,r.baseline].join("."),comparison:[n.key,r.comparison].join("."),reverse:r.reverse,type:r.type}})})}):t.forEach(t=>{e.push({variance:r,calc:t})});else if("by_pivot"===r.type)if(1===this.pivot_fields.length||this.pivot_fields[1].name===r.comparison)this.pivot_values.slice(1).forEach((n,i)=>{t.forEach(t=>{n.is_total||e.push({calc:t,variance:{baseline:[n.key,r.baseline].join("."),comparison:[this.pivot_values[i].key,r.baseline].join("."),reverse:r.reverse,type:r.type}})})});else{var i=[];this.pivot_values.forEach(e=>{if(!e.is_total){var t=e.data[this.pivot_fields[0].name];i.includes(t)||i.push(t)}}),i.slice(1).forEach((n,a)=>{t.forEach(t=>{e.push({calc:t,variance:{baseline:["$$$_subtotal_$$$",n,r.baseline].join("."),comparison:["$$$_subtotal_$$$",i[a],r.baseline].join("."),reverse:r.reverse,type:r.type}})})})}}),e.forEach(e=>{this.createVarianceColumn(e)})}compareSortArrays(e){return function(t,n){for(var r=Math.max(t.sort.length,n.sort.length),i=0;i<r;i++){var a=void 0!==t.sort[i].name?t.sort[i].name:"",o=e.sorts.find(e=>e.name===a),l=void 0!==o&&o.desc,s=void 0!==t.sort[i]?t.sort[i].value:0,u=void 0!==n.sort[i]?n.sort[i].value:0;if(l){if(s<u)return 1;if(s>u)return-1}else{if(s>u)return 1;if(s<u)return-1}}return-1}}sortData(){this.data.sort(this.compareSortArrays(this)),this.spanRows&&this.setRowSpans()}sortColumns(){this.columns.sort(this.compareSortArrays(this))}setColSpans(){var e=[],t=[],n={};this.columns.filter(e=>!e.hide).forEach(t=>{var n={id:t.id,data:t.getHeaderData()};e.push(n)}),(t=this.headers).forEach(e=>{n[e.type]=1});for(var r=e.length-1;r>=0;r--)for(var i=e[r],a=0;a<t.length;a++){var o=t[a],l=i.data[o.type].label,s=r>0?e[r-1].data[o.type].label:null;if(!(r>0&&l===s)){for(var u=a;u<t.length;u++){var c=t[u];i.data[c.type].colspan=n[c.type],i.data[c.type].colspan>1&&(i.data[c.type].align="center",i.data[c.type].cell_style.push("merged")),n[c.type]=1}break}i.data[o.type].colspan=-1,i.data[o.type].rowspan=-1,n[o.type]+=1}}applyFormatting(){this.columns.forEach(e=>{var t=this.config["style|"+e.modelField.name];if(void 0!==t)switch(t){case"black_red":this.data.forEach(t=>{t.data[e.id].value<0&&t.data[e.id].cell_style.push("negative")})}})}transposeDimensionsIntoHeaders(){this.transposed_headers=this.columns.filter(e=>"dimension"===e.modelField.type).filter(e=>!e.hide).map(e=>({type:"field",modelField:e.modelField}))}transposeRowsIntoColumns(){var e={align:"left",type:"transposed_table_index",is_table_calculation:!1};this.headers.forEach((t,n)=>{var r=new m(t.type,this,e);this.transposed_headers.forEach((e,t)=>{var i=this.columns[t].levels[n],a=new c({column:r,type:i.type,label:i.label,cell_style:i.cell_style,align:i.align,modelField:i.modelField});a.rowspan=i.colspan,a.colspan=i.rowspan,a.id=[i.modelField.name,i.type].join("."),a.cell_style.push("transposed"),a.colspan>0&&a.cell_style.push("merged"),r.levels.push(a)}),this.transposed_columns.push(r)});var t={align:"right",type:"transposed_table_measure",is_table_calculation:!1};this.data.forEach(e=>{var n=new m(e.id,this,t);this.transposed_headers.forEach(t=>{var r=this.useIndexColumn&&["subtotal","total"].includes(e.type)?"$$$_index_$$$":t.modelField.name,i=e.data[r],a=new c({column:n,type:t.type,label:""===i.rendered?i.rendered:i.rendered||i.value,align:"center",cell_style:i.cell_style});a.colspan=i.rowspan,a.rowspan=i.colspan,a.id=[i.colid,i.rowid].join("."),a.cell_style.push("transposed"),n.levels.push(a)}),this.transposed_columns.push(n)})}transposeColumnsIntoRows(){this.columns.filter(e=>"measure"===e.modelField.type).forEach(e=>{var t={};e.levels.forEach((n,r)=>{var i=new p({value:n.label,rendered:n.label,rowspan:n.colspan,colspan:n.rowspan,cell_style:["indexCell","transposed"],align:"left",colid:e.id,rowid:n.type});switch(n.type){case"pivot0":case"pivot1":i.cell_style.push("pivot");break;case"heading":case"field":var a=e.modelField.is_table_calculation?"calculation":"measure";i.cell_style.push(a)}i.rowspan>1&&i.cell_style.push("merged"),t[n.type]=i}),this.data.forEach(n=>{if(void 0!==n.data[e.id]){var r=n.data[e.id];t[n.id]=n.data[e.id],t[n.id].id=[r.colid,r.rowid].join("."),t[n.id].cell_style.push("transposed")}});var n=new v("line_item");n.id=e.id,n.modelField=e.modelField,n.hide=e.hide,n.data=t,this.transposed_data.push(n)})}validateConfig(){["traditional","looker","contemporary","custom"].includes(this.config.theme)||(this.config.theme="traditional"),["fixed","auto"].includes(this.config.layout)||(this.config.layout="fixed"),void 0===this.config.transposeTable&&(this.config.transposeTable=!1),Object.entries(this.config).forEach(e=>{if("false"===e[1]?e[1]=!1:"true"===e[1]&&(e[1]=!0),2===e[0].split("|").length){var[t,n]=e[0].split("|");if(["label","heading","hide","style","switch","var_num","var_pct","comparison"].includes(t)){var r=!1;this.dimensions.forEach(e=>{e.name===n&&(r=!0)}),this.measures.forEach(e=>{e.name===n&&(r=!0)}),r||delete this.config[e[0]]}}})}getColumnById(e){var t={};return this.columns.forEach(n=>{e===n.id&&(t=n)}),t}getRowById(e){var t={};return this.data.forEach(n=>{e===n.id&&(t=n)}),t}getMeasureByName(e){var t="";return this.measures.forEach(n=>{e===n.name&&(t=n)}),t}getRenderedFromHtml(e){var t=new DOMParser;if(void 0===e.html||["undefined",""].includes(e.html))n=e.value;else try{var n=t.parseFromString(e.html,"text/html").documentElement.textContent}catch(t){var n=e.html}return n}getHeaderTiers(){return this.transposeTable?this.transposed_headers:this.headers}getTableHeaderCells(e){return this.transposeTable?this.transposed_columns.filter(t=>t.levels[e].colspan>0):this.columns.filter(e=>!e.hide).filter(t=>t.levels[e].colspan>0)}getDataRows(){if(this.transposeTable)e=this.transposed_data.filter(e=>!e.hide);else var e=this.data.filter(e=>!e.hide);return e}getTableRowColumns(e){if(this.transposeTable)t=this.transposed_columns.filter(e=>!e.hide).filter(t=>e.data[t.id].rowspan>0);else var t=this.columns.filter(e=>!e.hide).filter(t=>e.data[t.id].rowspan>0);return t}moveColumns(e,t,n){var r=this.config;if(e!=t){var i=t-e,a=r.columnOrder;this.columns.forEach(n=>{"measure"!=n.modelField.type||n.super||(n.pos>=e&&n.pos<e+10?n.pos+=i:n.pos>=t&&n.pos<e?n.pos+=10:n.pos>=e+10&&n.pos<t+10&&(n.pos-=10),a[n.id]=n.pos)}),n(a)}}getSimpleJson(){var e=[];return this.data.forEach(t=>{if("line_item"===t.type){var n={};this.columns.forEach(e=>{n[e.id]=t.data[e.id].value}),e.push(n)}}),e}getTableColumnGroups(){var e=[],t=[],n=[];this.transposeTable?this.transposed_columns.forEach(r=>{"transposed_table_index"===r.modelField.type?e.push({id:r.id,type:"index"}):"transposed_table_measure"===r.modelField.type&&"Total"!==r.id?t.push({id:r.id,type:"dataCell"}):"transposed_table_measure"===r.modelField.type&&"Total"===r.id&&n.push({id:r.id,type:"dataCell"})}):this.columns.forEach(r=>{"dimension"!==r.modelField.type||r.hide?"measure"!==r.modelField.type||r.isRowTotal||r.super||r.hide?"measure"!==r.modelField.type||!r.isRowTotal&&!r.super||r.hide||n.push({id:r.id,type:"dataCell"}):t.push({id:r.id,type:"dataCell"}):e.push({id:r.id,type:"index"})});var r=[];return e.length>0&&r.push(e),t.length>0&&r.push(t),n.length>0&&r.push(n),r}getCellToolTip(e,t){var n="<table><tbody>",r=this.getRowById(e),i=this.getColumnById(t),a=i.modelField;if("total"===r.type)n+=['<tr class="',l="focus",'"><td><span style="float:left"><em>',o="TOTAL",':</em></td><td></span><span style="float:left"> ',u="","</span></td></tr>"].join("");else if(r.id.startsWith("Others")){n+=['<tr class="',l="focus",'"><td><span style="float:left"><em>',o="Others",':</em></td><td></span><span style="float:left"> ',u="","</span></td></tr>"].join("")}else if("subtotal"===r.type){var o="SUBTOTAL",l="focus",s=this.columns.filter(e=>!e.hide).filter(e=>"dimension"===e.modelField.type)[0],u=r.data[s.id].render||r.data[s.id].value;n+=['<tr class="',l,'"><td><span style="float:left"><em>',o,':</em></td><td></span><span style="float:left"> ',u,"</span></td></tr>"].join("")}else{this.columns.filter(e=>"$$$_index_$$$"!==e.id).filter(e=>"dimension"===e.modelField.type).forEach(e=>{var t=e.getHeaderCellLabelByType("field"),a=r.data[e.id].rendered||r.data[e.id].value,o=e.id===i.id?"focus":"";n+=['<tr class="',o,'"><td><span style="float:left"><em>',t,':</em></td><td></span><span style="float:left"> ',a,"</span></td></tr>"].join("")})}n+='<tr style="height:10px"></tr>';var c=!1,f="";this.columns.filter(e=>"measure"===e.modelField.type).filter(e=>e.modelField===a).forEach(e=>{if(e.isVariance||(f=e.getHeaderCellLabelByType("field")),!e.pivoted&&!e.isRowTotal||e.pivot_key===i.pivot_key){var t=e.getHeaderCellLabelByType("field"),a=e.id===i.id?"focus":"",o=r.data[e.id],l=o.rendered||o.value;if(o.html)l=(new DOMParser).parseFromString(o.html,"text/html").documentElement.textContent;o.cell_style.includes("estimate")&&(c=!0),n+=['<tr class="',a,'"><td><span style="float:left"><em>',t,':</em></td><td></span><span style="float:right"> ',l,"</span></td></tr>"].join("")}});var h=null,d=this.config["reportIn|"+i.modelField.name];return void 0!==d&&"1"!==d&&(h=f+" reported in "+{1e3:"000s",1e6:"Millions",1e9:"Billions"}[d]),(h||c)&&(n+='<tr style="height:10px"></tr>'),h&&(n+='<tr><td colspan=2><span style="color:darkgrey">'+h+".</span></td></tr>"),c&&(n+='<tr><td colspan=2><span style="color:red">Estimated figure due to query exceeding row limit.</span></td></tr>',n+='<tr><td colspan=2><span style="color:red">Consider increasing the row limit or using an alternative measure.</span></td></tr>'),n+="</tbody><table>"}}function y(){}var b=function(e){return null==e?y:function(){return this.querySelector(e)}};function w(){return[]}var x=function(e){return null==e?w:function(){return this.querySelectorAll(e)}},C=function(e){return function(){return this.matches(e)}},k=function(e){return new Array(e.length)};function E(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}E.prototype={constructor:E,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function $(e,t,n,r,i,a){for(var o,l=0,s=t.length,u=a.length;l<u;++l)(o=t[l])?(o.__data__=a[l],r[l]=o):n[l]=new E(e,a[l]);for(;l<s;++l)(o=t[l])&&(i[l]=o)}function A(e,t,n,r,i,a,o){var l,s,u,c={},f=t.length,h=a.length,d=new Array(f);for(l=0;l<f;++l)(s=t[l])&&(d[l]=u="$"+o.call(s,s.__data__,l,t),u in c?i[l]=s:c[u]=s);for(l=0;l<h;++l)(s=c[u="$"+o.call(e,a[l],l,a)])?(r[l]=s,s.__data__=a[l],c[u]=null):n[l]=new E(e,a[l]);for(l=0;l<f;++l)(s=t[l])&&c[d[l]]===s&&(i[l]=s)}function S(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var T="http://www.w3.org/1999/xhtml",F={svg:"http://www.w3.org/2000/svg",xhtml:T,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},M=function(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),F.hasOwnProperty(t)?{space:F[t],local:e}:e};function O(e){return function(){this.removeAttribute(e)}}function j(e){return function(){this.removeAttributeNS(e.space,e.local)}}function R(e,t){return function(){this.setAttribute(e,t)}}function N(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function I(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function D(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}var z=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView};function L(e){return function(){this.style.removeProperty(e)}}function B(e,t,n){return function(){this.style.setProperty(e,t,n)}}function H(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function P(e,t){return e.style.getPropertyValue(t)||z(e).getComputedStyle(e,null).getPropertyValue(t)}function V(e){return function(){delete this[e]}}function U(e,t){return function(){this[e]=t}}function q(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function W(e){return e.trim().split(/^|\s+/)}function G(e){return e.classList||new X(e)}function X(e){this._node=e,this._names=W(e.getAttribute("class")||"")}function Y(e,t){for(var n=G(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Z(e,t){for(var n=G(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function J(e){return function(){Y(this,e)}}function K(e){return function(){Z(this,e)}}function Q(e,t){return function(){(t.apply(this,arguments)?Y:Z)(this,e)}}X.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ee(){this.textContent=""}function te(e){return function(){this.textContent=e}}function ne(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function re(){this.innerHTML=""}function ie(e){return function(){this.innerHTML=e}}function ae(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function oe(){this.nextSibling&&this.parentNode.appendChild(this)}function le(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function se(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===T&&t.documentElement.namespaceURI===T?t.createElement(e):t.createElementNS(n,e)}}function ue(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}var ce=function(e){var t=M(e);return(t.local?ue:se)(t)};function fe(){return null}function he(){var e=this.parentNode;e&&e.removeChild(this)}function de(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function pe(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}var ve={},me=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(ve={mouseenter:"mouseover",mouseleave:"mouseout"}));function ge(e,t,n){return e=_e(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function _e(e,t,n){return function(r){var i=me;me=r;try{e.call(this,this.__data__,t,n)}finally{me=i}}}function ye(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function be(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,a=t.length;r<a;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?t.length=i:delete this.__on}}}function we(e,t,n){var r=ve.hasOwnProperty(e.type)?ge:_e;return function(i,a,o){var l,s=this.__on,u=r(t,a,o);if(s)for(var c=0,f=s.length;c<f;++c)if((l=s[c]).type===e.type&&l.name===e.name)return this.removeEventListener(l.type,l.listener,l.capture),this.addEventListener(l.type,l.listener=u,l.capture=n),void(l.value=t);this.addEventListener(e.type,u,n),l={type:e.type,name:e.name,value:t,listener:u,capture:n},s?s.push(l):this.__on=[l]}}function xe(e,t,n,r){var i=me;e.sourceEvent=me,me=e;try{return t.apply(n,r)}finally{me=i}}function Ce(e,t,n){var r=z(e),i=r.CustomEvent;"function"==typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function ke(e,t){return function(){return Ce(this,e,t)}}function Ee(e,t){return function(){return Ce(this,e,t.apply(this,arguments))}}var $e=[null];function Ae(e,t){this._groups=e,this._parents=t}function Se(){return new Ae([[document.documentElement]],$e)}Ae.prototype=Se.prototype={constructor:Ae,select:function(e){"function"!=typeof e&&(e=b(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o,l=t[i],s=l.length,u=r[i]=new Array(s),c=0;c<s;++c)(a=l[c])&&(o=e.call(a,a.__data__,c,l))&&("__data__"in a&&(o.__data__=a.__data__),u[c]=o);return new Ae(r,this._parents)},selectAll:function(e){"function"!=typeof e&&(e=x(e));for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o,l=t[a],s=l.length,u=0;u<s;++u)(o=l[u])&&(r.push(e.call(o,o.__data__,u,l)),i.push(o));return new Ae(r,i)},filter:function(e){"function"!=typeof e&&(e=C(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o=t[i],l=o.length,s=r[i]=[],u=0;u<l;++u)(a=o[u])&&e.call(a,a.__data__,u,o)&&s.push(a);return new Ae(r,this._parents)},data:function(e,t){if(!e)return p=new Array(this.size()),c=-1,this.each((function(e){p[++c]=e})),p;var n,r=t?A:$,i=this._parents,a=this._groups;"function"!=typeof e&&(n=e,e=function(){return n});for(var o=a.length,l=new Array(o),s=new Array(o),u=new Array(o),c=0;c<o;++c){var f=i[c],h=a[c],d=h.length,p=e.call(f,f&&f.__data__,c,i),v=p.length,m=s[c]=new Array(v),g=l[c]=new Array(v);r(f,h,m,g,u[c]=new Array(d),p,t);for(var _,y,b=0,w=0;b<v;++b)if(_=m[b]){for(b>=w&&(w=b+1);!(y=g[w])&&++w<v;);_._next=y||null}}return(l=new Ae(l,i))._enter=s,l._exit=u,l},enter:function(){return new Ae(this._enter||this._groups.map(k),this._parents)},exit:function(){return new Ae(this._exit||this._groups.map(k),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,a=this.exit();return r="function"==typeof e?e(r):r.append(e+""),null!=t&&(i=t(i)),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function(e){for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),l=0;l<a;++l)for(var s,u=t[l],c=n[l],f=u.length,h=o[l]=new Array(f),d=0;d<f;++d)(s=u[d]||c[d])&&(h[d]=s);for(;l<r;++l)o[l]=t[l];return new Ae(o,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=S);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,l=n[a],s=l.length,u=i[a]=new Array(s),c=0;c<s;++c)(o=l[c])&&(u[c]=o);u.sort(t)}return new Ae(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each((function(){e[++t]=this})),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){var e=0;return this.each((function(){++e})),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,a=t[n],o=0,l=a.length;o<l;++o)(i=a[o])&&e.call(i,i.__data__,o,a);return this},attr:function(e,t){var n=M(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?j:O:"function"==typeof t?n.local?D:I:n.local?N:R)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?L:"function"==typeof t?H:B)(e,t,null==n?"":n)):P(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?V:"function"==typeof t?q:U)(e,t)):this.node()[e]},classed:function(e,t){var n=W(e+"");if(arguments.length<2){for(var r=G(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?Q:t?J:K)(n,t))},text:function(e){return arguments.length?this.each(null==e?ee:("function"==typeof e?ne:te)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?re:("function"==typeof e?ae:ie)(e)):this.node().innerHTML},raise:function(){return this.each(oe)},lower:function(){return this.each(le)},append:function(e){var t="function"==typeof e?e:ce(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:ce(e),r=null==t?fe:"function"==typeof t?t:b(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(he)},clone:function(e){return this.select(e?pe:de)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,a=ye(e+""),o=a.length;if(!(arguments.length<2)){for(l=t?we:be,null==n&&(n=!1),r=0;r<o;++r)this.each(l(a[r],t,n));return this}var l=this.node().__on;if(l)for(var s,u=0,c=l.length;u<c;++u)for(r=0,s=l[u];r<o;++r)if((i=a[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(e,t){return this.each(("function"==typeof t?Ee:ke)(e,t))}};var Te=Se,Fe=function(e){return"string"==typeof e?new Ae([[document.querySelector(e)]],[document.documentElement]):new Ae([[e]],$e)},Me=function(e){return"string"==typeof e?new Ae([document.querySelectorAll(e)],[document.documentElement]):new Ae([null==e?[]:e],$e)},Oe={value:function(){}};function je(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new Re(r)}function Re(e){this._=e}function Ne(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function Ie(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function De(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Oe,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}Re.prototype=je.prototype={constructor:Re,on:function(e,t){var n,r=this._,i=Ne(e+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++a<o;)if(n=(e=i[a]).type)r[n]=De(r[n],e.name,t);else if(null==t)for(n in r)r[n]=De(r[n],e.name,null);return this}for(;++a<o;)if((n=(e=i[a]).type)&&(n=Ie(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Re(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,n=(r=this._[e]).length;a<n;++a)r[a].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};var ze,Le,Be=je,He=0,Pe=0,Ve=0,Ue=0,qe=0,We=0,Ge="object"==typeof performance&&performance.now?performance:Date,Xe="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ye(){return qe||(Xe(Ze),qe=Ge.now()+We)}function Ze(){qe=0}function Je(){this._call=this._time=this._next=null}function Ke(e,t,n){var r=new Je;return r.restart(e,t,n),r}function Qe(){qe=(Ue=Ge.now())+We,He=Pe=0;try{!function(){Ye(),++He;for(var e,t=ze;t;)(e=qe-t._time)>=0&&t._call.call(null,e),t=t._next;--He}()}finally{He=0,function(){var e,t,n=ze,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:ze=t);Le=e,tt(r)}(),qe=0}}function et(){var e=Ge.now(),t=e-Ue;t>1e3&&(We-=t,Ue=e)}function tt(e){He||(Pe&&(Pe=clearTimeout(Pe)),e-qe>24?(e<1/0&&(Pe=setTimeout(Qe,e-Ge.now()-We)),Ve&&(Ve=clearInterval(Ve))):(Ve||(Ue=Ge.now(),Ve=setInterval(et,1e3)),He=1,Xe(Qe)))}Je.prototype=Ke.prototype={constructor:Je,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?Ye():+n)+(null==t?0:+t),this._next||Le===this||(Le?Le._next=this:ze=this,Le=this),this._call=e,this._time=n,tt()},stop:function(){this._call&&(this._call=null,this._time=1/0,tt())}};var nt=function(e,t,n){var r=new Je;return t=null==t?0:+t,r.restart((function(n){r.stop(),e(n+t)}),t,n),r},rt=Be("start","end","cancel","interrupt"),it=[],at=function(e,t,n,r,i,a){var o=e.__transition;if(o){if(n in o)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function a(s){var u,c,f,h;if(1!==n.state)return l();for(u in i)if((h=i[u]).name===n.name){if(3===h.state)return nt(a);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete i[u]):+u<t&&(h.state=6,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete i[u])}if(nt((function(){3===n.state&&(n.state=4,n.timer.restart(o,n.delay,n.time),o(s))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(f=n.tween.length),u=0,c=-1;u<f;++u)(h=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(r[++c]=h);r.length=c+1}}function o(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=5,1),a=-1,o=r.length;++a<o;)r[a].call(e,i);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=Ke((function(e){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=e&&a(e-n.delay)}),0,n.time)}(e,n,{name:t,index:r,group:i,on:rt,tween:it,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})};function ot(e,t){var n=st(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function lt(e,t){var n=st(e,t);if(n.state>3)throw new Error("too late; already running");return n}function st(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}var ut,ct,ft,ht,dt=function(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}},pt=180/Math.PI,vt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},mt=function(e,t,n,r,i,a){var o,l,s;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(s=e*n+t*r)&&(n-=e*s,r-=t*s),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,s/=l),e*r<t*n&&(e=-e,t=-t,s=-s,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*pt,skewX:Math.atan(s)*pt,scaleX:o,scaleY:l}};function gt(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(a,o){var l=[],s=[];return a=e(a),o=e(o),function(e,r,i,a,o,l){if(e!==i||r!==a){var s=o.push("translate(",null,t,null,n);l.push({i:s-4,x:dt(e,i)},{i:s-2,x:dt(r,a)})}else(i||a)&&o.push("translate("+i+t+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,l,s),function(e,t,n,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:dt(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(a.rotate,o.rotate,l,s),function(e,t,n,a){e!==t?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:dt(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(a.skewX,o.skewX,l,s),function(e,t,n,r,a,o){if(e!==n||t!==r){var l=a.push(i(a)+"scale(",null,",",null,")");o.push({i:l-4,x:dt(e,n)},{i:l-2,x:dt(t,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,l,s),a=o=null,function(e){for(var t,n=-1,r=s.length;++n<r;)l[(t=s[n]).i]=t.x(e);return l.join("")}}}var _t=gt((function(e){return"none"===e?vt:(ut||(ut=document.createElement("DIV"),ct=document.documentElement,ft=document.defaultView),ut.style.transform=e,e=ft.getComputedStyle(ct.appendChild(ut),null).getPropertyValue("transform"),ct.removeChild(ut),e=e.slice(7,-1).split(","),mt(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}),"px, ","px)","deg)"),yt=gt((function(e){return null==e?vt:(ht||(ht=document.createElementNS("http://www.w3.org/2000/svg","g")),ht.setAttribute("transform",e),(e=ht.transform.baseVal.consolidate())?(e=e.matrix,mt(e.a,e.b,e.c,e.d,e.e,e.f)):vt)}),", ",")",")");function bt(e,t){var n,r;return function(){var i=lt(this,e),a=i.tween;if(a!==n)for(var o=0,l=(r=n=a).length;o<l;++o)if(r[o].name===t){(r=r.slice()).splice(o,1);break}i.tween=r}}function wt(e,t,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var a=lt(this,e),o=a.tween;if(o!==r){i=(r=o).slice();for(var l={name:t,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===t){i[s]=l;break}s===u&&i.push(l)}a.tween=i}}function xt(e,t,n){var r=e._id;return e.each((function(){var e=lt(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return st(e,r).value[t]}}var Ct=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function kt(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Et(){}var $t="\\s*([+-]?\\d+)\\s*",At="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",St="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Tt=/^#([0-9a-f]{3,8})$/,Ft=new RegExp("^rgb\\("+[$t,$t,$t]+"\\)$"),Mt=new RegExp("^rgb\\("+[St,St,St]+"\\)$"),Ot=new RegExp("^rgba\\("+[$t,$t,$t,At]+"\\)$"),jt=new RegExp("^rgba\\("+[St,St,St,At]+"\\)$"),Rt=new RegExp("^hsl\\("+[At,St,St]+"\\)$"),Nt=new RegExp("^hsla\\("+[At,St,St,At]+"\\)$"),It={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Dt(){return this.rgb().formatHex()}function zt(){return this.rgb().formatRgb()}function Lt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Tt.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Bt(t):3===n?new Ut(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Ht(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Ht(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Ft.exec(e))?new Ut(t[1],t[2],t[3],1):(t=Mt.exec(e))?new Ut(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Ot.exec(e))?Ht(t[1],t[2],t[3],t[4]):(t=jt.exec(e))?Ht(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Rt.exec(e))?Xt(t[1],t[2]/100,t[3]/100,1):(t=Nt.exec(e))?Xt(t[1],t[2]/100,t[3]/100,t[4]):It.hasOwnProperty(e)?Bt(It[e]):"transparent"===e?new Ut(NaN,NaN,NaN,0):null}function Bt(e){return new Ut(e>>16&255,e>>8&255,255&e,1)}function Ht(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ut(e,t,n,r)}function Pt(e){return e instanceof Et||(e=Lt(e)),e?new Ut((e=e.rgb()).r,e.g,e.b,e.opacity):new Ut}function Vt(e,t,n,r){return 1===arguments.length?Pt(e):new Ut(e,t,n,null==r?1:r)}function Ut(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function qt(){return"#"+Gt(this.r)+Gt(this.g)+Gt(this.b)}function Wt(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function Gt(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function Xt(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Zt(e,t,n,r)}function Yt(e){if(e instanceof Zt)return new Zt(e.h,e.s,e.l,e.opacity);if(e instanceof Et||(e=Lt(e)),!e)return new Zt;if(e instanceof Zt)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,l=a-i,s=(a+i)/2;return l?(o=t===a?(n-r)/l+6*(n<r):n===a?(r-t)/l+2:(t-n)/l+4,l/=s<.5?a+i:2-a-i,o*=60):l=s>0&&s<1?0:o,new Zt(o,l,s,e.opacity)}function Zt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Jt(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Kt(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}Ct(Et,Lt,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Dt,formatHex:Dt,formatHsl:function(){return Yt(this).formatHsl()},formatRgb:zt,toString:zt}),Ct(Ut,Vt,kt(Et,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Ut(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Ut(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qt,formatHex:qt,formatRgb:Wt,toString:Wt})),Ct(Zt,(function(e,t,n,r){return 1===arguments.length?Yt(e):new Zt(e,t,n,null==r?1:r)}),kt(Et,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Zt(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Zt(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ut(Jt(e>=240?e-240:e+120,i,r),Jt(e,i,r),Jt(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var Qt=function(e){return function(){return e}};function en(e,t){return function(n){return e+n*t}}function tn(e){return 1==(e=+e)?nn:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Qt(isNaN(t)?n:t)}}function nn(e,t){var n=t-e;return n?en(e,n):Qt(isNaN(e)?t:e)}var rn=function e(t){var n=tn(t);function r(e,t){var r=n((e=Vt(e)).r,(t=Vt(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=nn(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function an(e){return function(t){var n,r,i=t.length,a=new Array(i),o=new Array(i),l=new Array(i);for(n=0;n<i;++n)r=Vt(t[n]),a[n]=r.r||0,o[n]=r.g||0,l[n]=r.b||0;return a=e(a),o=e(o),l=e(l),r.opacity=1,function(e){return r.r=a(e),r.g=o(e),r.b=l(e),r+""}}}an((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,l=r<t-1?e[r+2]:2*a-i;return Kt((n-r/t)*t,o,i,a,l)}})),an((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],o=e[(r+1)%t],l=e[(r+2)%t];return Kt((n-r/t)*t,i,a,o,l)}}));var on=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ln=new RegExp(on.source,"g");var sn=function(e,t){var n,r,i,a=on.lastIndex=ln.lastIndex=0,o=-1,l=[],s=[];for(e+="",t+="";(n=on.exec(e))&&(r=ln.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(r=r[0])?l[o]?l[o]+=r:l[++o]=r:(l[++o]=null,s.push({i:o,x:dt(n,r)})),a=ln.lastIndex;return a<t.length&&(i=t.slice(a),l[o]?l[o]+=i:l[++o]=i),l.length<2?s[0]?function(e){return function(t){return e(t)+""}}(s[0].x):function(e){return function(){return e}}(t):(t=s.length,function(e){for(var n,r=0;r<t;++r)l[(n=s[r]).i]=n.x(e);return l.join("")})},un=function(e,t){var n;return("number"==typeof t?dt:t instanceof Lt?rn:(n=Lt(t))?(t=n,rn):sn)(e,t)};function cn(e){return function(){this.removeAttribute(e)}}function fn(e){return function(){this.removeAttributeNS(e.space,e.local)}}function hn(e,t,n){var r,i,a=n+"";return function(){var o=this.getAttribute(e);return o===a?null:o===r?i:i=t(r=o,n)}}function dn(e,t,n){var r,i,a=n+"";return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===r?i:i=t(r=o,n)}}function pn(e,t,n){var r,i,a;return function(){var o,l,s=n(this);if(null!=s)return(o=this.getAttribute(e))===(l=s+"")?null:o===r&&l===i?a:(i=l,a=t(r=o,s));this.removeAttribute(e)}}function vn(e,t,n){var r,i,a;return function(){var o,l,s=n(this);if(null!=s)return(o=this.getAttributeNS(e.space,e.local))===(l=s+"")?null:o===r&&l===i?a:(i=l,a=t(r=o,s));this.removeAttributeNS(e.space,e.local)}}function mn(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function gn(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function _n(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&gn(e,i)),n}return i._value=t,i}function yn(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&mn(e,i)),n}return i._value=t,i}function bn(e,t){return function(){ot(this,e).delay=+t.apply(this,arguments)}}function wn(e,t){return t=+t,function(){ot(this,e).delay=t}}function xn(e,t){return function(){lt(this,e).duration=+t.apply(this,arguments)}}function Cn(e,t){return t=+t,function(){lt(this,e).duration=t}}function kn(e,t){if("function"!=typeof t)throw new Error;return function(){lt(this,e).ease=t}}function En(e,t,n){var r,i,a=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?ot:lt;return function(){var o=a(this,e),l=o.on;l!==r&&(i=(r=l).copy()).on(t,n),o.on=i}}var $n=Te.prototype.constructor;function An(e){return function(){this.style.removeProperty(e)}}function Sn(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Tn(e,t,n){var r,i;function a(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&Sn(e,a,n)),r}return a._value=t,a}function Fn(e){return function(t){this.textContent=e.call(this,t)}}function Mn(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&Fn(r)),t}return r._value=e,r}var On=0;function jn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Rn(){return++On}var Nn=Te.prototype;jn.prototype=function(e){return Te().transition(e)}.prototype={constructor:jn,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=b(e));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var l,s,u=r[o],c=u.length,f=a[o]=new Array(c),h=0;h<c;++h)(l=u[h])&&(s=e.call(l,l.__data__,h,u))&&("__data__"in l&&(s.__data__=l.__data__),f[h]=s,at(f[h],t,n,h,f,st(l,n)));return new jn(a,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=x(e));for(var r=this._groups,i=r.length,a=[],o=[],l=0;l<i;++l)for(var s,u=r[l],c=u.length,f=0;f<c;++f)if(s=u[f]){for(var h,d=e.call(s,s.__data__,f,u),p=st(s,n),v=0,m=d.length;v<m;++v)(h=d[v])&&at(h,t,n,v,d,p);a.push(d),o.push(s)}return new jn(a,o,t,n)},filter:function(e){"function"!=typeof e&&(e=C(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o=t[i],l=o.length,s=r[i]=[],u=0;u<l;++u)(a=o[u])&&e.call(a,a.__data__,u,o)&&s.push(a);return new jn(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),l=0;l<a;++l)for(var s,u=t[l],c=n[l],f=u.length,h=o[l]=new Array(f),d=0;d<f;++d)(s=u[d]||c[d])&&(h[d]=s);for(;l<r;++l)o[l]=t[l];return new jn(o,this._parents,this._name,this._id)},selection:function(){return new $n(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=Rn(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,l=r[a],s=l.length,u=0;u<s;++u)if(o=l[u]){var c=st(o,t);at(o,e,n,u,l,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new jn(r,this._parents,e,n)},call:Nn.call,nodes:Nn.nodes,node:Nn.node,size:Nn.size,empty:Nn.empty,each:Nn.each,on:function(e,t){var n=this._id;return arguments.length<2?st(this.node(),n).on.on(e):this.each(En(n,e,t))},attr:function(e,t){var n=M(e),r="transform"===n?yt:un;return this.attrTween(e,"function"==typeof t?(n.local?vn:pn)(n,r,xt(this,"attr."+e,t)):null==t?(n.local?fn:cn)(n):(n.local?dn:hn)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=M(e);return this.tween(n,(r.local?_n:yn)(r,t))},style:function(e,t,n){var r="transform"==(e+="")?_t:un;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var a=P(this,e),o=(this.style.removeProperty(e),P(this,e));return a===o?null:a===n&&o===r?i:i=t(n=a,r=o)}}(e,r)).on("end.style."+e,An(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,i,a;return function(){var o=P(this,e),l=n(this),s=l+"";return null==l&&(this.style.removeProperty(e),s=l=P(this,e)),o===s?null:o===r&&s===i?a:(i=s,a=t(r=o,l))}}(e,r,xt(this,"style."+e,t))).each(function(e,t){var n,r,i,a,o="style."+t,l="end."+o;return function(){var s=lt(this,e),u=s.on,c=null==s.value[o]?a||(a=An(t)):void 0;u===n&&i===c||(r=(n=u).copy()).on(l,i=c),s.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,a=n+"";return function(){var o=P(this,e);return o===a?null:o===r?i:i=t(r=o,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,Tn(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(xt(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,Mn(e))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=st(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===e)return r.value;return null}return this.each((null==t?bt:wt)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?bn:wn)(t,e)):st(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?xn:Cn)(t,e)):st(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(kn(t,e)):st(this.node(),t).ease},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise((function(a,o){var l={value:o},s={value:function(){0==--i&&a()}};n.each((function(){var n=lt(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(l),t._.interrupt.push(l),t._.end.push(s)),n.on=t}))}))}};var In={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Dn(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return In.time=Ye(),In;return n}Te.prototype.interrupt=function(e){return this.each((function(){!function(e,t){var n,r,i,a=e.__transition,o=!0;if(a){for(i in t=null==t?null:t+"",a)(n=a[i]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete e.__transition}}(this,e)}))},Te.prototype.transition=function(e){var t,n;e instanceof jn?(t=e._id,e=e._name):(t=Rn(),(n=In).time=Ye(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,l=r[a],s=l.length,u=0;u<s;++u)(o=l[u])&&at(o,e,t,u,l,n||Dn(o,t));return new jn(r,this._parents,e,t)};var zn=function(){for(var e,t=me;e=t.sourceEvent;)t=e;return t},Ln=function(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]},Bn=function(e){var t=zn();return t.changedTouches&&(t=t.changedTouches[0]),Ln(e,t)},Hn=function(e,t,n){arguments.length<3&&(n=t,t=zn().changedTouches);for(var r,i=0,a=t?t.length:0;i<a;++i)if((r=t[i]).identifier===n)return Ln(e,r);return null};function Pn(){me.stopImmediatePropagation()}var Vn=function(){me.preventDefault(),me.stopImmediatePropagation()},Un=function(e){var t=e.document.documentElement,n=Fe(e).on("dragstart.drag",Vn,!0);"onselectstart"in t?n.on("selectstart.drag",Vn,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")};var qn=function(e){return function(){return e}};function Wn(e,t,n,r,i,a,o,l,s,u){this.target=e,this.type=t,this.subject=n,this.identifier=r,this.active=i,this.x=a,this.y=o,this.dx=l,this.dy=s,this._=u}function Gn(){return!me.ctrlKey&&!me.button}function Xn(){return this.parentNode}function Yn(e){return null==e?{x:me.x,y:me.y}:e}function Zn(){return navigator.maxTouchPoints||"ontouchstart"in this}Wn.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var Jn=function(){var e,t,n,r,i=Gn,a=Xn,o=Yn,l=Zn,s={},u=Be("start","drag","end"),c=0,f=0;function h(e){e.on("mousedown.drag",d).filter(l).on("touchstart.drag",m).on("touchmove.drag",g).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(){if(!r&&i.apply(this,arguments)){var o=y("mouse",a.apply(this,arguments),Bn,this,arguments);o&&(Fe(me.view).on("mousemove.drag",p,!0).on("mouseup.drag",v,!0),Un(me.view),Pn(),n=!1,e=me.clientX,t=me.clientY,o("start"))}}function p(){if(Vn(),!n){var r=me.clientX-e,i=me.clientY-t;n=r*r+i*i>f}s.mouse("drag")}function v(){var e,t,r,i;Fe(me.view).on("mousemove.drag mouseup.drag",null),e=me.view,t=n,r=e.document.documentElement,i=Fe(e).on("dragstart.drag",null),t&&(i.on("click.drag",Vn,!0),setTimeout((function(){i.on("click.drag",null)}),0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect),Vn(),s.mouse("end")}function m(){if(i.apply(this,arguments)){var e,t,n=me.changedTouches,r=a.apply(this,arguments),o=n.length;for(e=0;e<o;++e)(t=y(n[e].identifier,r,Hn,this,arguments))&&(Pn(),t("start"))}}function g(){var e,t,n=me.changedTouches,r=n.length;for(e=0;e<r;++e)(t=s[n[e].identifier])&&(Vn(),t("drag"))}function _(){var e,t,n=me.changedTouches,i=n.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),e=0;e<i;++e)(t=s[n[e].identifier])&&(Pn(),t("end"))}function y(e,t,n,r,i){var a,l,f,d=n(t,e),p=u.copy();if(xe(new Wn(h,"beforestart",a,e,c,d[0],d[1],0,0,p),(function(){return null!=(me.subject=a=o.apply(r,i))&&(l=a.x-d[0]||0,f=a.y-d[1]||0,!0)})))return function o(u){var v,m=d;switch(u){case"start":s[e]=o,v=c++;break;case"end":delete s[e],--c;case"drag":d=n(t,e),v=c}xe(new Wn(h,u,a,e,v,d[0]+l,d[1]+f,d[0]-m[0],d[1]-m[1],p),p.apply,p,[u,r,i])}}return h.filter=function(e){return arguments.length?(i="function"==typeof e?e:qn(!!e),h):i},h.container=function(e){return arguments.length?(a="function"==typeof e?e:qn(e),h):a},h.subject=function(e){return arguments.length?(o="function"==typeof e?e:qn(e),h):o},h.touchable=function(e){return arguments.length?(l="function"==typeof e?e:qn(!!e),h):l},h.on=function(){var e=u.on.apply(u,arguments);return e===u?h:e},h.clickDistance=function(e){return arguments.length?(f=(e=+e)*e,h):Math.sqrt(f)},h};const Kn={traditional:n(11),looker:n(13),contemporary:n(15),fixed:n(17),auto:n(19)},Qn=["https://fonts.googleapis.com/css?family=Noto+Sans+SC","https://fonts.googleapis.com/css?family=Noto+Sans+TC"],er=function(e){const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),document.getElementsByTagName("head")[0].appendChild(t)},tr=function(e,t,n,r){var i=null;const a=r.getBoundingClientRect(),o=a.x+a.width/2,l=a.y+a.height/2;(async function(){const e=document.getElementsByTagName("link");for(;e[0];)e[0].parentNode.removeChild(e[0]);Object.keys(Kn).forEach(async e=>await Kn[e].unuse())})().then(()=>{void 0!==e.customTheme&&e.customTheme&&"custom"===e.theme?er(e.customTheme):void 0!==Kn[e.theme]&&Kn[e.theme].use(),void 0!==Kn[e.layout]&&Kn[e.layout].use()});(async function(){const r=function(t,n=""){var i=(r.canvas||(r.canvas=document.createElement("canvas"))).getContext("2d");return i.font=n||e.bodyFontSize+"pt arial",i.measureText(t).width};var a=Fe("#visContainer").append("table").attr("id","reportTable").attr("class","reportTable").style("opacity",0),s=Jn().on("start",(e,n)=>{if(!t.has_pivots&&1===e.colspan){var r=parseFloat(me.x),i=parseFloat(me.y),a=e.column.getHeaderCellLabelByType("field");Fe("#tooltip").style("left",r+"px").style("top",i+"px").html(a),Fe("#tooltip").classed("hidden",!1)}}).on("drag",(e,n)=>{t.has_pivots||Fe("#tooltip").style("left",me.x+"px").style("top",me.y+"px")}).on("end",(e,r)=>{if(!t.has_pivots){Fe("#tooltip").classed("hidden",!0);var a=e.column,o=i.column,l=10*Math.floor(a.pos/10),s=10*Math.floor(o.pos/10);t.moveColumns(l,s,n)}});if(t.minWidthForIndexColumns){var u={};t.transposeTable?t.headers.forEach(n=>{var i="bold "+e.bodyFontSize+"pt arial",a=t.transposed_data.map(e=>e.data[n.type].rendered).reduce((e,t)=>Math.max(r(e,i),r(t,i)));u[n.type]=Math.ceil(a)}):t.column_series.filter(e=>!e.column.hide).filter(e=>"dimension"===e.column.modelField.type).forEach(e=>{var n=e.series.values.reduce((e,t)=>Math.max(r(e),r(t))),i=e.column.modelField.name;t.useIndexColumn&&(i="$$$_index_$$$",n+=15),u[i]=Math.ceil(n)})}a.selectAll("colgroup").data(t.getTableColumnGroups()).enter().append("colgroup").selectAll("col").data(e=>e).enter().append("col").attr("id",e=>["col",e.id].join("").replace(".","")).attr("span",1).style("width",e=>t.minWidthForIndexColumns&&"index"===e.type&&void 0!==u[e.id]?u[e.id]+"px":""),a.append("thead").selectAll("tr").data(t.getHeaderTiers()).enter().append("tr").selectAll("th").data((e,n)=>t.getTableHeaderCells(n).map(e=>e.levels[n])).enter().append("th").text(e=>e.label).attr("id",e=>e.id).attr("colspan",e=>e.colspan).attr("rowspan",e=>e.rowspan).attr("class",e=>{var t=["reportTable"];return void 0!==e.cell_style&&(t=t.concat(e.cell_style)),t.join(" ")}).style("text-align",e=>e.align).style("font-size",e.headerFontSize+"px").attr("draggable",!0).call(s).on("mouseover",e=>i=e).on("mouseout",()=>i=null),a.append("tbody").selectAll("tr").data(t.getDataRows()).enter().append("tr").on("mouseover",(function(){t.showHighlight&&this.classList.toggle("hover")})).on("mouseout",(function(){t.showHighlight&&this.classList.toggle("hover")})).selectAll("td").data(e=>t.getTableRowColumns(e).map(t=>e.data[t.id])).enter().append("td").text(e=>{var t="";if(Array.isArray(e.value))t=null!==e.rendered?e.rendered:e.value.join(" ");else if("object"==typeof e.value&&null!==e.value&&void 0!==e.value.series)t=null;else if(e.html){t=(new DOMParser).parseFromString(e.html,"text/html").documentElement.textContent}else t=e.rendered||""===e.rendered?e.rendered:e.value;return(t=String(t))?t.replace("-","‑"):t}).attr("rowspan",e=>e.rowspan).attr("colspan",e=>e.colspan).style("text-align",e=>e.align).style("font-size",e.bodyFontSize+"px").attr("class",e=>{var t=["reportTable"];return"object"==typeof e.value&&t.push("cellSeries"),void 0!==e.align&&t.push(e.align),void 0!==e.cell_style&&(t=t.concat(e.cell_style)),t.join(" ")}).on("mouseover",e=>{if(t.showHighlight){if(t.transposeTable)n=["col",e.rowid].join("").replace(".","");else var n=["col",e.colid].join("").replace(".","");document.getElementById(n).classList.toggle("hover")}if(t.showTooltip&&e.cell_style.includes("measure")){var r=me.clientX,i=me.clientY,a=t.getCellToolTip(e.rowid,e.colid);Fe("#tooltip").style("left",r+"px").style("top",i+"px").html(a),Fe("#tooltip").classed("hidden",!1)}}).on("mousemove",e=>{if(t.showTooltip&&e.cell_style.includes("measure")){var n=Fe("#tooltip"),r=me.clientX<o?me.pageX+10:me.pageX-n.node().getBoundingClientRect().width-10,i=me.clientY<l?me.pageY+10:me.pageY-n.node().getBoundingClientRect().height-10;n.style("left",r+"px").style("top",i+"px")}}).on("mouseout",e=>{if(t.showHighlight){if(t.transposeTable)n=["col",e.rowid].join("").replace(".","");else var n=["col",e.colid].join("").replace(".","");document.getElementById(n).classList.toggle("hover")}t.showTooltip&&e.cell_style.includes("measure")&&Fe("#tooltip").classed("hidden",!0)}).on("click",e=>{LookerCharts.Utils.openDrillMenu({links:e.links,event:me})})})().then(()=>{document.getElementById("reportTable").classList.add("reveal"),"animate"===e.customTheme?(document.getElementById("visSvg").classList.remove("hidden"),async function(){var t=document.getElementById("reportTable").clientWidth,n=document.getElementById("reportTable").clientHeight,r=[];Me("th").select((function(t,n){if(void 0!==t){var i=this.getBoundingClientRect();r.push({index:n,data:t,x:i.x-10,y:i.y-10,width:i.width,height:i.height,html:this.innerHTML,class:this.className+" rectElem animated",fontSize:e.headerFontSize,align:this.style.textAlign})}})),Me("td").select((function(t,n){if(void 0!==t){var i=this.getBoundingClientRect();r.push({index:n,data:t,x:i.x-10,y:i.y-10,width:i.width,height:i.height,html:this.innerHTML,class:this.className+" rectElem animated",fontSize:e.bodyFontSize,align:this.style.textAlign})}}));Fe("#visSvg").attr("width",t).attr("height",n).selectAll(".rectElem").data(r,e=>e.data.id).join(e=>e.append("div").attr("class",e=>e.class).style("opacity",.2).style("position","absolute").style("left",e=>e.x+"px").style("top",e=>-2e3).style("width",e=>e.width+"px").style("height",e=>e.height+"px").style("font-size",e=>e.fontSize+"px").style("text-align",e=>e.align).text(e=>e.html).call(e=>e.transition().duration(1e3).style("opacity",1).style("top",e=>e.y+"px")),e=>e.call(e=>e.transition().duration(1e3).attr("class",e=>e.class).style("opacity",1).style("left",e=>e.x+"px").style("top",e=>e.y+"px").style("width",e=>e.width+"px").style("height",e=>e.height+"px").style("font-size",e=>e.fontSize+"px").style("text-align",e=>e.align).text(e=>e.html)),e=>e.call(e=>e.transition().duration(500).style("opacity",0).remove()))}()):(document.getElementById("visSvg").classList.add("hidden"),document.getElementById("reportTable").style.opacity=1)})};looker.plugins.visualizations.add({options:function(){let e=_.getCoreConfigOptions();return e.theme.values.pop(),delete e.customTheme,e}(),create:function(e,t){this.svgContainer=Fe(e).append("div").attr("id","visSvg").attr("width",e.clientWidth).attr("height",e.clientHeight),this.tooltip=Fe(e).append("div").attr("id","tooltip").attr("class","hidden")},updateAsync:function(e,t,n,r,i,a){if(this.clearErrors(),r.fields.pivots.length>2)this.addError({title:"Max Two Pivots",message:"This visualization accepts no more than 2 pivot fields."});else{console.log("queryResponse",r);try{var o=document.querySelector("#visContainer");o.parentNode.removeChild(o)}catch(e){}this.container=Fe(t).append("div").attr("id","visContainer"),void 0===n.columnOrder&&this.trigger("updateConfig",[{columnOrder:{}}]);var l=new _(e,r,n);this.trigger("registerOptions",l.getConfigOptions()),tr(n,l,e=>{this.trigger("updateConfig",[{columnOrder:e}])},t),i.print&&Qn.forEach(e=>er(e)),console.log("dataTable",l),a()}}})}]);
//# sourceMappingURL=report_table.js.map